var mB=Object.defineProperty;var pB=(t,e,n)=>e in t?mB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Mx=(t,e,n)=>pB(t,typeof e!="symbol"?e+"":e,n);function gB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function es(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kx={exports:{}},Uf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN;function yB(){if(GN)return Uf;GN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Uf.Fragment=e,Uf.jsx=n,Uf.jsxs=n,Uf}var KN;function vB(){return KN||(KN=1,kx.exports=yB()),kx.exports}var y=vB(),Vx={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function bB(){if(YN)return We;YN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function N(F,X,J){this.props=F,this.context=X,this.refs=S,this.updater=J||A}N.prototype.isReactComponent={},N.prototype.setState=function(F,X){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,X,"setState")},N.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=N.prototype;function O(F,X,J){this.props=F,this.context=X,this.refs=S,this.updater=J||A}var L=O.prototype=new D;L.constructor=O,E(L,N.prototype),L.isPureReactComponent=!0;var V=Array.isArray;function U(){}var P={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function j(F,X,J){var ce=J.ref;return{$$typeof:t,type:F,key:X,ref:ce!==void 0?ce:null,props:J}}function q(F,X){return j(F.type,X,F.props)}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function $(F){var X={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(J){return X[J]})}var M=/\/+/g;function fe(F,X){return typeof F=="object"&&F!==null&&F.key!=null?$(""+F.key):X.toString(36)}function be(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(X){F.status==="pending"&&(F.status="fulfilled",F.value=X)},function(X){F.status==="pending"&&(F.status="rejected",F.reason=X)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Y(F,X,J,ce,Ae){var _e=typeof F;(_e==="undefined"||_e==="boolean")&&(F=null);var Ee=!1;if(F===null)Ee=!0;else switch(_e){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(F.$$typeof){case t:case e:Ee=!0;break;case m:return Ee=F._init,Y(Ee(F._payload),X,J,ce,Ae)}}if(Ee)return Ae=Ae(F),Ee=ce===""?"."+fe(F,0):ce,V(Ae)?(J="",Ee!=null&&(J=Ee.replace(M,"$&/")+"/"),Y(Ae,X,J,"",function(Ne){return Ne})):Ae!=null&&(k(Ae)&&(Ae=q(Ae,J+(Ae.key==null||F&&F.key===Ae.key?"":(""+Ae.key).replace(M,"$&/")+"/")+Ee)),X.push(Ae)),1;Ee=0;var Je=ce===""?".":ce+":";if(V(F))for(var le=0;le<F.length;le++)ce=F[le],_e=Je+fe(ce,le),Ee+=Y(ce,X,J,_e,Ae);else if(le=_(F),typeof le=="function")for(F=le.call(F),le=0;!(ce=F.next()).done;)ce=ce.value,_e=Je+fe(ce,le++),Ee+=Y(ce,X,J,_e,Ae);else if(_e==="object"){if(typeof F.then=="function")return Y(be(F),X,J,ce,Ae);throw X=String(F),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function H(F,X,J){if(F==null)return F;var ce=[],Ae=0;return Y(F,ce,"","",function(_e){return X.call(J,_e,Ae++)}),ce}function Q(F){if(F._status===-1){var X=F._result;X=X(),X.then(function(J){(F._status===0||F._status===-1)&&(F._status=1,F._result=J)},function(J){(F._status===0||F._status===-1)&&(F._status=2,F._result=J)}),F._status===-1&&(F._status=0,F._result=X)}if(F._status===1)return F._result.default;throw F._result}var ee=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},W={map:H,forEach:function(F,X,J){H(F,function(){X.apply(this,arguments)},J)},count:function(F){var X=0;return H(F,function(){X++}),X},toArray:function(F){return H(F,function(X){return X})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return We.Activity=p,We.Children=W,We.Component=N,We.Fragment=n,We.Profiler=i,We.PureComponent=O,We.StrictMode=r,We.Suspense=d,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,We.__COMPILER_RUNTIME={__proto__:null,c:function(F){return P.H.useMemoCache(F)}},We.cache=function(F){return function(){return F.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(F,X,J){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ce=E({},F.props),Ae=F.key;if(X!=null)for(_e in X.key!==void 0&&(Ae=""+X.key),X)!C.call(X,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&X.ref===void 0||(ce[_e]=X[_e]);var _e=arguments.length-2;if(_e===1)ce.children=J;else if(1<_e){for(var Ee=Array(_e),Je=0;Je<_e;Je++)Ee[Je]=arguments[Je+2];ce.children=Ee}return j(F.type,Ae,ce)},We.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},We.createElement=function(F,X,J){var ce,Ae={},_e=null;if(X!=null)for(ce in X.key!==void 0&&(_e=""+X.key),X)C.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ae[ce]=X[ce]);var Ee=arguments.length-2;if(Ee===1)Ae.children=J;else if(1<Ee){for(var Je=Array(Ee),le=0;le<Ee;le++)Je[le]=arguments[le+2];Ae.children=Je}if(F&&F.defaultProps)for(ce in Ee=F.defaultProps,Ee)Ae[ce]===void 0&&(Ae[ce]=Ee[ce]);return j(F,_e,Ae)},We.createRef=function(){return{current:null}},We.forwardRef=function(F){return{$$typeof:c,render:F}},We.isValidElement=k,We.lazy=function(F){return{$$typeof:m,_payload:{_status:-1,_result:F},_init:Q}},We.memo=function(F,X){return{$$typeof:f,type:F,compare:X===void 0?null:X}},We.startTransition=function(F){var X=P.T,J={};P.T=J;try{var ce=F(),Ae=P.S;Ae!==null&&Ae(J,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(U,ee)}catch(_e){ee(_e)}finally{X!==null&&J.types!==null&&(X.types=J.types),P.T=X}},We.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},We.use=function(F){return P.H.use(F)},We.useActionState=function(F,X,J){return P.H.useActionState(F,X,J)},We.useCallback=function(F,X){return P.H.useCallback(F,X)},We.useContext=function(F){return P.H.useContext(F)},We.useDebugValue=function(){},We.useDeferredValue=function(F,X){return P.H.useDeferredValue(F,X)},We.useEffect=function(F,X){return P.H.useEffect(F,X)},We.useEffectEvent=function(F){return P.H.useEffectEvent(F)},We.useId=function(){return P.H.useId()},We.useImperativeHandle=function(F,X,J){return P.H.useImperativeHandle(F,X,J)},We.useInsertionEffect=function(F,X){return P.H.useInsertionEffect(F,X)},We.useLayoutEffect=function(F,X){return P.H.useLayoutEffect(F,X)},We.useMemo=function(F,X){return P.H.useMemo(F,X)},We.useOptimistic=function(F,X){return P.H.useOptimistic(F,X)},We.useReducer=function(F,X,J){return P.H.useReducer(F,X,J)},We.useRef=function(F){return P.H.useRef(F)},We.useState=function(F){return P.H.useState(F)},We.useSyncExternalStore=function(F,X,J){return P.H.useSyncExternalStore(F,X,J)},We.useTransition=function(){return P.H.useTransition()},We.version="19.2.0",We}var WN;function xd(){return WN||(WN=1,Vx.exports=bB()),Vx.exports}var w=xd();const qt=es(w),xB=gB({__proto__:null,default:qt},[w]);var Lx={exports:{}},Bf={},zx={exports:{}},Ux={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN;function _B(){return XN||(XN=1,(function(t){function e(Y,H){var Q=Y.length;Y.push(H);e:for(;0<Q;){var ee=Q-1>>>1,W=Y[ee];if(0<i(W,H))Y[ee]=H,Y[Q]=W,Q=ee;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var H=Y[0],Q=Y.pop();if(Q!==H){Y[0]=Q;e:for(var ee=0,W=Y.length,F=W>>>1;ee<F;){var X=2*(ee+1)-1,J=Y[X],ce=X+1,Ae=Y[ce];if(0>i(J,Q))ce<W&&0>i(Ae,J)?(Y[ee]=Ae,Y[ce]=Q,ee=ce):(Y[ee]=J,Y[X]=Q,ee=X);else if(ce<W&&0>i(Ae,Q))Y[ee]=Ae,Y[ce]=Q,ee=ce;else break e}}return H}function i(Y,H){var Q=Y.sortIndex-H.sortIndex;return Q!==0?Q:Y.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,p=null,b=3,_=!1,A=!1,E=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function L(Y){for(var H=n(f);H!==null;){if(H.callback===null)r(f);else if(H.startTime<=Y)r(f),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(f)}}function V(Y){if(E=!1,L(Y),!A)if(n(d)!==null)A=!0,U||(U=!0,$());else{var H=n(f);H!==null&&be(V,H.startTime-Y)}}var U=!1,P=-1,C=5,j=-1;function q(){return S?!0:!(t.unstable_now()-j<C)}function k(){if(S=!1,U){var Y=t.unstable_now();j=Y;var H=!0;try{e:{A=!1,E&&(E=!1,D(P),P=-1),_=!0;var Q=b;try{t:{for(L(Y),p=n(d);p!==null&&!(p.expirationTime>Y&&q());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,b=p.priorityLevel;var W=ee(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof W=="function"){p.callback=W,L(Y),H=!0;break t}p===n(d)&&r(d),L(Y)}else r(d);p=n(d)}if(p!==null)H=!0;else{var F=n(f);F!==null&&be(V,F.startTime-Y),H=!1}}break e}finally{p=null,b=Q,_=!1}H=void 0}}finally{H?$():U=!1}}}var $;if(typeof O=="function")$=function(){O(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,fe=M.port2;M.port1.onmessage=k,$=function(){fe.postMessage(null)}}else $=function(){N(k,0)};function be(Y,H){P=N(function(){Y(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var Q=b;b=H;try{return Y()}finally{b=Q}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Y,H){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=b;b=Y;try{return H()}finally{b=Q}},t.unstable_scheduleCallback=function(Y,H,Q){var ee=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ee+Q:ee):Q=ee,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Q+W,Y={id:m++,callback:H,priorityLevel:Y,startTime:Q,expirationTime:W,sortIndex:-1},Q>ee?(Y.sortIndex=Q,e(f,Y),n(d)===null&&Y===n(f)&&(E?(D(P),P=-1):E=!0,be(V,Q-ee))):(Y.sortIndex=W,e(d,Y),A||_||(A=!0,U||(U=!0,$()))),Y},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(Y){var H=b;return function(){var Q=b;b=H;try{return Y.apply(this,arguments)}finally{b=Q}}}})(Ux)),Ux}var QN;function wB(){return QN||(QN=1,zx.exports=_B()),zx.exports}var Bx={exports:{}},yr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function EB(){if(ZN)return yr;ZN=1;var t=xd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,m)},yr.flushSync=function(d){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=m,r.d.f()}},yr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},yr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},yr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:_}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:b,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},yr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},yr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},yr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},yr.requestFormReset=function(d){r.d.r(d)},yr.unstable_batchedUpdates=function(d,f){return d(f)},yr.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},yr.useFormStatus=function(){return l.H.useHostTransitionStatus()},yr.version="19.2.0",yr}var JN;function SM(){if(JN)return Bx.exports;JN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bx.exports=EB(),Bx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function SB(){if(eC)return Bf;eC=1;var t=wB(),e=xd(),n=SM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return d(v),a;if(x===h)return d(v),o;x=x.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=x;else{for(var I=!1,z=v.child;z;){if(z===u){I=!0,u=v,h=x;break}if(z===h){I=!0,h=v,u=x;break}z=z.sibling}if(!I){for(z=x.child;z;){if(z===u){I=!0,u=x,h=v;break}if(z===h){I=!0,h=x,u=v;break}z=z.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=k&&a[k]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function fe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case N:return"Profiler";case S:return"StrictMode";case V:return"Suspense";case U:return"SuspenseList";case j:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case O:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case L:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return o=a.displayName||null,o!==null?o:fe(a.type)||"Memo";case C:o=a._payload,a=a._init;try{return fe(a(o))}catch{}}return null}var be=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ee=[],W=-1;function F(a){return{current:a}}function X(a){0>W||(a.current=ee[W],ee[W]=null,W--)}function J(a,o){W++,ee[W]=a.current,a.current=o}var ce=F(null),Ae=F(null),_e=F(null),Ee=F(null);function Je(a,o){switch(J(_e,o),J(Ae,a),J(ce,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?pN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=pN(o),a=gN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(ce),J(ce,a)}function le(){X(ce),X(Ae),X(_e)}function Ne(a){a.memoizedState!==null&&J(Ee,a);var o=ce.current,u=gN(o,a.type);o!==u&&(J(Ae,a),J(ce,u))}function He(a){Ae.current===a&&(X(ce),X(Ae)),Ee.current===a&&(X(Ee),kf._currentValue=Q)}var ye,wt;function ue(a){if(ye===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ye=o&&o[1]||"",wt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+a+wt}var xe=!1;function Te(a,o){if(!a||xe)return"";xe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(oe){var ae=oe}Reflect.construct(a,[],ge)}else{try{ge.call()}catch(oe){ae=oe}a.call(ge.prototype)}}else{try{throw Error()}catch(oe){ae=oe}(ge=a())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(oe){if(oe&&ae&&typeof oe.stack=="string")return[oe.stack,ae.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),I=x[0],z=x[1];if(I&&z){var G=I.split(`
`),ie=z.split(`
`);for(v=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;v<ie.length&&!ie[v].includes("DetermineComponentFrameRoot");)v++;if(h===G.length||v===ie.length)for(h=G.length-1,v=ie.length-1;1<=h&&0<=v&&G[h]!==ie[v];)v--;for(;1<=h&&0<=v;h--,v--)if(G[h]!==ie[v]){if(h!==1||v!==1)do if(h--,v--,0>v||G[h]!==ie[v]){var me=`
`+G[h].replace(" at new "," at ");return a.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",a.displayName)),me}while(1<=h&&0<=v);break}}}finally{xe=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?ue(u):""}function Ce(a,o){switch(a.tag){case 26:case 27:case 5:return ue(a.type);case 16:return ue("Lazy");case 13:return a.child!==o&&o!==null?ue("Suspense Fallback"):ue("Suspense");case 19:return ue("SuspenseList");case 0:case 15:return Te(a.type,!1);case 11:return Te(a.type.render,!1);case 1:return Te(a.type,!0);case 31:return ue("Activity");default:return""}}function ze(a){try{var o="",u=null;do o+=Ce(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Oe=Object.prototype.hasOwnProperty,Fe=t.unstable_scheduleCallback,dt=t.unstable_cancelCallback,vt=t.unstable_shouldYield,Wt=t.unstable_requestPaint,ht=t.unstable_now,rn=t.unstable_getCurrentPriorityLevel,an=t.unstable_ImmediatePriority,xn=t.unstable_UserBlockingPriority,Me=t.unstable_NormalPriority,Vt=t.unstable_LowPriority,hr=t.unstable_IdlePriority,mt=t.log,Fn=t.unstable_setDisableYieldValue,Et=null,Lt=null;function Ft(a){if(typeof mt=="function"&&Fn(a),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Et,a)}catch{}}var Pt=Math.clz32?Math.clz32:Vc,kc=Math.log,as=Math.LN2;function Vc(a){return a>>>=0,a===0?32:31-(kc(a)/as|0)|0}var Si=256,ss=262144,nt=4194304;function Xt(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Qt(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var v=0,x=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var z=h&134217727;return z!==0?(h=z&~x,h!==0?v=Xt(h):(I&=z,I!==0?v=Xt(I):u||(u=z&~a,u!==0&&(v=Xt(u))))):(z=h&~x,z!==0?v=Xt(z):I!==0?v=Xt(I):u||(u=h&~a,u!==0&&(v=Xt(u)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:v}function _n(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function mr(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var a=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),a}function dn(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Br(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function fn(a,o,u,h,v,x){var I=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var z=a.entanglements,G=a.expirationTimes,ie=a.hiddenUpdates;for(u=I&~u;0<u;){var me=31-Pt(u),ge=1<<me;z[me]=0,G[me]=-1;var ae=ie[me];if(ae!==null)for(ie[me]=null,me=0;me<ae.length;me++){var oe=ae[me];oe!==null&&(oe.lane&=-536870913)}u&=~ge}h!==0&&pr(a,h,0),x!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=x&~(I&~o))}function pr(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Pt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function gr(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Pt(u),v=1<<h;v&o|a[h]&o&&(a[h]|=o),u&=~v}}function Cr(a,o){var u=o&-o;return u=(u&42)!==0?1:ti(u),(u&(a.suspendedLanes|o))!==0?0:u}function ti(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Or(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ni(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:zN(a.type))}function tr(a,o){var u=H.p;try{return H.p=a,o()}finally{H.p=u}}var Rr=Math.random().toString(36).slice(2),wn="__reactFiber$"+Rr,Gn="__reactProps$"+Rr,ba="__reactContainer$"+Rr,Lc="__reactEvents$"+Rr,B0="__reactListeners$"+Rr,zm="__reactHandles$"+Rr,Um="__reactResources$"+Rr,xa="__reactMarker$"+Rr;function zc(a){delete a[wn],delete a[Gn],delete a[Lc],delete a[B0],delete a[zm]}function _a(a){var o=a[wn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[ba]||u[wn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=EN(a);a!==null;){if(u=a[wn])return u;a=EN(a)}return o}a=u,u=a.parentNode}return null}function Ai(a){if(a=a[wn]||a[ba]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ri(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function wa(a){var o=a[Um];return o||(o=a[Um]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function En(a){a[xa]=!0}var qd=new Set,$d={};function Ea(a,o){Sa(a,o),Sa(a+"Capture",o)}function Sa(a,o){for($d[a]=o,a=0;a<o.length;a++)qd.add(o[a])}var Fd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hd={},Gd={};function Bm(a){return Oe.call(Gd,a)?!0:Oe.call(Hd,a)?!1:Fd.test(a)?Gd[a]=!0:(Hd[a]=!0,!1)}function Uc(a,o,u){if(Bm(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ii(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Sn(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function Kn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function eo(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Kd(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,x=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(I){u=""+I,x.call(this,I)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function St(a){if(!a._valueTracker){var o=eo(a)?"checked":"value";a._valueTracker=Kd(a,o,""+a[o])}}function yl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=eo(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function Aa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var vl=/[\n"\\]/g;function qr(a){return a.replace(vl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Bc(a,o,u,h,v,x,I,z){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),o!=null?I==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Kn(o)):a.value!==""+Kn(o)&&(a.value=""+Kn(o)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),o!=null?Yd(a,I,Kn(o)):u!=null?Yd(a,I,Kn(u)):h!=null&&a.removeAttribute("value"),v==null&&x!=null&&(a.defaultChecked=!!x),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.name=""+Kn(z):a.removeAttribute("name")}function qm(a,o,u,h,v,x,I,z){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){St(a);return}u=u!=null?""+Kn(u):"",o=o!=null?""+Kn(o):u,z||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=z?a.checked:!!h,a.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),St(a)}function Yd(a,o,u){o==="number"&&Aa(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function to(a,o,u,h){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&h&&(a[u].defaultSelected=!0)}else{for(u=""+Kn(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function $m(a,o,u){if(o!=null&&(o=""+Kn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Kn(u):""}function no(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(be(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=Kn(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),St(a)}function $r(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Fm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||Fm.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Xd(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&u[v]!==h&&Wd(a,v,h)}else for(var x in o)o.hasOwnProperty(x)&&Wd(a,x,o[x])}function qc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ro=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $c(a){return ro.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ea(){}var Qd=null;function Ti(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var io=null,Ta=null;function bl(a){var o=Ai(a);if(o&&(a=o.stateNode)){var u=a[Gn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Bc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+qr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var v=h[Gn]||null;if(!v)throw Error(r(90));Bc(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&yl(h)}break e;case"textarea":$m(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&to(a,!!u.multiple,o,!1)}}}var Fc=!1;function ao(a,o,u){if(Fc)return a(o,u);Fc=!0;try{var h=a(o);return h}finally{if(Fc=!1,(io!==null||Ta!==null)&&(Lp(),io&&(o=io,a=Ta,Ta=io=null,bl(o),a)))for(o=0;o<a.length;o++)bl(a[o])}}function ta(a,o){var u=a.stateNode;if(u===null)return null;var h=u[Gn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=!1;if(Ii)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){xl=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{xl=!1}var Ia=null,Zd=null,_l=null;function Jd(){if(_l)return _l;var a,o=Zd,u=o.length,h,v="value"in Ia?Ia.value:Ia.textContent,x=v.length;for(a=0;a<u&&o[a]===v[a];a++);var I=u-a;for(h=1;h<=I&&o[u-h]===v[x-h];h++);return _l=v.slice(a,1<h?1-h:void 0)}function wl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function os(){return!0}function na(){return!1}function nr(a){function o(u,h,v,x,I){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(u=a[z],this[z]=u?u(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?os:na,this.isPropagationStopped=na,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),o}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=nr(ls),so=p({},ls,{view:0,detail:0}),ef=nr(so),oo,Hc,Ca,Gc=p({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ca&&(Ca&&a.type==="mousemove"?(oo=a.screenX-Ca.screenX,Hc=a.screenY-Ca.screenY):Hc=oo=0,Ca=a),oo)},movementY:function(a){return"movementY"in a?a.movementY:Hc}}),tf=nr(Gc),El=p({},Gc,{dataTransfer:0}),Gm=nr(El),Km=p({},so,{relatedTarget:0}),Sl=nr(Km),nf=p({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Ym=nr(nf),Kc=p({},ls,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Wm=nr(Kc),Xm=p({},ls,{data:0}),Oa=nr(Xm),Qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Jm[a])?!!o[a]:!1}function lo(){return ep}var Pr=p({},so,{key:function(a){if(a.key){var o=Qm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=wl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Zm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(a){return a.type==="keypress"?wl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?wl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),tp=nr(Pr),np=p({},Gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=nr(np),g=p({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),T=nr(g),R=p({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=nr(R),ne=p({},Gc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),se=nr(ne),Se=p({},ls,{newState:0,oldState:0}),Xe=nr(Se),hn=[9,13,27,32],bt=Ii&&"CompositionEvent"in window,Zt=null;Ii&&"documentMode"in document&&(Zt=document.documentMode);var Ni=Ii&&"TextEvent"in window&&!Zt,Ra=Ii&&(!bt||Zt&&8<Zt&&11>=Zt),ra=" ",ia=!1;function Al(a,o){switch(a){case"keyup":return hn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Wc=!1;function Lz(a,o){switch(a){case"compositionend":return Yc(o);case"keypress":return o.which!==32?null:(ia=!0,ra);case"textInput":return a=o.data,a===ra&&ia?null:a;default:return null}}function zz(a,o){if(Wc)return a==="compositionend"||!bt&&Al(a,o)?(a=Jd(),_l=Zd=Ia=null,Wc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ra&&o.locale!=="ko"?null:o.data;default:return null}}var Uz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TT(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Uz[a.type]:o==="textarea"}function IT(a,o,u,h){io?Ta?Ta.push(h):Ta=[h]:io=h,o=Hp(o,"onChange"),0<o.length&&(u=new Na("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var rf=null,af=null;function Bz(a){cN(a,0)}function rp(a){var o=ri(a);if(yl(o))return a}function NT(a,o){if(a==="change")return o}var CT=!1;if(Ii){var q0;if(Ii){var $0="oninput"in document;if(!$0){var OT=document.createElement("div");OT.setAttribute("oninput","return;"),$0=typeof OT.oninput=="function"}q0=$0}else q0=!1;CT=q0&&(!document.documentMode||9<document.documentMode)}function RT(){rf&&(rf.detachEvent("onpropertychange",PT),af=rf=null)}function PT(a){if(a.propertyName==="value"&&rp(af)){var o=[];IT(o,af,a,Ti(a)),ao(Bz,o)}}function qz(a,o,u){a==="focusin"?(RT(),rf=o,af=u,rf.attachEvent("onpropertychange",PT)):a==="focusout"&&RT()}function $z(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return rp(af)}function Fz(a,o){if(a==="click")return rp(o)}function Hz(a,o){if(a==="input"||a==="change")return rp(o)}function Gz(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ai=typeof Object.is=="function"?Object.is:Gz;function sf(a,o){if(ai(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!Oe.call(o,v)||!ai(a[v],o[v]))return!1}return!0}function DT(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function jT(a,o){var u=DT(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=DT(u)}}function MT(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?MT(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function kT(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Aa(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Aa(a.document)}return o}function F0(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Kz=Ii&&"documentMode"in document&&11>=document.documentMode,Xc=null,H0=null,of=null,G0=!1;function VT(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;G0||Xc==null||Xc!==Aa(h)||(h=Xc,"selectionStart"in h&&F0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),of&&sf(of,h)||(of=h,h=Hp(H0,"onSelect"),0<h.length&&(o=new Na("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=Xc)))}function Tl(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Qc={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionrun:Tl("Transition","TransitionRun"),transitionstart:Tl("Transition","TransitionStart"),transitioncancel:Tl("Transition","TransitionCancel"),transitionend:Tl("Transition","TransitionEnd")},K0={},LT={};Ii&&(LT=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function Il(a){if(K0[a])return K0[a];if(!Qc[a])return a;var o=Qc[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in LT)return K0[a]=o[u];return a}var zT=Il("animationend"),UT=Il("animationiteration"),BT=Il("animationstart"),Yz=Il("transitionrun"),Wz=Il("transitionstart"),Xz=Il("transitioncancel"),qT=Il("transitionend"),$T=new Map,Y0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Y0.push("scrollEnd");function aa(a,o){$T.set(a,o),Ea(o,[a])}var ip=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ci=[],Zc=0,W0=0;function ap(){for(var a=Zc,o=W0=Zc=0;o<a;){var u=Ci[o];Ci[o++]=null;var h=Ci[o];Ci[o++]=null;var v=Ci[o];Ci[o++]=null;var x=Ci[o];if(Ci[o++]=null,h!==null&&v!==null){var I=h.pending;I===null?v.next=v:(v.next=I.next,I.next=v),h.pending=v}x!==0&&FT(u,v,x)}}function sp(a,o,u,h){Ci[Zc++]=a,Ci[Zc++]=o,Ci[Zc++]=u,Ci[Zc++]=h,W0|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function X0(a,o,u,h){return sp(a,o,u,h),op(a)}function Nl(a,o){return sp(a,null,null,o),op(a)}function FT(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var v=!1,x=a.return;x!==null;)x.childLanes|=u,h=x.alternate,h!==null&&(h.childLanes|=u),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(v=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,v&&o!==null&&(v=31-Pt(u),a=x.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=u|536870912),x):null}function op(a){if(50<Cf)throw Cf=0,ax=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Jc={};function Qz(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(a,o,u,h){return new Qz(a,o,u,h)}function Q0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function us(a,o){var u=a.alternate;return u===null?(u=si(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function HT(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function lp(a,o,u,h,v,x){var I=0;if(h=a,typeof a=="function")Q0(a)&&(I=1);else if(typeof a=="string")I=nB(a,u,ce.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case j:return a=si(31,u,o,v),a.elementType=j,a.lanes=x,a;case E:return Cl(u.children,v,x,o);case S:I=8,v|=24;break;case N:return a=si(12,u,o,v|2),a.elementType=N,a.lanes=x,a;case V:return a=si(13,u,o,v),a.elementType=V,a.lanes=x,a;case U:return a=si(19,u,o,v),a.elementType=U,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:I=10;break e;case D:I=9;break e;case L:I=11;break e;case P:I=14;break e;case C:I=16,h=null;break e}I=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=si(I,u,o,v),o.elementType=a,o.type=h,o.lanes=x,o}function Cl(a,o,u,h){return a=si(7,a,h,o),a.lanes=u,a}function Z0(a,o,u){return a=si(6,a,null,o),a.lanes=u,a}function GT(a){var o=si(18,null,null,0);return o.stateNode=a,o}function J0(a,o,u){return o=si(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var KT=new WeakMap;function Oi(a,o){if(typeof a=="object"&&a!==null){var u=KT.get(a);return u!==void 0?u:(o={value:a,source:o,stack:ze(o)},KT.set(a,o),o)}return{value:a,source:o,stack:ze(o)}}var eu=[],tu=0,cp=null,lf=0,Ri=[],Pi=0,co=null,Pa=1,Da="";function ds(a,o){eu[tu++]=lf,eu[tu++]=cp,cp=a,lf=o}function YT(a,o,u){Ri[Pi++]=Pa,Ri[Pi++]=Da,Ri[Pi++]=co,co=a;var h=Pa;a=Da;var v=32-Pt(h)-1;h&=~(1<<v),u+=1;var x=32-Pt(o)+v;if(30<x){var I=v-v%5;x=(h&(1<<I)-1).toString(32),h>>=I,v-=I,Pa=1<<32-Pt(o)+v|u<<v|h,Da=x+a}else Pa=1<<x|u<<v|h,Da=a}function eb(a){a.return!==null&&(ds(a,1),YT(a,1,0))}function tb(a){for(;a===cp;)cp=eu[--tu],eu[tu]=null,lf=eu[--tu],eu[tu]=null;for(;a===co;)co=Ri[--Pi],Ri[Pi]=null,Da=Ri[--Pi],Ri[Pi]=null,Pa=Ri[--Pi],Ri[Pi]=null}function WT(a,o){Ri[Pi++]=Pa,Ri[Pi++]=Da,Ri[Pi++]=co,Pa=o.id,Da=o.overflow,co=a}var rr=null,Ht=null,ct=!1,uo=null,Di=!1,nb=Error(r(519));function fo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cf(Oi(o,a)),nb}function XT(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[wn]=a,o[Gn]=h,u){case"dialog":it("cancel",o),it("close",o);break;case"iframe":case"object":case"embed":it("load",o);break;case"video":case"audio":for(u=0;u<Rf.length;u++)it(Rf[u],o);break;case"source":it("error",o);break;case"img":case"image":case"link":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"input":it("invalid",o),qm(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":it("invalid",o);break;case"textarea":it("invalid",o),no(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||hN(o.textContent,u)?(h.popover!=null&&(it("beforetoggle",o),it("toggle",o)),h.onScroll!=null&&it("scroll",o),h.onScrollEnd!=null&&it("scrollend",o),h.onClick!=null&&(o.onclick=ea),o=!0):o=!1,o||fo(a,!0)}function QT(a){for(rr=a.return;rr;)switch(rr.tag){case 5:case 31:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:rr=rr.return}}function nu(a){if(a!==rr)return!1;if(!ct)return QT(a),ct=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||xx(a.type,a.memoizedProps)),u=!u),u&&Ht&&fo(a),QT(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ht=wN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ht=wN(a)}else o===27?(o=Ht,To(a.type)?(a=Ax,Ax=null,Ht=a):Ht=o):Ht=rr?Mi(a.stateNode.nextSibling):null;return!0}function Ol(){Ht=rr=null,ct=!1}function rb(){var a=uo;return a!==null&&(Kr===null?Kr=a:Kr.push.apply(Kr,a),uo=null),a}function cf(a){uo===null?uo=[a]:uo.push(a)}var ib=F(null),Rl=null,fs=null;function ho(a,o,u){J(ib,o._currentValue),o._currentValue=u}function hs(a){a._currentValue=ib.current,X(ib)}function ab(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function sb(a,o,u,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var x=v.dependencies;if(x!==null){var I=v.child;x=x.firstContext;e:for(;x!==null;){var z=x;x=v;for(var G=0;G<o.length;G++)if(z.context===o[G]){x.lanes|=u,z=x.alternate,z!==null&&(z.lanes|=u),ab(x.return,u,a),h||(I=null);break e}x=z.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(r(341));I.lanes|=u,x=I.alternate,x!==null&&(x.lanes|=u),ab(I,u,a),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===a){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function ru(a,o,u,h){a=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var z=v.type;ai(v.pendingProps.value,I.value)||(a!==null?a.push(z):a=[z])}}else if(v===Ee.current){if(I=v.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(kf):a=[kf])}v=v.return}a!==null&&sb(o,a,u,h),o.flags|=262144}function up(a){for(a=a.firstContext;a!==null;){if(!ai(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Pl(a){Rl=a,fs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ir(a){return ZT(Rl,a)}function dp(a,o){return Rl===null&&Pl(a),ZT(a,o)}function ZT(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},fs===null){if(a===null)throw Error(r(308));fs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else fs=fs.next=o;return u}var Zz=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},Jz=t.unstable_scheduleCallback,eU=t.unstable_NormalPriority,An={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ob(){return{controller:new Zz,data:new Map,refCount:0}}function uf(a){a.refCount--,a.refCount===0&&Jz(eU,function(){a.controller.abort()})}var df=null,lb=0,iu=0,au=null;function tU(a,o){if(df===null){var u=df=[];lb=0,iu=dx(),au={status:"pending",value:void 0,then:function(h){u.push(h)}}}return lb++,o.then(JT,JT),o}function JT(){if(--lb===0&&df!==null){au!==null&&(au.status="fulfilled");var a=df;df=null,iu=0,au=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function nU(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var eI=Y.S;Y.S=function(a,o){V2=ht(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&tU(a,o),eI!==null&&eI(a,o)};var Dl=F(null);function cb(){var a=Dl.current;return a!==null?a:zt.pooledCache}function fp(a,o){o===null?J(Dl,Dl.current):J(Dl,o.pool)}function tI(){var a=cb();return a===null?null:{parent:An._currentValue,pool:a}}var su=Error(r(460)),ub=Error(r(474)),hp=Error(r(542)),mp={then:function(){}};function nI(a){return a=a.status,a==="fulfilled"||a==="rejected"}function rI(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(ea,ea),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,aI(a),a;default:if(typeof o.status=="string")o.then(ea,ea);else{if(a=zt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,aI(a),a}throw Ml=o,su}}function jl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ml=u,su):u}}var Ml=null;function iI(){if(Ml===null)throw Error(r(459));var a=Ml;return Ml=null,a}function aI(a){if(a===su||a===hp)throw Error(r(483))}var ou=null,ff=0;function pp(a){var o=ff;return ff+=1,ou===null&&(ou=[]),rI(ou,a,o)}function hf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function gp(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function sI(a){function o(Z,K){if(a){var re=Z.deletions;re===null?(Z.deletions=[K],Z.flags|=16):re.push(K)}}function u(Z,K){if(!a)return null;for(;K!==null;)o(Z,K),K=K.sibling;return null}function h(Z){for(var K=new Map;Z!==null;)Z.key!==null?K.set(Z.key,Z):K.set(Z.index,Z),Z=Z.sibling;return K}function v(Z,K){return Z=us(Z,K),Z.index=0,Z.sibling=null,Z}function x(Z,K,re){return Z.index=re,a?(re=Z.alternate,re!==null?(re=re.index,re<K?(Z.flags|=67108866,K):re):(Z.flags|=67108866,K)):(Z.flags|=1048576,K)}function I(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function z(Z,K,re,pe){return K===null||K.tag!==6?(K=Z0(re,Z.mode,pe),K.return=Z,K):(K=v(K,re),K.return=Z,K)}function G(Z,K,re,pe){var Ue=re.type;return Ue===E?me(Z,K,re.props.children,pe,re.key):K!==null&&(K.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===C&&jl(Ue)===K.type)?(K=v(K,re.props),hf(K,re),K.return=Z,K):(K=lp(re.type,re.key,re.props,null,Z.mode,pe),hf(K,re),K.return=Z,K)}function ie(Z,K,re,pe){return K===null||K.tag!==4||K.stateNode.containerInfo!==re.containerInfo||K.stateNode.implementation!==re.implementation?(K=J0(re,Z.mode,pe),K.return=Z,K):(K=v(K,re.children||[]),K.return=Z,K)}function me(Z,K,re,pe,Ue){return K===null||K.tag!==7?(K=Cl(re,Z.mode,pe,Ue),K.return=Z,K):(K=v(K,re),K.return=Z,K)}function ge(Z,K,re){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Z0(""+K,Z.mode,re),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return re=lp(K.type,K.key,K.props,null,Z.mode,re),hf(re,K),re.return=Z,re;case A:return K=J0(K,Z.mode,re),K.return=Z,K;case C:return K=jl(K),ge(Z,K,re)}if(be(K)||$(K))return K=Cl(K,Z.mode,re,null),K.return=Z,K;if(typeof K.then=="function")return ge(Z,pp(K),re);if(K.$$typeof===O)return ge(Z,dp(Z,K),re);gp(Z,K)}return null}function ae(Z,K,re,pe){var Ue=K!==null?K.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ue!==null?null:z(Z,K,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case _:return re.key===Ue?G(Z,K,re,pe):null;case A:return re.key===Ue?ie(Z,K,re,pe):null;case C:return re=jl(re),ae(Z,K,re,pe)}if(be(re)||$(re))return Ue!==null?null:me(Z,K,re,pe,null);if(typeof re.then=="function")return ae(Z,K,pp(re),pe);if(re.$$typeof===O)return ae(Z,K,dp(Z,re),pe);gp(Z,re)}return null}function oe(Z,K,re,pe,Ue){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Z=Z.get(re)||null,z(K,Z,""+pe,Ue);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case _:return Z=Z.get(pe.key===null?re:pe.key)||null,G(K,Z,pe,Ue);case A:return Z=Z.get(pe.key===null?re:pe.key)||null,ie(K,Z,pe,Ue);case C:return pe=jl(pe),oe(Z,K,re,pe,Ue)}if(be(pe)||$(pe))return Z=Z.get(re)||null,me(K,Z,pe,Ue,null);if(typeof pe.then=="function")return oe(Z,K,re,pp(pe),Ue);if(pe.$$typeof===O)return oe(Z,K,re,dp(K,pe),Ue);gp(K,pe)}return null}function De(Z,K,re,pe){for(var Ue=null,pt=null,ke=K,Ze=K=0,st=null;ke!==null&&Ze<re.length;Ze++){ke.index>Ze?(st=ke,ke=null):st=ke.sibling;var gt=ae(Z,ke,re[Ze],pe);if(gt===null){ke===null&&(ke=st);break}a&&ke&&gt.alternate===null&&o(Z,ke),K=x(gt,K,Ze),pt===null?Ue=gt:pt.sibling=gt,pt=gt,ke=st}if(Ze===re.length)return u(Z,ke),ct&&ds(Z,Ze),Ue;if(ke===null){for(;Ze<re.length;Ze++)ke=ge(Z,re[Ze],pe),ke!==null&&(K=x(ke,K,Ze),pt===null?Ue=ke:pt.sibling=ke,pt=ke);return ct&&ds(Z,Ze),Ue}for(ke=h(ke);Ze<re.length;Ze++)st=oe(ke,Z,Ze,re[Ze],pe),st!==null&&(a&&st.alternate!==null&&ke.delete(st.key===null?Ze:st.key),K=x(st,K,Ze),pt===null?Ue=st:pt.sibling=st,pt=st);return a&&ke.forEach(function(Ro){return o(Z,Ro)}),ct&&ds(Z,Ze),Ue}function $e(Z,K,re,pe){if(re==null)throw Error(r(151));for(var Ue=null,pt=null,ke=K,Ze=K=0,st=null,gt=re.next();ke!==null&&!gt.done;Ze++,gt=re.next()){ke.index>Ze?(st=ke,ke=null):st=ke.sibling;var Ro=ae(Z,ke,gt.value,pe);if(Ro===null){ke===null&&(ke=st);break}a&&ke&&Ro.alternate===null&&o(Z,ke),K=x(Ro,K,Ze),pt===null?Ue=Ro:pt.sibling=Ro,pt=Ro,ke=st}if(gt.done)return u(Z,ke),ct&&ds(Z,Ze),Ue;if(ke===null){for(;!gt.done;Ze++,gt=re.next())gt=ge(Z,gt.value,pe),gt!==null&&(K=x(gt,K,Ze),pt===null?Ue=gt:pt.sibling=gt,pt=gt);return ct&&ds(Z,Ze),Ue}for(ke=h(ke);!gt.done;Ze++,gt=re.next())gt=oe(ke,Z,Ze,gt.value,pe),gt!==null&&(a&&gt.alternate!==null&&ke.delete(gt.key===null?Ze:gt.key),K=x(gt,K,Ze),pt===null?Ue=gt:pt.sibling=gt,pt=gt);return a&&ke.forEach(function(hB){return o(Z,hB)}),ct&&ds(Z,Ze),Ue}function kt(Z,K,re,pe){if(typeof re=="object"&&re!==null&&re.type===E&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case _:e:{for(var Ue=re.key;K!==null;){if(K.key===Ue){if(Ue=re.type,Ue===E){if(K.tag===7){u(Z,K.sibling),pe=v(K,re.props.children),pe.return=Z,Z=pe;break e}}else if(K.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===C&&jl(Ue)===K.type){u(Z,K.sibling),pe=v(K,re.props),hf(pe,re),pe.return=Z,Z=pe;break e}u(Z,K);break}else o(Z,K);K=K.sibling}re.type===E?(pe=Cl(re.props.children,Z.mode,pe,re.key),pe.return=Z,Z=pe):(pe=lp(re.type,re.key,re.props,null,Z.mode,pe),hf(pe,re),pe.return=Z,Z=pe)}return I(Z);case A:e:{for(Ue=re.key;K!==null;){if(K.key===Ue)if(K.tag===4&&K.stateNode.containerInfo===re.containerInfo&&K.stateNode.implementation===re.implementation){u(Z,K.sibling),pe=v(K,re.children||[]),pe.return=Z,Z=pe;break e}else{u(Z,K);break}else o(Z,K);K=K.sibling}pe=J0(re,Z.mode,pe),pe.return=Z,Z=pe}return I(Z);case C:return re=jl(re),kt(Z,K,re,pe)}if(be(re))return De(Z,K,re,pe);if($(re)){if(Ue=$(re),typeof Ue!="function")throw Error(r(150));return re=Ue.call(re),$e(Z,K,re,pe)}if(typeof re.then=="function")return kt(Z,K,pp(re),pe);if(re.$$typeof===O)return kt(Z,K,dp(Z,re),pe);gp(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,K!==null&&K.tag===6?(u(Z,K.sibling),pe=v(K,re),pe.return=Z,Z=pe):(u(Z,K),pe=Z0(re,Z.mode,pe),pe.return=Z,Z=pe),I(Z)):u(Z,K)}return function(Z,K,re,pe){try{ff=0;var Ue=kt(Z,K,re,pe);return ou=null,Ue}catch(ke){if(ke===su||ke===hp)throw ke;var pt=si(29,ke,null,Z.mode);return pt.lanes=pe,pt.return=Z,pt}finally{}}}var kl=sI(!0),oI=sI(!1),mo=!1;function db(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fb(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function po(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function go(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(xt&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=op(a),FT(a,null,u),o}return sp(a,h,o,u),op(a)}function mf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,gr(a,u)}}function hb(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=I:x=x.next=I,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var mb=!1;function pf(){if(mb){var a=au;if(a!==null)throw a}}function gf(a,o,u,h){mb=!1;var v=a.updateQueue;mo=!1;var x=v.firstBaseUpdate,I=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var G=z,ie=G.next;G.next=null,I===null?x=ie:I.next=ie,I=G;var me=a.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==I&&(z===null?me.firstBaseUpdate=ie:z.next=ie,me.lastBaseUpdate=G))}if(x!==null){var ge=v.baseState;I=0,me=ie=G=null,z=x;do{var ae=z.lane&-536870913,oe=ae!==z.lane;if(oe?(at&ae)===ae:(h&ae)===ae){ae!==0&&ae===iu&&(mb=!0),me!==null&&(me=me.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var De=a,$e=z;ae=o;var kt=u;switch($e.tag){case 1:if(De=$e.payload,typeof De=="function"){ge=De.call(kt,ge,ae);break e}ge=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=$e.payload,ae=typeof De=="function"?De.call(kt,ge,ae):De,ae==null)break e;ge=p({},ge,ae);break e;case 2:mo=!0}}ae=z.callback,ae!==null&&(a.flags|=64,oe&&(a.flags|=8192),oe=v.callbacks,oe===null?v.callbacks=[ae]:oe.push(ae))}else oe={lane:ae,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(ie=me=oe,G=ge):me=me.next=oe,I|=ae;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;oe=z,z=oe.next,oe.next=null,v.lastBaseUpdate=oe,v.shared.pending=null}}while(!0);me===null&&(G=ge),v.baseState=G,v.firstBaseUpdate=ie,v.lastBaseUpdate=me,x===null&&(v.shared.lanes=0),_o|=I,a.lanes=I,a.memoizedState=ge}}function lI(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function cI(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)lI(u[a],o)}var lu=F(null),yp=F(0);function uI(a,o){a=ws,J(yp,a),J(lu,o),ws=a|o.baseLanes}function pb(){J(yp,ws),J(lu,lu.current)}function gb(){ws=yp.current,X(lu),X(yp)}var oi=F(null),ji=null;function yo(a){var o=a.alternate;J(mn,mn.current&1),J(oi,a),ji===null&&(o===null||lu.current!==null||o.memoizedState!==null)&&(ji=a)}function yb(a){J(mn,mn.current),J(oi,a),ji===null&&(ji=a)}function dI(a){a.tag===22?(J(mn,mn.current),J(oi,a),ji===null&&(ji=a)):vo()}function vo(){J(mn,mn.current),J(oi,oi.current)}function li(a){X(oi),ji===a&&(ji=null),X(mn)}var mn=F(0);function vp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ex(u)||Sx(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ms=0,Qe=null,jt=null,Tn=null,bp=!1,cu=!1,Vl=!1,xp=0,yf=0,uu=null,rU=0;function sn(){throw Error(r(321))}function vb(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!ai(a[u],o[u]))return!1;return!0}function bb(a,o,u,h,v,x){return ms=x,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=a===null||a.memoizedState===null?YI:jb,Vl=!1,x=u(h,v),Vl=!1,cu&&(x=hI(o,u,h,v)),fI(a),x}function fI(a){Y.H=xf;var o=jt!==null&&jt.next!==null;if(ms=0,Tn=jt=Qe=null,bp=!1,yf=0,uu=null,o)throw Error(r(300));a===null||In||(a=a.dependencies,a!==null&&up(a)&&(In=!0))}function hI(a,o,u,h){Qe=a;var v=0;do{if(cu&&(uu=null),yf=0,cu=!1,25<=v)throw Error(r(301));if(v+=1,Tn=jt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Y.H=WI,x=o(u,h)}while(cu);return x}function iU(){var a=Y.H,o=a.useState()[0];return o=typeof o.then=="function"?vf(o):o,a=a.useState()[0],(jt!==null?jt.memoizedState:null)!==a&&(Qe.flags|=1024),o}function xb(){var a=xp!==0;return xp=0,a}function _b(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function wb(a){if(bp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}bp=!1}ms=0,Tn=jt=Qe=null,cu=!1,yf=xp=0,uu=null}function Dr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Qe.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function pn(){if(jt===null){var a=Qe.alternate;a=a!==null?a.memoizedState:null}else a=jt.next;var o=Tn===null?Qe.memoizedState:Tn.next;if(o!==null)Tn=o,jt=a;else{if(a===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));jt=a,a={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Tn===null?Qe.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function _p(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vf(a){var o=yf;return yf+=1,uu===null&&(uu=[]),a=rI(uu,a,o),o=Qe,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?YI:jb),a}function wp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return vf(a);if(a.$$typeof===O)return ir(a)}throw Error(r(438,String(a)))}function Eb(a){var o=null,u=Qe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Qe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=_p(),Qe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=q;return o.index++,u}function ps(a,o){return typeof o=="function"?o(a):o}function Ep(a){var o=pn();return Sb(o,jt,a)}function Sb(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=a.baseQueue,x=h.pending;if(x!==null){if(v!==null){var I=v.next;v.next=x.next,x.next=I}o.baseQueue=v=x,h.pending=null}if(x=a.baseState,v===null)a.memoizedState=x;else{o=v.next;var z=I=null,G=null,ie=o,me=!1;do{var ge=ie.lane&-536870913;if(ge!==ie.lane?(at&ge)===ge:(ms&ge)===ge){var ae=ie.revertLane;if(ae===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ge===iu&&(me=!0);else if((ms&ae)===ae){ie=ie.next,ae===iu&&(me=!0);continue}else ge={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},G===null?(z=G=ge,I=x):G=G.next=ge,Qe.lanes|=ae,_o|=ae;ge=ie.action,Vl&&u(x,ge),x=ie.hasEagerState?ie.eagerState:u(x,ge)}else ae={lane:ge,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},G===null?(z=G=ae,I=x):G=G.next=ae,Qe.lanes|=ge,_o|=ge;ie=ie.next}while(ie!==null&&ie!==o);if(G===null?I=x:G.next=z,!ai(x,a.memoizedState)&&(In=!0,me&&(u=au,u!==null)))throw u;a.memoizedState=x,a.baseState=I,a.baseQueue=G,h.lastRenderedState=x}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Ab(a){var o=pn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var I=v=v.next;do x=a(x,I.action),I=I.next;while(I!==v);ai(x,o.memoizedState)||(In=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,h]}function mI(a,o,u){var h=Qe,v=pn(),x=ct;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!ai((jt||v).memoizedState,u);if(I&&(v.memoizedState=u,In=!0),v=v.queue,Nb(yI.bind(null,h,v,a),[a]),v.getSnapshot!==o||I||Tn!==null&&Tn.memoizedState.tag&1){if(h.flags|=2048,du(9,{destroy:void 0},gI.bind(null,h,v,u,o),null),zt===null)throw Error(r(349));x||(ms&127)!==0||pI(h,o,u)}return u}function pI(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Qe.updateQueue,o===null?(o=_p(),Qe.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function gI(a,o,u,h){o.value=u,o.getSnapshot=h,vI(o)&&bI(a)}function yI(a,o,u){return u(function(){vI(o)&&bI(a)})}function vI(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!ai(a,u)}catch{return!0}}function bI(a){var o=Nl(a,2);o!==null&&Yr(o,a,2)}function Tb(a){var o=Dr();if(typeof a=="function"){var u=a;if(a=u(),Vl){Ft(!0);try{u()}finally{Ft(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:a},o}function xI(a,o,u,h){return a.baseState=u,Sb(a,jt,typeof h=="function"?h:ps)}function aU(a,o,u,h,v){if(Tp(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){x.listeners.push(I)}};Y.T!==null?u(!0):x.isTransition=!1,h(x),u=o.pending,u===null?(x.next=o.pending=x,_I(o,x)):(x.next=u.next,o.pending=u.next=x)}}function _I(a,o){var u=o.action,h=o.payload,v=a.state;if(o.isTransition){var x=Y.T,I={};Y.T=I;try{var z=u(v,h),G=Y.S;G!==null&&G(I,z),wI(a,o,z)}catch(ie){Ib(a,o,ie)}finally{x!==null&&I.types!==null&&(x.types=I.types),Y.T=x}}else try{x=u(v,h),wI(a,o,x)}catch(ie){Ib(a,o,ie)}}function wI(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){EI(a,o,h)},function(h){return Ib(a,o,h)}):EI(a,o,u)}function EI(a,o,u){o.status="fulfilled",o.value=u,SI(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,_I(a,u)))}function Ib(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,SI(o),o=o.next;while(o!==h)}a.action=null}function SI(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function AI(a,o){return o}function TI(a,o){if(ct){var u=zt.formState;if(u!==null){e:{var h=Qe;if(ct){if(Ht){t:{for(var v=Ht,x=Di;v.nodeType!==8;){if(!x){v=null;break t}if(v=Mi(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Ht=Mi(v.nextSibling),h=v.data==="F!";break e}}fo(h)}h=!1}h&&(o=u[0])}}return u=Dr(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AI,lastRenderedState:o},u.queue=h,u=HI.bind(null,Qe,h),h.dispatch=u,h=Tb(!1),x=Db.bind(null,Qe,!1,h.queue),h=Dr(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,u=aU.bind(null,Qe,v,x,u),v.dispatch=u,h.memoizedState=a,[o,u,!1]}function II(a){var o=pn();return NI(o,jt,a)}function NI(a,o,u){if(o=Sb(a,o,AI)[0],a=Ep(ps)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=vf(o)}catch(I){throw I===su?hp:I}else h=o;o=pn();var v=o.queue,x=v.dispatch;return u!==o.memoizedState&&(Qe.flags|=2048,du(9,{destroy:void 0},sU.bind(null,v,u),null)),[h,x,a]}function sU(a,o){a.action=o}function CI(a){var o=pn(),u=jt;if(u!==null)return NI(o,u,a);pn(),o=o.memoizedState,u=pn();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function du(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=Qe.updateQueue,o===null&&(o=_p(),Qe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function OI(){return pn().memoizedState}function Sp(a,o,u,h){var v=Dr();Qe.flags|=a,v.memoizedState=du(1|o,{destroy:void 0},u,h===void 0?null:h)}function Ap(a,o,u,h){var v=pn();h=h===void 0?null:h;var x=v.memoizedState.inst;jt!==null&&h!==null&&vb(h,jt.memoizedState.deps)?v.memoizedState=du(o,x,u,h):(Qe.flags|=a,v.memoizedState=du(1|o,x,u,h))}function RI(a,o){Sp(8390656,8,a,o)}function Nb(a,o){Ap(2048,8,a,o)}function oU(a){Qe.flags|=4;var o=Qe.updateQueue;if(o===null)o=_p(),Qe.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function PI(a){var o=pn().memoizedState;return oU({ref:o,nextImpl:a}),function(){if((xt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function DI(a,o){return Ap(4,2,a,o)}function jI(a,o){return Ap(4,4,a,o)}function MI(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function kI(a,o,u){u=u!=null?u.concat([a]):null,Ap(4,4,MI.bind(null,o,a),u)}function Cb(){}function VI(a,o){var u=pn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&vb(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function LI(a,o){var u=pn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&vb(o,h[1]))return h[0];if(h=a(),Vl){Ft(!0);try{a()}finally{Ft(!1)}}return u.memoizedState=[h,o],h}function Ob(a,o,u){return u===void 0||(ms&1073741824)!==0&&(at&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=z2(),Qe.lanes|=a,_o|=a,u)}function zI(a,o,u,h){return ai(u,o)?u:lu.current!==null?(a=Ob(a,u,h),ai(a,o)||(In=!0),a):(ms&42)===0||(ms&1073741824)!==0&&(at&261930)===0?(In=!0,a.memoizedState=u):(a=z2(),Qe.lanes|=a,_o|=a,o)}function UI(a,o,u,h,v){var x=H.p;H.p=x!==0&&8>x?x:8;var I=Y.T,z={};Y.T=z,Db(a,!1,o,u);try{var G=v(),ie=Y.S;if(ie!==null&&ie(z,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var me=nU(G,h);bf(a,o,me,di(a))}else bf(a,o,h,di(a))}catch(ge){bf(a,o,{then:function(){},status:"rejected",reason:ge},di())}finally{H.p=x,I!==null&&z.types!==null&&(I.types=z.types),Y.T=I}}function lU(){}function Rb(a,o,u,h){if(a.tag!==5)throw Error(r(476));var v=BI(a).queue;UI(a,v,o,Q,u===null?lU:function(){return qI(a),u(h)})}function BI(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:Q},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function qI(a){var o=BI(a);o.next===null&&(o=a.alternate.memoizedState),bf(a,o.next.queue,{},di())}function Pb(){return ir(kf)}function $I(){return pn().memoizedState}function FI(){return pn().memoizedState}function cU(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=di();a=po(u);var h=go(o,a,u);h!==null&&(Yr(h,o,u),mf(h,o,u)),o={cache:ob()},a.payload=o;return}o=o.return}}function uU(a,o,u){var h=di();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Tp(a)?GI(o,u):(u=X0(a,o,u,h),u!==null&&(Yr(u,a,h),KI(u,o,h)))}function HI(a,o,u){var h=di();bf(a,o,u,h)}function bf(a,o,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Tp(a))GI(o,v);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var I=o.lastRenderedState,z=x(I,u);if(v.hasEagerState=!0,v.eagerState=z,ai(z,I))return sp(a,o,v,0),zt===null&&ap(),!1}catch{}finally{}if(u=X0(a,o,v,h),u!==null)return Yr(u,a,h),KI(u,o,h),!0}return!1}function Db(a,o,u,h){if(h={lane:2,revertLane:dx(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Tp(a)){if(o)throw Error(r(479))}else o=X0(a,u,h,2),o!==null&&Yr(o,a,2)}function Tp(a){var o=a.alternate;return a===Qe||o!==null&&o===Qe}function GI(a,o){cu=bp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function KI(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,gr(a,u)}}var xf={readContext:ir,use:wp,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};xf.useEffectEvent=sn;var YI={readContext:ir,use:wp,useCallback:function(a,o){return Dr().memoizedState=[a,o===void 0?null:o],a},useContext:ir,useEffect:RI,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Sp(4194308,4,MI.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Sp(4194308,4,a,o)},useInsertionEffect:function(a,o){Sp(4,2,a,o)},useMemo:function(a,o){var u=Dr();o=o===void 0?null:o;var h=a();if(Vl){Ft(!0);try{a()}finally{Ft(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=Dr();if(u!==void 0){var v=u(o);if(Vl){Ft(!0);try{u(o)}finally{Ft(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=uU.bind(null,Qe,a),[h.memoizedState,a]},useRef:function(a){var o=Dr();return a={current:a},o.memoizedState=a},useState:function(a){a=Tb(a);var o=a.queue,u=HI.bind(null,Qe,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Cb,useDeferredValue:function(a,o){var u=Dr();return Ob(u,a,o)},useTransition:function(){var a=Tb(!1);return a=UI.bind(null,Qe,a.queue,!0,!1),Dr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=Qe,v=Dr();if(ct){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),zt===null)throw Error(r(349));(at&127)!==0||pI(h,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,RI(yI.bind(null,h,x,a),[a]),h.flags|=2048,du(9,{destroy:void 0},gI.bind(null,h,x,u,o),null),u},useId:function(){var a=Dr(),o=zt.identifierPrefix;if(ct){var u=Da,h=Pa;u=(h&~(1<<32-Pt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=xp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=rU++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Pb,useFormState:TI,useActionState:TI,useOptimistic:function(a){var o=Dr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Db.bind(null,Qe,!0,u),u.dispatch=o,[a,o]},useMemoCache:Eb,useCacheRefresh:function(){return Dr().memoizedState=cU.bind(null,Qe)},useEffectEvent:function(a){var o=Dr(),u={impl:a};return o.memoizedState=u,function(){if((xt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},jb={readContext:ir,use:wp,useCallback:VI,useContext:ir,useEffect:Nb,useImperativeHandle:kI,useInsertionEffect:DI,useLayoutEffect:jI,useMemo:LI,useReducer:Ep,useRef:OI,useState:function(){return Ep(ps)},useDebugValue:Cb,useDeferredValue:function(a,o){var u=pn();return zI(u,jt.memoizedState,a,o)},useTransition:function(){var a=Ep(ps)[0],o=pn().memoizedState;return[typeof a=="boolean"?a:vf(a),o]},useSyncExternalStore:mI,useId:$I,useHostTransitionStatus:Pb,useFormState:II,useActionState:II,useOptimistic:function(a,o){var u=pn();return xI(u,jt,a,o)},useMemoCache:Eb,useCacheRefresh:FI};jb.useEffectEvent=PI;var WI={readContext:ir,use:wp,useCallback:VI,useContext:ir,useEffect:Nb,useImperativeHandle:kI,useInsertionEffect:DI,useLayoutEffect:jI,useMemo:LI,useReducer:Ab,useRef:OI,useState:function(){return Ab(ps)},useDebugValue:Cb,useDeferredValue:function(a,o){var u=pn();return jt===null?Ob(u,a,o):zI(u,jt.memoizedState,a,o)},useTransition:function(){var a=Ab(ps)[0],o=pn().memoizedState;return[typeof a=="boolean"?a:vf(a),o]},useSyncExternalStore:mI,useId:$I,useHostTransitionStatus:Pb,useFormState:CI,useActionState:CI,useOptimistic:function(a,o){var u=pn();return jt!==null?xI(u,jt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Eb,useCacheRefresh:FI};WI.useEffectEvent=PI;function Mb(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var kb={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=di(),v=po(h);v.payload=o,u!=null&&(v.callback=u),o=go(a,v,h),o!==null&&(Yr(o,a,h),mf(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=di(),v=po(h);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=go(a,v,h),o!==null&&(Yr(o,a,h),mf(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=di(),h=po(u);h.tag=2,o!=null&&(h.callback=o),o=go(a,h,u),o!==null&&(Yr(o,a,u),mf(o,a,u))}};function XI(a,o,u,h,v,x,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,I):o.prototype&&o.prototype.isPureReactComponent?!sf(u,h)||!sf(v,x):!0}function QI(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&kb.enqueueReplaceState(o,o.state,null)}function Ll(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function ZI(a){ip(a)}function JI(a){console.error(a)}function e2(a){ip(a)}function Ip(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function t2(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Vb(a,o,u){return u=po(u),u.tag=3,u.payload={element:null},u.callback=function(){Ip(a,o)},u}function n2(a){return a=po(a),a.tag=3,a}function r2(a,o,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=h.value;a.payload=function(){return v(x)},a.callback=function(){t2(o,u,h)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){t2(o,u,h),typeof v!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var z=h.stack;this.componentDidCatch(h.value,{componentStack:z!==null?z:""})})}function dU(a,o,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&ru(o,u,v,!0),u=oi.current,u!==null){switch(u.tag){case 31:case 13:return ji===null?zp():u.alternate===null&&on===0&&(on=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===mp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),lx(a,h,v)),!1;case 22:return u.flags|=65536,h===mp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),lx(a,h,v)),!1}throw Error(r(435,u.tag))}return lx(a,h,v),zp(),!1}if(ct)return o=oi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==nb&&(a=Error(r(422),{cause:h}),cf(Oi(a,u)))):(h!==nb&&(o=Error(r(423),{cause:h}),cf(Oi(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=Oi(h,u),v=Vb(a.stateNode,h,v),hb(a,v),on!==4&&(on=2)),!1;var x=Error(r(520),{cause:h});if(x=Oi(x,u),Nf===null?Nf=[x]:Nf.push(x),on!==4&&(on=2),o===null)return!0;h=Oi(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=Vb(u.stateNode,h,a),hb(u,a),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(wo===null||!wo.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=n2(v),r2(v,a,u,h),hb(u,v),!1}u=u.return}while(u!==null);return!1}var Lb=Error(r(461)),In=!1;function ar(a,o,u,h){o.child=a===null?oI(o,null,u,h):kl(o,a.child,u,h)}function i2(a,o,u,h,v){u=u.render;var x=o.ref;if("ref"in h){var I={};for(var z in h)z!=="ref"&&(I[z]=h[z])}else I=h;return Pl(o),h=bb(a,o,u,I,x,v),z=xb(),a!==null&&!In?(_b(a,o,v),gs(a,o,v)):(ct&&z&&eb(o),o.flags|=1,ar(a,o,h,v),o.child)}function a2(a,o,u,h,v){if(a===null){var x=u.type;return typeof x=="function"&&!Q0(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,s2(a,o,x,h,v)):(a=lp(u.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!Gb(a,v)){var I=x.memoizedProps;if(u=u.compare,u=u!==null?u:sf,u(I,h)&&a.ref===o.ref)return gs(a,o,v)}return o.flags|=1,a=us(x,h),a.ref=o.ref,a.return=o,o.child=a}function s2(a,o,u,h,v){if(a!==null){var x=a.memoizedProps;if(sf(x,h)&&a.ref===o.ref)if(In=!1,o.pendingProps=h=x,Gb(a,v))(a.flags&131072)!==0&&(In=!0);else return o.lanes=a.lanes,gs(a,o,v)}return zb(a,o,u,h,v)}function o2(a,o,u,h){var v=h.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,a!==null){for(h=o.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~x}else h=0,o.child=null;return l2(a,o,x,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&fp(o,x!==null?x.cachePool:null),x!==null?uI(o,x):pb(),dI(o);else return h=o.lanes=536870912,l2(a,o,x!==null?x.baseLanes|u:u,u,h)}else x!==null?(fp(o,x.cachePool),uI(o,x),vo(),o.memoizedState=null):(a!==null&&fp(o,null),pb(),vo());return ar(a,o,v,u),o.child}function _f(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function l2(a,o,u,h,v){var x=cb();return x=x===null?null:{parent:An._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},a!==null&&fp(o,null),pb(),dI(o),a!==null&&ru(a,o,h,!0),o.childLanes=v,null}function Np(a,o){return o=Op({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function c2(a,o,u){return kl(o,a.child,null,u),a=Np(o,o.pendingProps),a.flags|=2,li(o),o.memoizedState=null,a}function fU(a,o,u){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ct){if(h.mode==="hidden")return a=Np(o,h),o.lanes=536870912,_f(null,a);if(yb(o),(a=Ht)?(a=_N(a,Di),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:co!==null?{id:Pa,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},u=GT(a),u.return=o,o.child=u,rr=o,Ht=null)):a=null,a===null)throw fo(o);return o.lanes=536870912,null}return Np(o,h)}var x=a.memoizedState;if(x!==null){var I=x.dehydrated;if(yb(o),v)if(o.flags&256)o.flags&=-257,o=c2(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(In||ru(a,o,u,!1),v=(u&a.childLanes)!==0,In||v){if(h=zt,h!==null&&(I=Cr(h,u),I!==0&&I!==x.retryLane))throw x.retryLane=I,Nl(a,I),Yr(h,a,I),Lb;zp(),o=c2(a,o,u)}else a=x.treeContext,Ht=Mi(I.nextSibling),rr=o,ct=!0,uo=null,Di=!1,a!==null&&WT(o,a),o=Np(o,h),o.flags|=4096;return o}return a=us(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Cp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function zb(a,o,u,h,v){return Pl(o),u=bb(a,o,u,h,void 0,v),h=xb(),a!==null&&!In?(_b(a,o,v),gs(a,o,v)):(ct&&h&&eb(o),o.flags|=1,ar(a,o,u,v),o.child)}function u2(a,o,u,h,v,x){return Pl(o),o.updateQueue=null,u=hI(o,h,u,v),fI(a),h=xb(),a!==null&&!In?(_b(a,o,x),gs(a,o,x)):(ct&&h&&eb(o),o.flags|=1,ar(a,o,u,x),o.child)}function d2(a,o,u,h,v){if(Pl(o),o.stateNode===null){var x=Jc,I=u.contextType;typeof I=="object"&&I!==null&&(x=ir(I)),x=new u(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=kb,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},db(o),I=u.contextType,x.context=typeof I=="object"&&I!==null?ir(I):Jc,x.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(Mb(o,u,I,h),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(I=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),I!==x.state&&kb.enqueueReplaceState(x,x.state,null),gf(o,h,x,v),pf(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){x=o.stateNode;var z=o.memoizedProps,G=Ll(u,z);x.props=G;var ie=x.context,me=u.contextType;I=Jc,typeof me=="object"&&me!==null&&(I=ir(me));var ge=u.getDerivedStateFromProps;me=typeof ge=="function"||typeof x.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,me||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(z||ie!==I)&&QI(o,x,h,I),mo=!1;var ae=o.memoizedState;x.state=ae,gf(o,h,x,v),pf(),ie=o.memoizedState,z||ae!==ie||mo?(typeof ge=="function"&&(Mb(o,u,ge,h),ie=o.memoizedState),(G=mo||XI(o,u,G,h,ae,ie,I))?(me||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ie),x.props=h,x.state=ie,x.context=I,h=G):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,fb(a,o),I=o.memoizedProps,me=Ll(u,I),x.props=me,ge=o.pendingProps,ae=x.context,ie=u.contextType,G=Jc,typeof ie=="object"&&ie!==null&&(G=ir(ie)),z=u.getDerivedStateFromProps,(ie=typeof z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I!==ge||ae!==G)&&QI(o,x,h,G),mo=!1,ae=o.memoizedState,x.state=ae,gf(o,h,x,v),pf();var oe=o.memoizedState;I!==ge||ae!==oe||mo||a!==null&&a.dependencies!==null&&up(a.dependencies)?(typeof z=="function"&&(Mb(o,u,z,h),oe=o.memoizedState),(me=mo||XI(o,u,me,h,ae,oe,G)||a!==null&&a.dependencies!==null&&up(a.dependencies))?(ie||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,oe,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,oe,G)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=oe),x.props=h,x.state=oe,x.context=G,h=me):(typeof x.componentDidUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),h=!1)}return x=h,Cp(a,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&h?(o.child=kl(o,a.child,null,v),o.child=kl(o,null,u,v)):ar(a,o,u,v),o.memoizedState=x.state,a=o.child):a=gs(a,o,v),a}function f2(a,o,u,h){return Ol(),o.flags|=256,ar(a,o,u,h),o.child}var Ub={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bb(a){return{baseLanes:a,cachePool:tI()}}function qb(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ui),a}function h2(a,o,u){var h=o.pendingProps,v=!1,x=(o.flags&128)!==0,I;if((I=x)||(I=a!==null&&a.memoizedState===null?!1:(mn.current&2)!==0),I&&(v=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,a===null){if(ct){if(v?yo(o):vo(),(a=Ht)?(a=_N(a,Di),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:co!==null?{id:Pa,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},u=GT(a),u.return=o,o.child=u,rr=o,Ht=null)):a=null,a===null)throw fo(o);return Sx(a)?o.lanes=32:o.lanes=536870912,null}var z=h.children;return h=h.fallback,v?(vo(),v=o.mode,z=Op({mode:"hidden",children:z},v),h=Cl(h,v,u,null),z.return=o,h.return=o,z.sibling=h,o.child=z,h=o.child,h.memoizedState=Bb(u),h.childLanes=qb(a,I,u),o.memoizedState=Ub,_f(null,h)):(yo(o),$b(o,z))}var G=a.memoizedState;if(G!==null&&(z=G.dehydrated,z!==null)){if(x)o.flags&256?(yo(o),o.flags&=-257,o=Fb(a,o,u)):o.memoizedState!==null?(vo(),o.child=a.child,o.flags|=128,o=null):(vo(),z=h.fallback,v=o.mode,h=Op({mode:"visible",children:h.children},v),z=Cl(z,v,u,null),z.flags|=2,h.return=o,z.return=o,h.sibling=z,o.child=h,kl(o,a.child,null,u),h=o.child,h.memoizedState=Bb(u),h.childLanes=qb(a,I,u),o.memoizedState=Ub,o=_f(null,h));else if(yo(o),Sx(z)){if(I=z.nextSibling&&z.nextSibling.dataset,I)var ie=I.dgst;I=ie,h=Error(r(419)),h.stack="",h.digest=I,cf({value:h,source:null,stack:null}),o=Fb(a,o,u)}else if(In||ru(a,o,u,!1),I=(u&a.childLanes)!==0,In||I){if(I=zt,I!==null&&(h=Cr(I,u),h!==0&&h!==G.retryLane))throw G.retryLane=h,Nl(a,h),Yr(I,a,h),Lb;Ex(z)||zp(),o=Fb(a,o,u)}else Ex(z)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,Ht=Mi(z.nextSibling),rr=o,ct=!0,uo=null,Di=!1,a!==null&&WT(o,a),o=$b(o,h.children),o.flags|=4096);return o}return v?(vo(),z=h.fallback,v=o.mode,G=a.child,ie=G.sibling,h=us(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,ie!==null?z=us(ie,z):(z=Cl(z,v,u,null),z.flags|=2),z.return=o,h.return=o,h.sibling=z,o.child=h,_f(null,h),h=o.child,z=a.child.memoizedState,z===null?z=Bb(u):(v=z.cachePool,v!==null?(G=An._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=tI(),z={baseLanes:z.baseLanes|u,cachePool:v}),h.memoizedState=z,h.childLanes=qb(a,I,u),o.memoizedState=Ub,_f(a.child,h)):(yo(o),u=a.child,a=u.sibling,u=us(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(I=o.deletions,I===null?(o.deletions=[a],o.flags|=16):I.push(a)),o.child=u,o.memoizedState=null,u)}function $b(a,o){return o=Op({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Op(a,o){return a=si(22,a,null,o),a.lanes=0,a}function Fb(a,o,u){return kl(o,a.child,null,u),a=$b(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function m2(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),ab(a.return,o,u)}function Hb(a,o,u,h,v,x){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:x}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=u,I.tailMode=v,I.treeForkCount=x)}function p2(a,o,u){var h=o.pendingProps,v=h.revealOrder,x=h.tail;h=h.children;var I=mn.current,z=(I&2)!==0;if(z?(I=I&1|2,o.flags|=128):I&=1,J(mn,I),ar(a,o,h,u),h=ct?lf:0,!z&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&m2(a,u,o);else if(a.tag===19)m2(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&vp(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Hb(o,!1,v,u,x,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&vp(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}Hb(o,!0,u,null,x,h);break;case"together":Hb(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function gs(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),_o|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(ru(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=us(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=us(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Gb(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&up(a)))}function hU(a,o,u){switch(o.tag){case 3:Je(o,o.stateNode.containerInfo),ho(o,An,a.memoizedState.cache),Ol();break;case 27:case 5:Ne(o);break;case 4:Je(o,o.stateNode.containerInfo);break;case 10:ho(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,yb(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(yo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?h2(a,o,u):(yo(o),a=gs(a,o,u),a!==null?a.sibling:null);yo(o);break;case 19:var v=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(ru(a,o,u,!1),h=(u&o.childLanes)!==0),v){if(h)return p2(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),J(mn,mn.current),h)break;return null;case 22:return o.lanes=0,o2(a,o,u,o.pendingProps);case 24:ho(o,An,a.memoizedState.cache)}return gs(a,o,u)}function g2(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)In=!0;else{if(!Gb(a,u)&&(o.flags&128)===0)return In=!1,hU(a,o,u);In=(a.flags&131072)!==0}else In=!1,ct&&(o.flags&1048576)!==0&&YT(o,lf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=jl(o.elementType),o.type=a,typeof a=="function")Q0(a)?(h=Ll(a,h),o.tag=1,o=d2(null,o,a,h,u)):(o.tag=0,o=zb(null,o,a,h,u));else{if(a!=null){var v=a.$$typeof;if(v===L){o.tag=11,o=i2(null,o,a,h,u);break e}else if(v===P){o.tag=14,o=a2(null,o,a,h,u);break e}}throw o=fe(a)||a,Error(r(306,o,""))}}return o;case 0:return zb(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,v=Ll(h,o.pendingProps),d2(a,o,h,v,u);case 3:e:{if(Je(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var x=o.memoizedState;v=x.element,fb(a,o),gf(o,h,null,u);var I=o.memoizedState;if(h=I.cache,ho(o,An,h),h!==x.cache&&sb(o,[An],u,!0),pf(),h=I.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=f2(a,o,h,u);break e}else if(h!==v){v=Oi(Error(r(424)),o),cf(v),o=f2(a,o,h,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ht=Mi(a.firstChild),rr=o,ct=!0,uo=null,Di=!0,u=oI(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ol(),h===v){o=gs(a,o,u);break e}ar(a,o,h,u)}o=o.child}return o;case 26:return Cp(a,o),a===null?(u=IN(o.type,null,o.pendingProps,null))?o.memoizedState=u:ct||(u=o.type,a=o.pendingProps,h=Gp(_e.current).createElement(u),h[wn]=o,h[Gn]=a,sr(h,u,a),En(h),o.stateNode=h):o.memoizedState=IN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ne(o),a===null&&ct&&(h=o.stateNode=SN(o.type,o.pendingProps,_e.current),rr=o,Di=!0,v=Ht,To(o.type)?(Ax=v,Ht=Mi(h.firstChild)):Ht=v),ar(a,o,o.pendingProps.children,u),Cp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ct&&((v=h=Ht)&&(h=$U(h,o.type,o.pendingProps,Di),h!==null?(o.stateNode=h,rr=o,Ht=Mi(h.firstChild),Di=!1,v=!0):v=!1),v||fo(o)),Ne(o),v=o.type,x=o.pendingProps,I=a!==null?a.memoizedProps:null,h=x.children,xx(v,x)?h=null:I!==null&&xx(v,I)&&(o.flags|=32),o.memoizedState!==null&&(v=bb(a,o,iU,null,null,u),kf._currentValue=v),Cp(a,o),ar(a,o,h,u),o.child;case 6:return a===null&&ct&&((a=u=Ht)&&(u=FU(u,o.pendingProps,Di),u!==null?(o.stateNode=u,rr=o,Ht=null,a=!0):a=!1),a||fo(o)),null;case 13:return h2(a,o,u);case 4:return Je(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=kl(o,null,h,u):ar(a,o,h,u),o.child;case 11:return i2(a,o,o.type,o.pendingProps,u);case 7:return ar(a,o,o.pendingProps,u),o.child;case 8:return ar(a,o,o.pendingProps.children,u),o.child;case 12:return ar(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,ho(o,o.type,h.value),ar(a,o,h.children,u),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Pl(o),v=ir(v),h=h(v),o.flags|=1,ar(a,o,h,u),o.child;case 14:return a2(a,o,o.type,o.pendingProps,u);case 15:return s2(a,o,o.type,o.pendingProps,u);case 19:return p2(a,o,u);case 31:return fU(a,o,u);case 22:return o2(a,o,u,o.pendingProps);case 24:return Pl(o),h=ir(An),a===null?(v=cb(),v===null&&(v=zt,x=ob(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),o.memoizedState={parent:h,cache:v},db(o),ho(o,An,v)):((a.lanes&u)!==0&&(fb(a,o),gf(o,null,null,u),pf()),v=a.memoizedState,x=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ho(o,An,h)):(h=x.cache,ho(o,An,h),h!==v.cache&&sb(o,[An],u,!0))),ar(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ys(a){a.flags|=4}function Kb(a,o,u,h,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if($2())a.flags|=8192;else throw Ml=mp,ub}else a.flags&=-16777217}function y2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!PN(o))if($2())a.flags|=8192;else throw Ml=mp,ub}function Rp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Hn():536870912,a.lanes|=o,pu|=o)}function wf(a,o){if(!ct)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Gt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function mU(a,o,u){var h=o.pendingProps;switch(tb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),hs(An),le(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(nu(o)?ys(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,rb())),Gt(o),null;case 26:var v=o.type,x=o.memoizedState;return a===null?(ys(o),x!==null?(Gt(o),y2(o,x)):(Gt(o),Kb(o,v,null,h,u))):x?x!==a.memoizedState?(ys(o),Gt(o),y2(o,x)):(Gt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&ys(o),Gt(o),Kb(o,v,a,h,u)),null;case 27:if(He(o),u=_e.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ys(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}a=ce.current,nu(o)?XT(o):(a=SN(v,h,u),o.stateNode=a,ys(o))}return Gt(o),null;case 5:if(He(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ys(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}if(x=ce.current,nu(o))XT(o);else{var I=Gp(_e.current);switch(x){case 1:x=I.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=I.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=I.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?I.createElement(v,{is:h.is}):I.createElement(v)}}x[wn]=o,x[Gn]=h;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)x.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=x;e:switch(sr(x,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ys(o)}}return Gt(o),Kb(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&ys(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=_e.current,nu(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,v=rr,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[wn]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||hN(a.nodeValue,u)),a||fo(o,!0)}else a=Gp(a).createTextNode(h),a[wn]=o,o.stateNode=a}return Gt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=nu(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[wn]=o}else Ol(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),a=!1}else u=rb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(li(o),o):(li(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Gt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=nu(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[wn]=o}else Ol(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),v=!1}else v=rb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(li(o),o):(li(o),null)}return li(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==v&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Rp(o,o.updateQueue),Gt(o),null);case 4:return le(),a===null&&px(o.stateNode.containerInfo),Gt(o),null;case 10:return hs(o.type),Gt(o),null;case 19:if(X(mn),h=o.memoizedState,h===null)return Gt(o),null;if(v=(o.flags&128)!==0,x=h.rendering,x===null)if(v)wf(h,!1);else{if(on!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=vp(a),x!==null){for(o.flags|=128,wf(h,!1),a=x.updateQueue,o.updateQueue=a,Rp(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)HT(u,a),u=u.sibling;return J(mn,mn.current&1|2),ct&&ds(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&ht()>kp&&(o.flags|=128,v=!0,wf(h,!1),o.lanes=4194304)}else{if(!v)if(a=vp(x),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,Rp(o,a),wf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!ct)return Gt(o),null}else 2*ht()-h.renderingStartTime>kp&&u!==536870912&&(o.flags|=128,v=!0,wf(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(a=h.last,a!==null?a.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=ht(),a.sibling=null,u=mn.current,J(mn,v?u&1|2:u&1),ct&&ds(o,h.treeForkCount),a):(Gt(o),null);case 22:case 23:return li(o),gb(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),u=o.updateQueue,u!==null&&Rp(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&X(Dl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),hs(An),Gt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function pU(a,o){switch(tb(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return hs(An),le(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 31:if(o.memoizedState!==null){if(li(o),o.alternate===null)throw Error(r(340));Ol()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(li(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ol()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return X(mn),null;case 4:return le(),null;case 10:return hs(o.type),null;case 22:case 23:return li(o),gb(),a!==null&&X(Dl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return hs(An),null;case 25:return null;default:return null}}function v2(a,o){switch(tb(o),o.tag){case 3:hs(An),le();break;case 26:case 27:case 5:He(o);break;case 4:le();break;case 31:o.memoizedState!==null&&li(o);break;case 13:li(o);break;case 19:X(mn);break;case 10:hs(o.type);break;case 22:case 23:li(o),gb(),a!==null&&X(Dl);break;case 24:hs(An)}}function Ef(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&a)===a){h=void 0;var x=u.create,I=u.inst;h=x(),I.destroy=h}u=u.next}while(u!==v)}}catch(z){Tt(o,o.return,z)}}function bo(a,o,u){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var x=v.next;h=x;do{if((h.tag&a)===a){var I=h.inst,z=I.destroy;if(z!==void 0){I.destroy=void 0,v=o;var G=u,ie=z;try{ie()}catch(me){Tt(v,G,me)}}}h=h.next}while(h!==x)}}catch(me){Tt(o,o.return,me)}}function b2(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{cI(o,u)}catch(h){Tt(a,a.return,h)}}}function x2(a,o,u){u.props=Ll(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){Tt(a,o,h)}}function Sf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(v){Tt(a,o,v)}}function ja(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){Tt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Tt(a,o,v)}else u.current=null}function _2(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){Tt(a,a.return,v)}}function Yb(a,o,u){try{var h=a.stateNode;VU(h,a.type,u,o),h[Gn]=o}catch(v){Tt(a,a.return,v)}}function w2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&To(a.type)||a.tag===4}function Wb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||w2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&To(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Xb(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ea));else if(h!==4&&(h===27&&To(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Xb(a,o,u),a=a.sibling;a!==null;)Xb(a,o,u),a=a.sibling}function Pp(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&To(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Pp(a,o,u),a=a.sibling;a!==null;)Pp(a,o,u),a=a.sibling}function E2(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);sr(o,h,u),o[wn]=a,o[Gn]=u}catch(x){Tt(a,a.return,x)}}var vs=!1,Nn=!1,Qb=!1,S2=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function gU(a,o){if(a=a.containerInfo,vx=Jp,a=kT(a),F0(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var I=0,z=-1,G=-1,ie=0,me=0,ge=a,ae=null;t:for(;;){for(var oe;ge!==u||v!==0&&ge.nodeType!==3||(z=I+v),ge!==x||h!==0&&ge.nodeType!==3||(G=I+h),ge.nodeType===3&&(I+=ge.nodeValue.length),(oe=ge.firstChild)!==null;)ae=ge,ge=oe;for(;;){if(ge===a)break t;if(ae===u&&++ie===v&&(z=I),ae===x&&++me===h&&(G=I),(oe=ge.nextSibling)!==null)break;ge=ae,ae=ge.parentNode}ge=oe}u=z===-1||G===-1?null:{start:z,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(bx={focusedElem:a,selectionRange:u},Jp=!1,Yn=o;Yn!==null;)if(o=Yn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Yn=a;else for(;Yn!==null;){switch(o=Yn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,u=o,v=x.memoizedProps,x=x.memoizedState,h=u.stateNode;try{var De=Ll(u.type,v);a=h.getSnapshotBeforeUpdate(De,x),h.__reactInternalSnapshotBeforeUpdate=a}catch($e){Tt(u,u.return,$e)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)wx(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":wx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Yn=a;break}Yn=o.return}}function A2(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:xs(a,u),h&4&&Ef(5,u);break;case 1:if(xs(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(I){Tt(u,u.return,I)}else{var v=Ll(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(I){Tt(u,u.return,I)}}h&64&&b2(u),h&512&&Sf(u,u.return);break;case 3:if(xs(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{cI(a,o)}catch(I){Tt(u,u.return,I)}}break;case 27:o===null&&h&4&&E2(u);case 26:case 5:xs(a,u),o===null&&h&4&&_2(u),h&512&&Sf(u,u.return);break;case 12:xs(a,u);break;case 31:xs(a,u),h&4&&N2(a,u);break;case 13:xs(a,u),h&4&&C2(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=AU.bind(null,u),HU(a,u))));break;case 22:if(h=u.memoizedState!==null||vs,!h){o=o!==null&&o.memoizedState!==null||Nn,v=vs;var x=Nn;vs=h,(Nn=o)&&!x?_s(a,u,(u.subtreeFlags&8772)!==0):xs(a,u),vs=v,Nn=x}break;case 30:break;default:xs(a,u)}}function T2(a){var o=a.alternate;o!==null&&(a.alternate=null,T2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&zc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Jt=null,Fr=!1;function bs(a,o,u){for(u=u.child;u!==null;)I2(a,o,u),u=u.sibling}function I2(a,o,u){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Et,u)}catch{}switch(u.tag){case 26:Nn||ja(u,o),bs(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Nn||ja(u,o);var h=Jt,v=Fr;To(u.type)&&(Jt=u.stateNode,Fr=!1),bs(a,o,u),Df(u.stateNode),Jt=h,Fr=v;break;case 5:Nn||ja(u,o);case 6:if(h=Jt,v=Fr,Jt=null,bs(a,o,u),Jt=h,Fr=v,Jt!==null)if(Fr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(u.stateNode)}catch(x){Tt(u,o,x)}else try{Jt.removeChild(u.stateNode)}catch(x){Tt(u,o,x)}break;case 18:Jt!==null&&(Fr?(a=Jt,bN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Eu(a)):bN(Jt,u.stateNode));break;case 4:h=Jt,v=Fr,Jt=u.stateNode.containerInfo,Fr=!0,bs(a,o,u),Jt=h,Fr=v;break;case 0:case 11:case 14:case 15:bo(2,u,o),Nn||bo(4,u,o),bs(a,o,u);break;case 1:Nn||(ja(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&x2(u,o,h)),bs(a,o,u);break;case 21:bs(a,o,u);break;case 22:Nn=(h=Nn)||u.memoizedState!==null,bs(a,o,u),Nn=h;break;default:bs(a,o,u)}}function N2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Eu(a)}catch(u){Tt(o,o.return,u)}}}function C2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Eu(a)}catch(u){Tt(o,o.return,u)}}function yU(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new S2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new S2),o;default:throw Error(r(435,a.tag))}}function Dp(a,o){var u=yU(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var v=TU.bind(null,a,h);h.then(v,v)}})}function Hr(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],x=a,I=o,z=I;e:for(;z!==null;){switch(z.tag){case 27:if(To(z.type)){Jt=z.stateNode,Fr=!1;break e}break;case 5:Jt=z.stateNode,Fr=!1;break e;case 3:case 4:Jt=z.stateNode.containerInfo,Fr=!0;break e}z=z.return}if(Jt===null)throw Error(r(160));I2(x,I,v),Jt=null,Fr=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)O2(o,a),o=o.sibling}var sa=null;function O2(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Hr(o,a),Gr(a),h&4&&(bo(3,a,a.return),Ef(3,a),bo(5,a,a.return));break;case 1:Hr(o,a),Gr(a),h&512&&(Nn||u===null||ja(u,u.return)),h&64&&vs&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=sa;if(Hr(o,a),Gr(a),h&512&&(Nn||u===null||ja(u,u.return)),h&4){var x=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":x=v.getElementsByTagName("title")[0],(!x||x[xa]||x[wn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(h),v.head.insertBefore(x,v.querySelector("head > title"))),sr(x,h,u),x[wn]=a,En(x),h=x;break e;case"link":var I=ON("link","href",v).get(h+(u.href||""));if(I){for(var z=0;z<I.length;z++)if(x=I[z],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(z,1);break t}}x=v.createElement(h),sr(x,h,u),v.head.appendChild(x);break;case"meta":if(I=ON("meta","content",v).get(h+(u.content||""))){for(z=0;z<I.length;z++)if(x=I[z],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(z,1);break t}}x=v.createElement(h),sr(x,h,u),v.head.appendChild(x);break;default:throw Error(r(468,h))}x[wn]=a,En(x),h=x}a.stateNode=h}else RN(v,a.type,a.stateNode);else a.stateNode=CN(v,h,a.memoizedProps);else x!==h?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,h===null?RN(v,a.type,a.stateNode):CN(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Yb(a,a.memoizedProps,u.memoizedProps)}break;case 27:Hr(o,a),Gr(a),h&512&&(Nn||u===null||ja(u,u.return)),u!==null&&h&4&&Yb(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Hr(o,a),Gr(a),h&512&&(Nn||u===null||ja(u,u.return)),a.flags&32){v=a.stateNode;try{$r(v,"")}catch(De){Tt(a,a.return,De)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,Yb(a,v,u!==null?u.memoizedProps:v)),h&1024&&(Qb=!0);break;case 6:if(Hr(o,a),Gr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(De){Tt(a,a.return,De)}}break;case 3:if(Wp=null,v=sa,sa=Kp(o.containerInfo),Hr(o,a),sa=v,Gr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Eu(o.containerInfo)}catch(De){Tt(a,a.return,De)}Qb&&(Qb=!1,R2(a));break;case 4:h=sa,sa=Kp(a.stateNode.containerInfo),Hr(o,a),Gr(a),sa=h;break;case 12:Hr(o,a),Gr(a);break;case 31:Hr(o,a),Gr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Dp(a,h)));break;case 13:Hr(o,a),Gr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Mp=ht()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Dp(a,h)));break;case 22:v=a.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ie=vs,me=Nn;if(vs=ie||v,Nn=me||G,Hr(o,a),Nn=me,vs=ie,Gr(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||G||vs||Nn||zl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(x=G.stateNode,v)I=x.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{z=G.stateNode;var ge=G.memoizedProps.style,ae=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;z.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(De){Tt(G,G.return,De)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(De){Tt(G,G.return,De)}}}else if(o.tag===18){if(u===null){G=o;try{var oe=G.stateNode;v?xN(oe,!0):xN(G.stateNode,!1)}catch(De){Tt(G,G.return,De)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Dp(a,u))));break;case 19:Hr(o,a),Gr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Dp(a,h)));break;case 30:break;case 21:break;default:Hr(o,a),Gr(a)}}function Gr(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(w2(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,x=Wb(a);Pp(a,x,v);break;case 5:var I=u.stateNode;u.flags&32&&($r(I,""),u.flags&=-33);var z=Wb(a);Pp(a,z,I);break;case 3:case 4:var G=u.stateNode.containerInfo,ie=Wb(a);Xb(a,ie,G);break;default:throw Error(r(161))}}catch(me){Tt(a,a.return,me)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function R2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;R2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function xs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)A2(a,o.alternate,o),o=o.sibling}function zl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:bo(4,o,o.return),zl(o);break;case 1:ja(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&x2(o,o.return,u),zl(o);break;case 27:Df(o.stateNode);case 26:case 5:ja(o,o.return),zl(o);break;case 22:o.memoizedState===null&&zl(o);break;case 30:zl(o);break;default:zl(o)}a=a.sibling}}function _s(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,x=o,I=x.flags;switch(x.tag){case 0:case 11:case 15:_s(v,x,u),Ef(4,x);break;case 1:if(_s(v,x,u),h=x,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ie){Tt(h,h.return,ie)}if(h=x,v=h.updateQueue,v!==null){var z=h.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)lI(G[v],z)}catch(ie){Tt(h,h.return,ie)}}u&&I&64&&b2(x),Sf(x,x.return);break;case 27:E2(x);case 26:case 5:_s(v,x,u),u&&h===null&&I&4&&_2(x),Sf(x,x.return);break;case 12:_s(v,x,u);break;case 31:_s(v,x,u),u&&I&4&&N2(v,x);break;case 13:_s(v,x,u),u&&I&4&&C2(v,x);break;case 22:x.memoizedState===null&&_s(v,x,u),Sf(x,x.return);break;case 30:break;default:_s(v,x,u)}o=o.sibling}}function Zb(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&uf(u))}function Jb(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&uf(a))}function oa(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)P2(a,o,u,h),o=o.sibling}function P2(a,o,u,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:oa(a,o,u,h),v&2048&&Ef(9,o);break;case 1:oa(a,o,u,h);break;case 3:oa(a,o,u,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&uf(a)));break;case 12:if(v&2048){oa(a,o,u,h),a=o.stateNode;try{var x=o.memoizedProps,I=x.id,z=x.onPostCommit;typeof z=="function"&&z(I,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){Tt(o,o.return,G)}}else oa(a,o,u,h);break;case 31:oa(a,o,u,h);break;case 13:oa(a,o,u,h);break;case 23:break;case 22:x=o.stateNode,I=o.alternate,o.memoizedState!==null?x._visibility&2?oa(a,o,u,h):Af(a,o):x._visibility&2?oa(a,o,u,h):(x._visibility|=2,fu(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Zb(I,o);break;case 24:oa(a,o,u,h),v&2048&&Jb(o.alternate,o);break;default:oa(a,o,u,h)}}function fu(a,o,u,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,I=o,z=u,G=h,ie=I.flags;switch(I.tag){case 0:case 11:case 15:fu(x,I,z,G,v),Ef(8,I);break;case 23:break;case 22:var me=I.stateNode;I.memoizedState!==null?me._visibility&2?fu(x,I,z,G,v):Af(x,I):(me._visibility|=2,fu(x,I,z,G,v)),v&&ie&2048&&Zb(I.alternate,I);break;case 24:fu(x,I,z,G,v),v&&ie&2048&&Jb(I.alternate,I);break;default:fu(x,I,z,G,v)}o=o.sibling}}function Af(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,v=h.flags;switch(h.tag){case 22:Af(u,h),v&2048&&Zb(h.alternate,h);break;case 24:Af(u,h),v&2048&&Jb(h.alternate,h);break;default:Af(u,h)}o=o.sibling}}var Tf=8192;function hu(a,o,u){if(a.subtreeFlags&Tf)for(a=a.child;a!==null;)D2(a,o,u),a=a.sibling}function D2(a,o,u){switch(a.tag){case 26:hu(a,o,u),a.flags&Tf&&a.memoizedState!==null&&rB(u,sa,a.memoizedState,a.memoizedProps);break;case 5:hu(a,o,u);break;case 3:case 4:var h=sa;sa=Kp(a.stateNode.containerInfo),hu(a,o,u),sa=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Tf,Tf=16777216,hu(a,o,u),Tf=h):hu(a,o,u));break;default:hu(a,o,u)}}function j2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function If(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Yn=h,k2(h,a)}j2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)M2(a),a=a.sibling}function M2(a){switch(a.tag){case 0:case 11:case 15:If(a),a.flags&2048&&bo(9,a,a.return);break;case 3:If(a);break;case 12:If(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,jp(a)):If(a);break;default:If(a)}}function jp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Yn=h,k2(h,a)}j2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:bo(8,o,o.return),jp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,jp(o));break;default:jp(o)}a=a.sibling}}function k2(a,o){for(;Yn!==null;){var u=Yn;switch(u.tag){case 0:case 11:case 15:bo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:uf(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Yn=h;else e:for(u=a;Yn!==null;){h=Yn;var v=h.sibling,x=h.return;if(T2(h),h===u){Yn=null;break e}if(v!==null){v.return=x,Yn=v;break e}Yn=x}}}var vU={getCacheForType:function(a){var o=ir(An),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return ir(An).controller.signal}},bU=typeof WeakMap=="function"?WeakMap:Map,xt=0,zt=null,rt=null,at=0,At=0,ci=null,xo=!1,mu=!1,ex=!1,ws=0,on=0,_o=0,Ul=0,tx=0,ui=0,pu=0,Nf=null,Kr=null,nx=!1,Mp=0,V2=0,kp=1/0,Vp=null,wo=null,jn=0,Eo=null,gu=null,Es=0,rx=0,ix=null,L2=null,Cf=0,ax=null;function di(){return(xt&2)!==0&&at!==0?at&-at:Y.T!==null?dx():ni()}function z2(){if(ui===0)if((at&536870912)===0||ct){var a=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),ui=a}else ui=536870912;return a=oi.current,a!==null&&(a.flags|=32),ui}function Yr(a,o,u){(a===zt&&(At===2||At===9)||a.cancelPendingCommit!==null)&&(yu(a,0),So(a,at,ui,!1)),Br(a,u),((xt&2)===0||a!==zt)&&(a===zt&&((xt&2)===0&&(Ul|=u),on===4&&So(a,at,ui,!1)),Ma(a))}function U2(a,o,u){if((xt&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||_n(a,o),v=h?wU(a,o):ox(a,o,!0),x=h;do{if(v===0){mu&&!h&&So(a,o,0,!1);break}else{if(u=a.current.alternate,x&&!xU(u)){v=ox(a,o,!1),x=!1;continue}if(v===2){if(x=o,a.errorRecoveryDisabledLanes&x)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var z=a;v=Nf;var G=z.current.memoizedState.isDehydrated;if(G&&(yu(z,I).flags|=256),I=ox(z,I,!1),I!==2){if(ex&&!G){z.errorRecoveryDisabledLanes|=x,Ul|=x,v=4;break e}x=Kr,Kr=v,x!==null&&(Kr===null?Kr=x:Kr.push.apply(Kr,x))}v=I}if(x=!1,v!==2)continue}}if(v===1){yu(a,0),So(a,o,0,!0);break}e:{switch(h=a,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:So(h,o,ui,!xo);break e;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Mp+300-ht(),10<v)){if(So(h,o,ui,!xo),Qt(h,0,!0)!==0)break e;Es=o,h.timeoutHandle=yN(B2.bind(null,h,u,Kr,Vp,nx,o,ui,Ul,pu,xo,x,"Throttled",-0,0),v);break e}B2(h,u,Kr,Vp,nx,o,ui,Ul,pu,xo,x,null,-0,0)}}break}while(!0);Ma(a)}function B2(a,o,u,h,v,x,I,z,G,ie,me,ge,ae,oe){if(a.timeoutHandle=-1,ge=o.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},D2(o,x,ge);var De=(x&62914560)===x?Mp-ht():(x&4194048)===x?V2-ht():0;if(De=iB(ge,De),De!==null){Es=x,a.cancelPendingCommit=De(W2.bind(null,a,o,x,u,h,v,I,z,G,me,ge,null,ae,oe)),So(a,x,I,!ie);return}}W2(a,o,x,u,h,v,I,z,G)}function xU(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],x=v.getSnapshot;v=v.value;try{if(!ai(x(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function So(a,o,u,h){o&=~tx,o&=~Ul,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var x=31-Pt(v),I=1<<x;h[x]=-1,v&=~I}u!==0&&pr(a,u,o)}function Lp(){return(xt&6)===0?(Of(0),!1):!0}function sx(){if(rt!==null){if(At===0)var a=rt.return;else a=rt,fs=Rl=null,wb(a),ou=null,ff=0,a=rt;for(;a!==null;)v2(a.alternate,a),a=a.return;rt=null}}function yu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,UU(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Es=0,sx(),zt=a,rt=u=us(a.current,null),at=o,At=0,ci=null,xo=!1,mu=_n(a,o),ex=!1,pu=ui=tx=Ul=_o=on=0,Kr=Nf=null,nx=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-Pt(h),x=1<<v;o|=a[v],h&=~x}return ws=o,ap(),u}function q2(a,o){Qe=null,Y.H=xf,o===su||o===hp?(o=iI(),At=3):o===ub?(o=iI(),At=4):At=o===Lb?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ci=o,rt===null&&(on=1,Ip(a,Oi(o,a.current)))}function $2(){var a=oi.current;return a===null?!0:(at&4194048)===at?ji===null:(at&62914560)===at||(at&536870912)!==0?a===ji:!1}function F2(){var a=Y.H;return Y.H=xf,a===null?xf:a}function H2(){var a=Y.A;return Y.A=vU,a}function zp(){on=4,xo||(at&4194048)!==at&&oi.current!==null||(mu=!0),(_o&134217727)===0&&(Ul&134217727)===0||zt===null||So(zt,at,ui,!1)}function ox(a,o,u){var h=xt;xt|=2;var v=F2(),x=H2();(zt!==a||at!==o)&&(Vp=null,yu(a,o)),o=!1;var I=on;e:do try{if(At!==0&&rt!==null){var z=rt,G=ci;switch(At){case 8:sx(),I=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(o=!0);var ie=At;if(At=0,ci=null,vu(a,z,G,ie),u&&mu){I=0;break e}break;default:ie=At,At=0,ci=null,vu(a,z,G,ie)}}_U(),I=on;break}catch(me){q2(a,me)}while(!0);return o&&a.shellSuspendCounter++,fs=Rl=null,xt=h,Y.H=v,Y.A=x,rt===null&&(zt=null,at=0,ap()),I}function _U(){for(;rt!==null;)G2(rt)}function wU(a,o){var u=xt;xt|=2;var h=F2(),v=H2();zt!==a||at!==o?(Vp=null,kp=ht()+500,yu(a,o)):mu=_n(a,o);e:do try{if(At!==0&&rt!==null){o=rt;var x=ci;t:switch(At){case 1:At=0,ci=null,vu(a,o,x,1);break;case 2:case 9:if(nI(x)){At=0,ci=null,K2(o);break}o=function(){At!==2&&At!==9||zt!==a||(At=7),Ma(a)},x.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:nI(x)?(At=0,ci=null,K2(o)):(At=0,ci=null,vu(a,o,x,7));break;case 5:var I=null;switch(rt.tag){case 26:I=rt.memoizedState;case 5:case 27:var z=rt;if(I?PN(I):z.stateNode.complete){At=0,ci=null;var G=z.sibling;if(G!==null)rt=G;else{var ie=z.return;ie!==null?(rt=ie,Up(ie)):rt=null}break t}}At=0,ci=null,vu(a,o,x,5);break;case 6:At=0,ci=null,vu(a,o,x,6);break;case 8:sx(),on=6;break e;default:throw Error(r(462))}}EU();break}catch(me){q2(a,me)}while(!0);return fs=Rl=null,Y.H=h,Y.A=v,xt=u,rt!==null?0:(zt=null,at=0,ap(),on)}function EU(){for(;rt!==null&&!vt();)G2(rt)}function G2(a){var o=g2(a.alternate,a,ws);a.memoizedProps=a.pendingProps,o===null?Up(a):rt=o}function K2(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=u2(u,o,o.pendingProps,o.type,void 0,at);break;case 11:o=u2(u,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:wb(o);default:v2(u,o),o=rt=HT(o,ws),o=g2(u,o,ws)}a.memoizedProps=a.pendingProps,o===null?Up(a):rt=o}function vu(a,o,u,h){fs=Rl=null,wb(o),ou=null,ff=0;var v=o.return;try{if(dU(a,v,o,u,at)){on=1,Ip(a,Oi(u,a.current)),rt=null;return}}catch(x){if(v!==null)throw rt=v,x;on=1,Ip(a,Oi(u,a.current)),rt=null;return}o.flags&32768?(ct||h===1?a=!0:mu||(at&536870912)!==0?a=!1:(xo=a=!0,(h===2||h===9||h===3||h===6)&&(h=oi.current,h!==null&&h.tag===13&&(h.flags|=16384))),Y2(o,a)):Up(o)}function Up(a){var o=a;do{if((o.flags&32768)!==0){Y2(o,xo);return}a=o.return;var u=mU(o.alternate,o,ws);if(u!==null){rt=u;return}if(o=o.sibling,o!==null){rt=o;return}rt=o=a}while(o!==null);on===0&&(on=5)}function Y2(a,o){do{var u=pU(a.alternate,a);if(u!==null){u.flags&=32767,rt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){rt=a;return}rt=a=u}while(a!==null);on=6,rt=null}function W2(a,o,u,h,v,x,I,z,G){a.cancelPendingCommit=null;do Bp();while(jn!==0);if((xt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=W0,fn(a,u,x,I,z,G),a===zt&&(rt=zt=null,at=0),gu=o,Eo=a,Es=u,rx=x,ix=v,L2=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,IU(Me,function(){return eN(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,v=H.p,H.p=2,I=xt,xt|=4;try{gU(a,o,u)}finally{xt=I,H.p=v,Y.T=h}}jn=1,X2(),Q2(),Z2()}}function X2(){if(jn===1){jn=0;var a=Eo,o=gu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var h=H.p;H.p=2;var v=xt;xt|=4;try{O2(o,a);var x=bx,I=kT(a.containerInfo),z=x.focusedElem,G=x.selectionRange;if(I!==z&&z&&z.ownerDocument&&MT(z.ownerDocument.documentElement,z)){if(G!==null&&F0(z)){var ie=G.start,me=G.end;if(me===void 0&&(me=ie),"selectionStart"in z)z.selectionStart=ie,z.selectionEnd=Math.min(me,z.value.length);else{var ge=z.ownerDocument||document,ae=ge&&ge.defaultView||window;if(ae.getSelection){var oe=ae.getSelection(),De=z.textContent.length,$e=Math.min(G.start,De),kt=G.end===void 0?$e:Math.min(G.end,De);!oe.extend&&$e>kt&&(I=kt,kt=$e,$e=I);var Z=jT(z,$e),K=jT(z,kt);if(Z&&K&&(oe.rangeCount!==1||oe.anchorNode!==Z.node||oe.anchorOffset!==Z.offset||oe.focusNode!==K.node||oe.focusOffset!==K.offset)){var re=ge.createRange();re.setStart(Z.node,Z.offset),oe.removeAllRanges(),$e>kt?(oe.addRange(re),oe.extend(K.node,K.offset)):(re.setEnd(K.node,K.offset),oe.addRange(re))}}}}for(ge=[],oe=z;oe=oe.parentNode;)oe.nodeType===1&&ge.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ge.length;z++){var pe=ge[z];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Jp=!!vx,bx=vx=null}finally{xt=v,H.p=h,Y.T=u}}a.current=o,jn=2}}function Q2(){if(jn===2){jn=0;var a=Eo,o=gu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var h=H.p;H.p=2;var v=xt;xt|=4;try{A2(a,o.alternate,o)}finally{xt=v,H.p=h,Y.T=u}}jn=3}}function Z2(){if(jn===4||jn===3){jn=0,Wt();var a=Eo,o=gu,u=Es,h=L2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?jn=5:(jn=0,gu=Eo=null,J2(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(wo=null),Or(u),o=o.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Et,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=Y.T,v=H.p,H.p=2,Y.T=null;try{for(var x=a.onRecoverableError,I=0;I<h.length;I++){var z=h[I];x(z.value,{componentStack:z.stack})}}finally{Y.T=o,H.p=v}}(Es&3)!==0&&Bp(),Ma(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===ax?Cf++:(Cf=0,ax=a):Cf=0,Of(0)}}function J2(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,uf(o)))}function Bp(){return X2(),Q2(),Z2(),eN()}function eN(){if(jn!==5)return!1;var a=Eo,o=rx;rx=0;var u=Or(Es),h=Y.T,v=H.p;try{H.p=32>u?32:u,Y.T=null,u=ix,ix=null;var x=Eo,I=Es;if(jn=0,gu=Eo=null,Es=0,(xt&6)!==0)throw Error(r(331));var z=xt;if(xt|=4,M2(x.current),P2(x,x.current,I,u),xt=z,Of(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Et,x)}catch{}return!0}finally{H.p=v,Y.T=h,J2(a,o)}}function tN(a,o,u){o=Oi(u,o),o=Vb(a.stateNode,o,2),a=go(a,o,2),a!==null&&(Br(a,2),Ma(a))}function Tt(a,o,u){if(a.tag===3)tN(a,a,u);else for(;o!==null;){if(o.tag===3){tN(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(wo===null||!wo.has(h))){a=Oi(u,a),u=n2(2),h=go(o,u,2),h!==null&&(r2(u,h,o,a),Br(h,2),Ma(h));break}}o=o.return}}function lx(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new bU;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(ex=!0,v.add(u),a=SU.bind(null,a,o,u),o.then(a,a))}function SU(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,zt===a&&(at&u)===u&&(on===4||on===3&&(at&62914560)===at&&300>ht()-Mp?(xt&2)===0&&yu(a,0):tx|=u,pu===at&&(pu=0)),Ma(a)}function nN(a,o){o===0&&(o=Hn()),a=Nl(a,o),a!==null&&(Br(a,o),Ma(a))}function AU(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),nN(a,u)}function TU(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),nN(a,u)}function IU(a,o){return Fe(a,o)}var qp=null,bu=null,cx=!1,$p=!1,ux=!1,Ao=0;function Ma(a){a!==bu&&a.next===null&&(bu===null?qp=bu=a:bu=bu.next=a),$p=!0,cx||(cx=!0,CU())}function Of(a,o){if(!ux&&$p){ux=!0;do for(var u=!1,h=qp;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var x=0;else{var I=h.suspendedLanes,z=h.pingedLanes;x=(1<<31-Pt(42|a)+1)-1,x&=v&~(I&~z),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,sN(h,x))}else x=at,x=Qt(h,h===zt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||_n(h,x)||(u=!0,sN(h,x));h=h.next}while(u);ux=!1}}function NU(){rN()}function rN(){$p=cx=!1;var a=0;Ao!==0&&zU()&&(a=Ao);for(var o=ht(),u=null,h=qp;h!==null;){var v=h.next,x=iN(h,o);x===0?(h.next=null,u===null?qp=v:u.next=v,v===null&&(bu=u)):(u=h,(a!==0||(x&3)!==0)&&($p=!0)),h=v}jn!==0&&jn!==5||Of(a),Ao!==0&&(Ao=0)}function iN(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var I=31-Pt(x),z=1<<I,G=v[I];G===-1?((z&u)===0||(z&h)!==0)&&(v[I]=mr(z,o)):G<=o&&(a.expiredLanes|=z),x&=~z}if(o=zt,u=at,u=Qt(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(At===2||At===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&dt(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||_n(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&dt(h),Or(u)){case 2:case 8:u=xn;break;case 32:u=Me;break;case 268435456:u=hr;break;default:u=Me}return h=aN.bind(null,a),u=Fe(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&dt(h),a.callbackPriority=2,a.callbackNode=null,2}function aN(a,o){if(jn!==0&&jn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Bp()&&a.callbackNode!==u)return null;var h=at;return h=Qt(a,a===zt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(U2(a,h,o),iN(a,ht()),a.callbackNode!=null&&a.callbackNode===u?aN.bind(null,a):null)}function sN(a,o){if(Bp())return null;U2(a,o,!0)}function CU(){BU(function(){(xt&6)!==0?Fe(an,NU):rN()})}function dx(){if(Ao===0){var a=iu;a===0&&(a=Si,Si<<=1,(Si&261888)===0&&(Si=256)),Ao=a}return Ao}function oN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:$c(""+a)}function lN(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function OU(a,o,u,h,v){if(o==="submit"&&u&&u.stateNode===v){var x=oN((v[Gn]||null).action),I=h.submitter;I&&(o=(o=I[Gn]||null)?oN(o.formAction):I.getAttribute("formAction"),o!==null&&(x=o,I=null));var z=new Na("action","action",null,h,v);a.push({event:z,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ao!==0){var G=I?lN(v,I):new FormData(v);Rb(u,{pending:!0,data:G,method:v.method,action:x},null,G)}}else typeof x=="function"&&(z.preventDefault(),G=I?lN(v,I):new FormData(v),Rb(u,{pending:!0,data:G,method:v.method,action:x},x,G))},currentTarget:v}]})}}for(var fx=0;fx<Y0.length;fx++){var hx=Y0[fx],RU=hx.toLowerCase(),PU=hx[0].toUpperCase()+hx.slice(1);aa(RU,"on"+PU)}aa(zT,"onAnimationEnd"),aa(UT,"onAnimationIteration"),aa(BT,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(Yz,"onTransitionRun"),aa(Wz,"onTransitionStart"),aa(Xz,"onTransitionCancel"),aa(qT,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rf));function cN(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],v=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var I=h.length-1;0<=I;I--){var z=h[I],G=z.instance,ie=z.currentTarget;if(z=z.listener,G!==x&&v.isPropagationStopped())break e;x=z,v.currentTarget=ie;try{x(v)}catch(me){ip(me)}v.currentTarget=null,x=G}else for(I=0;I<h.length;I++){if(z=h[I],G=z.instance,ie=z.currentTarget,z=z.listener,G!==x&&v.isPropagationStopped())break e;x=z,v.currentTarget=ie;try{x(v)}catch(me){ip(me)}v.currentTarget=null,x=G}}}}function it(a,o){var u=o[Lc];u===void 0&&(u=o[Lc]=new Set);var h=a+"__bubble";u.has(h)||(uN(o,a,2,!1),u.add(h))}function mx(a,o,u){var h=0;o&&(h|=4),uN(u,a,h,o)}var Fp="_reactListening"+Math.random().toString(36).slice(2);function px(a){if(!a[Fp]){a[Fp]=!0,qd.forEach(function(u){u!=="selectionchange"&&(DU.has(u)||mx(u,!1,a),mx(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Fp]||(o[Fp]=!0,mx("selectionchange",!1,o))}}function uN(a,o,u,h){switch(zN(o)){case 2:var v=oB;break;case 8:v=lB;break;default:v=Ox}u=v.bind(null,o,u,a),v=void 0,!xl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function gx(a,o,u,h,v){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var z=h.stateNode.containerInfo;if(z===v)break;if(I===4)for(I=h.return;I!==null;){var G=I.tag;if((G===3||G===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;z!==null;){if(I=_a(z),I===null)return;if(G=I.tag,G===5||G===6||G===26||G===27){h=x=I;continue e}z=z.parentNode}}h=h.return}ao(function(){var ie=x,me=Ti(u),ge=[];e:{var ae=$T.get(a);if(ae!==void 0){var oe=Na,De=a;switch(a){case"keypress":if(wl(u)===0)break e;case"keydown":case"keyup":oe=tp;break;case"focusin":De="focus",oe=Sl;break;case"focusout":De="blur",oe=Sl;break;case"beforeblur":case"afterblur":oe=Sl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=T;break;case zT:case UT:case BT:oe=Ym;break;case qT:oe=B;break;case"scroll":case"scrollend":oe=ef;break;case"wheel":oe=se;break;case"copy":case"cut":case"paste":oe=Wm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=cs;break;case"toggle":case"beforetoggle":oe=Xe}var $e=(o&4)!==0,kt=!$e&&(a==="scroll"||a==="scrollend"),Z=$e?ae!==null?ae+"Capture":null:ae;$e=[];for(var K=ie,re;K!==null;){var pe=K;if(re=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||re===null||Z===null||(pe=ta(K,Z),pe!=null&&$e.push(Pf(K,pe,re))),kt)break;K=K.return}0<$e.length&&(ae=new oe(ae,De,null,u,me),ge.push({event:ae,listeners:$e}))}}if((o&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",oe=a==="mouseout"||a==="pointerout",ae&&u!==Qd&&(De=u.relatedTarget||u.fromElement)&&(_a(De)||De[ba]))break e;if((oe||ae)&&(ae=me.window===me?me:(ae=me.ownerDocument)?ae.defaultView||ae.parentWindow:window,oe?(De=u.relatedTarget||u.toElement,oe=ie,De=De?_a(De):null,De!==null&&(kt=s(De),$e=De.tag,De!==kt||$e!==5&&$e!==27&&$e!==6)&&(De=null)):(oe=null,De=ie),oe!==De)){if($e=tf,pe="onMouseLeave",Z="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&($e=cs,pe="onPointerLeave",Z="onPointerEnter",K="pointer"),kt=oe==null?ae:ri(oe),re=De==null?ae:ri(De),ae=new $e(pe,K+"leave",oe,u,me),ae.target=kt,ae.relatedTarget=re,pe=null,_a(me)===ie&&($e=new $e(Z,K+"enter",De,u,me),$e.target=re,$e.relatedTarget=kt,pe=$e),kt=pe,oe&&De)t:{for($e=jU,Z=oe,K=De,re=0,pe=Z;pe;pe=$e(pe))re++;pe=0;for(var Ue=K;Ue;Ue=$e(Ue))pe++;for(;0<re-pe;)Z=$e(Z),re--;for(;0<pe-re;)K=$e(K),pe--;for(;re--;){if(Z===K||K!==null&&Z===K.alternate){$e=Z;break t}Z=$e(Z),K=$e(K)}$e=null}else $e=null;oe!==null&&dN(ge,ae,oe,$e,!1),De!==null&&kt!==null&&dN(ge,kt,De,$e,!0)}}e:{if(ae=ie?ri(ie):window,oe=ae.nodeName&&ae.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ae.type==="file")var pt=NT;else if(TT(ae))if(CT)pt=Hz;else{pt=$z;var ke=qz}else oe=ae.nodeName,!oe||oe.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ie&&qc(ie.elementType)&&(pt=NT):pt=Fz;if(pt&&(pt=pt(a,ie))){IT(ge,pt,u,me);break e}ke&&ke(a,ae,ie),a==="focusout"&&ie&&ae.type==="number"&&ie.memoizedProps.value!=null&&Yd(ae,"number",ae.value)}switch(ke=ie?ri(ie):window,a){case"focusin":(TT(ke)||ke.contentEditable==="true")&&(Xc=ke,H0=ie,of=null);break;case"focusout":of=H0=Xc=null;break;case"mousedown":G0=!0;break;case"contextmenu":case"mouseup":case"dragend":G0=!1,VT(ge,u,me);break;case"selectionchange":if(Kz)break;case"keydown":case"keyup":VT(ge,u,me)}var Ze;if(bt)e:{switch(a){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Wc?Al(a,u)&&(st="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(st="onCompositionStart");st&&(Ra&&u.locale!=="ko"&&(Wc||st!=="onCompositionStart"?st==="onCompositionEnd"&&Wc&&(Ze=Jd()):(Ia=me,Zd="value"in Ia?Ia.value:Ia.textContent,Wc=!0)),ke=Hp(ie,st),0<ke.length&&(st=new Oa(st,a,null,u,me),ge.push({event:st,listeners:ke}),Ze?st.data=Ze:(Ze=Yc(u),Ze!==null&&(st.data=Ze)))),(Ze=Ni?Lz(a,u):zz(a,u))&&(st=Hp(ie,"onBeforeInput"),0<st.length&&(ke=new Oa("onBeforeInput","beforeinput",null,u,me),ge.push({event:ke,listeners:st}),ke.data=Ze)),OU(ge,a,ie,u,me)}cN(ge,o)})}function Pf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Hp(a,o){for(var u=o+"Capture",h=[];a!==null;){var v=a,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=ta(a,u),v!=null&&h.unshift(Pf(a,v,x)),v=ta(a,o),v!=null&&h.push(Pf(a,v,x))),a.tag===3)return h;a=a.return}return[]}function jU(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function dN(a,o,u,h,v){for(var x=o._reactName,I=[];u!==null&&u!==h;){var z=u,G=z.alternate,ie=z.stateNode;if(z=z.tag,G!==null&&G===h)break;z!==5&&z!==26&&z!==27||ie===null||(G=ie,v?(ie=ta(u,x),ie!=null&&I.unshift(Pf(u,ie,G))):v||(ie=ta(u,x),ie!=null&&I.push(Pf(u,ie,G)))),u=u.return}I.length!==0&&a.push({event:o,listeners:I})}var MU=/\r\n?/g,kU=/\u0000|\uFFFD/g;function fN(a){return(typeof a=="string"?a:""+a).replace(MU,`
`).replace(kU,"")}function hN(a,o){return o=fN(o),fN(a)===o}function Mt(a,o,u,h,v,x){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||$r(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&$r(a,""+h);break;case"className":ii(a,"class",h);break;case"tabIndex":ii(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(a,u,h);break;case"style":Xd(a,h,x);break;case"data":if(o!=="object"){ii(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=$c(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&Mt(a,o,"name",v.name,v,null),Mt(a,o,"formEncType",v.formEncType,v,null),Mt(a,o,"formMethod",v.formMethod,v,null),Mt(a,o,"formTarget",v.formTarget,v,null)):(Mt(a,o,"encType",v.encType,v,null),Mt(a,o,"method",v.method,v,null),Mt(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=$c(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=ea);break;case"onScroll":h!=null&&it("scroll",a);break;case"onScrollEnd":h!=null&&it("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=$c(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":it("beforetoggle",a),it("toggle",a),Uc(a,"popover",h);break;case"xlinkActuate":Sn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Sn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Sn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Sn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Sn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Sn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Uc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Hm.get(u)||u,Uc(a,u,h))}}function yx(a,o,u,h,v,x){switch(u){case"style":Xd(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?$r(a,h):(typeof h=="number"||typeof h=="bigint")&&$r(a,""+h);break;case"onScroll":h!=null&&it("scroll",a);break;case"onScrollEnd":h!=null&&it("scrollend",a);break;case"onClick":h!=null&&(a.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$d.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),x=a[Gn]||null,x=x!=null?x[u]:null,typeof x=="function"&&a.removeEventListener(o,x,v),typeof h=="function")){typeof x!="function"&&x!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,v);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Uc(a,u,h)}}}function sr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",a),it("load",a);var h=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var I=u[x];if(I!=null)switch(x){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(a,o,x,I,u,null)}}v&&Mt(a,o,"srcSet",u.srcSet,u,null),h&&Mt(a,o,"src",u.src,u,null);return;case"input":it("invalid",a);var z=x=I=v=null,G=null,ie=null;for(h in u)if(u.hasOwnProperty(h)){var me=u[h];if(me!=null)switch(h){case"name":v=me;break;case"type":I=me;break;case"checked":G=me;break;case"defaultChecked":ie=me;break;case"value":x=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:Mt(a,o,h,me,u,null)}}qm(a,x,z,G,ie,I,v,!1);return;case"select":it("invalid",a),h=I=x=null;for(v in u)if(u.hasOwnProperty(v)&&(z=u[v],z!=null))switch(v){case"value":x=z;break;case"defaultValue":I=z;break;case"multiple":h=z;default:Mt(a,o,v,z,u,null)}o=x,u=I,a.multiple=!!h,o!=null?to(a,!!h,o,!1):u!=null&&to(a,!!h,u,!0);return;case"textarea":it("invalid",a),x=v=h=null;for(I in u)if(u.hasOwnProperty(I)&&(z=u[I],z!=null))switch(I){case"value":h=z;break;case"defaultValue":v=z;break;case"children":x=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:Mt(a,o,I,z,u,null)}no(a,h,v,x);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(h=u[G],h!=null))switch(G){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Mt(a,o,G,h,u,null)}return;case"dialog":it("beforetoggle",a),it("toggle",a),it("cancel",a),it("close",a);break;case"iframe":case"object":it("load",a);break;case"video":case"audio":for(h=0;h<Rf.length;h++)it(Rf[h],a);break;case"image":it("error",a),it("load",a);break;case"details":it("toggle",a);break;case"embed":case"source":case"link":it("error",a),it("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in u)if(u.hasOwnProperty(ie)&&(h=u[ie],h!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(a,o,ie,h,u,null)}return;default:if(qc(o)){for(me in u)u.hasOwnProperty(me)&&(h=u[me],h!==void 0&&yx(a,o,me,h,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(h=u[z],h!=null&&Mt(a,o,z,h,u,null))}function VU(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,I=null,z=null,G=null,ie=null,me=null;for(oe in u){var ge=u[oe];if(u.hasOwnProperty(oe)&&ge!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":G=ge;default:h.hasOwnProperty(oe)||Mt(a,o,oe,null,h,ge)}}for(var ae in h){var oe=h[ae];if(ge=u[ae],h.hasOwnProperty(ae)&&(oe!=null||ge!=null))switch(ae){case"type":x=oe;break;case"name":v=oe;break;case"checked":ie=oe;break;case"defaultChecked":me=oe;break;case"value":I=oe;break;case"defaultValue":z=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:oe!==ge&&Mt(a,o,ae,oe,h,ge)}}Bc(a,I,z,G,ie,me,x,v);return;case"select":oe=I=z=ae=null;for(x in u)if(G=u[x],u.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":oe=G;default:h.hasOwnProperty(x)||Mt(a,o,x,null,h,G)}for(v in h)if(x=h[v],G=u[v],h.hasOwnProperty(v)&&(x!=null||G!=null))switch(v){case"value":ae=x;break;case"defaultValue":z=x;break;case"multiple":I=x;default:x!==G&&Mt(a,o,v,x,h,G)}o=z,u=I,h=oe,ae!=null?to(a,!!u,ae,!1):!!h!=!!u&&(o!=null?to(a,!!u,o,!0):to(a,!!u,u?[]:"",!1));return;case"textarea":oe=ae=null;for(z in u)if(v=u[z],u.hasOwnProperty(z)&&v!=null&&!h.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Mt(a,o,z,null,h,v)}for(I in h)if(v=h[I],x=u[I],h.hasOwnProperty(I)&&(v!=null||x!=null))switch(I){case"value":ae=v;break;case"defaultValue":oe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&Mt(a,o,I,v,h,x)}$m(a,ae,oe);return;case"option":for(var De in u)if(ae=u[De],u.hasOwnProperty(De)&&ae!=null&&!h.hasOwnProperty(De))switch(De){case"selected":a.selected=!1;break;default:Mt(a,o,De,null,h,ae)}for(G in h)if(ae=h[G],oe=u[G],h.hasOwnProperty(G)&&ae!==oe&&(ae!=null||oe!=null))switch(G){case"selected":a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Mt(a,o,G,ae,h,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in u)ae=u[$e],u.hasOwnProperty($e)&&ae!=null&&!h.hasOwnProperty($e)&&Mt(a,o,$e,null,h,ae);for(ie in h)if(ae=h[ie],oe=u[ie],h.hasOwnProperty(ie)&&ae!==oe&&(ae!=null||oe!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Mt(a,o,ie,ae,h,oe)}return;default:if(qc(o)){for(var kt in u)ae=u[kt],u.hasOwnProperty(kt)&&ae!==void 0&&!h.hasOwnProperty(kt)&&yx(a,o,kt,void 0,h,ae);for(me in h)ae=h[me],oe=u[me],!h.hasOwnProperty(me)||ae===oe||ae===void 0&&oe===void 0||yx(a,o,me,ae,h,oe);return}}for(var Z in u)ae=u[Z],u.hasOwnProperty(Z)&&ae!=null&&!h.hasOwnProperty(Z)&&Mt(a,o,Z,null,h,ae);for(ge in h)ae=h[ge],oe=u[ge],!h.hasOwnProperty(ge)||ae===oe||ae==null&&oe==null||Mt(a,o,ge,ae,h,oe)}function mN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LU(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],x=v.transferSize,I=v.initiatorType,z=v.duration;if(x&&z&&mN(I)){for(I=0,z=v.responseEnd,h+=1;h<u.length;h++){var G=u[h],ie=G.startTime;if(ie>z)break;var me=G.transferSize,ge=G.initiatorType;me&&mN(ge)&&(G=G.responseEnd,I+=me*(G<z?1:(z-ie)/(G-ie)))}if(--h,o+=8*(x+I)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var vx=null,bx=null;function Gp(a){return a.nodeType===9?a:a.ownerDocument}function pN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function xx(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _x=null;function zU(){var a=window.event;return a&&a.type==="popstate"?a===_x?!1:(_x=a,!0):(_x=null,!1)}var yN=typeof setTimeout=="function"?setTimeout:void 0,UU=typeof clearTimeout=="function"?clearTimeout:void 0,vN=typeof Promise=="function"?Promise:void 0,BU=typeof queueMicrotask=="function"?queueMicrotask:typeof vN<"u"?function(a){return vN.resolve(null).then(a).catch(qU)}:yN;function qU(a){setTimeout(function(){throw a})}function To(a){return a==="head"}function bN(a,o){var u=o,h=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(v),Eu(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Df(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Df(u);for(var x=u.firstChild;x;){var I=x.nextSibling,z=x.nodeName;x[xa]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=I}}else u==="body"&&Df(a.ownerDocument.body);u=v}while(u);Eu(o)}function xN(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function wx(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":wx(u),zc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function $U(a,o,u,h){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[xa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Mi(a.nextSibling),a===null)break}return null}function FU(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Mi(a.nextSibling),a===null))return null;return a}function _N(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Mi(a.nextSibling),a===null))return null;return a}function Ex(a){return a.data==="$?"||a.data==="$~"}function Sx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function HU(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Mi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Ax=null;function wN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Mi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function EN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function SN(a,o,u){switch(o=Gp(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Df(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);zc(a)}var ki=new Map,AN=new Set;function Kp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ss=H.d;H.d={f:GU,r:KU,D:YU,C:WU,L:XU,m:QU,X:JU,S:ZU,M:eB};function GU(){var a=Ss.f(),o=Lp();return a||o}function KU(a){var o=Ai(a);o!==null&&o.tag===5&&o.type==="form"?qI(o):Ss.r(a)}var xu=typeof document>"u"?null:document;function TN(a,o,u){var h=xu;if(h&&typeof o=="string"&&o){var v=qr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),AN.has(v)||(AN.add(v),a={rel:a,crossOrigin:u,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),sr(o,"link",a),En(o),h.head.appendChild(o)))}}function YU(a){Ss.D(a),TN("dns-prefetch",a,null)}function WU(a,o){Ss.C(a,o),TN("preconnect",a,o)}function XU(a,o,u){Ss.L(a,o,u);var h=xu;if(h&&a&&o){var v='link[rel="preload"][as="'+qr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+qr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+qr(u.imageSizes)+'"]')):v+='[href="'+qr(a)+'"]';var x=v;switch(o){case"style":x=_u(a);break;case"script":x=wu(a)}ki.has(x)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ki.set(x,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(jf(x))||o==="script"&&h.querySelector(Mf(x))||(o=h.createElement("link"),sr(o,"link",a),En(o),h.head.appendChild(o)))}}function QU(a,o){Ss.m(a,o);var u=xu;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+qr(h)+'"][href="'+qr(a)+'"]',x=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=wu(a)}if(!ki.has(x)&&(a=p({rel:"modulepreload",href:a},o),ki.set(x,a),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Mf(x)))return}h=u.createElement("link"),sr(h,"link",a),En(h),u.head.appendChild(h)}}}function ZU(a,o,u){Ss.S(a,o,u);var h=xu;if(h&&a){var v=wa(h).hoistableStyles,x=_u(a);o=o||"default";var I=v.get(x);if(!I){var z={loading:0,preload:null};if(I=h.querySelector(jf(x)))z.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ki.get(x))&&Tx(a,u);var G=I=h.createElement("link");En(G),sr(G,"link",a),G._p=new Promise(function(ie,me){G.onload=ie,G.onerror=me}),G.addEventListener("load",function(){z.loading|=1}),G.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Yp(I,o,h)}I={type:"stylesheet",instance:I,count:1,state:z},v.set(x,I)}}}function JU(a,o){Ss.X(a,o);var u=xu;if(u&&a){var h=wa(u).hoistableScripts,v=wu(a),x=h.get(v);x||(x=u.querySelector(Mf(v)),x||(a=p({src:a,async:!0},o),(o=ki.get(v))&&Ix(a,o),x=u.createElement("script"),En(x),sr(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function eB(a,o){Ss.M(a,o);var u=xu;if(u&&a){var h=wa(u).hoistableScripts,v=wu(a),x=h.get(v);x||(x=u.querySelector(Mf(v)),x||(a=p({src:a,async:!0,type:"module"},o),(o=ki.get(v))&&Ix(a,o),x=u.createElement("script"),En(x),sr(x,"link",a),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function IN(a,o,u,h){var v=(v=_e.current)?Kp(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=_u(u.href),u=wa(v).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=_u(u.href);var x=wa(v).hoistableStyles,I=x.get(a);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,I),(x=v.querySelector(jf(a)))&&!x._p&&(I.instance=x,I.state.loading=5),ki.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ki.set(a,u),x||tB(v,a,u,I.state))),o&&h===null)throw Error(r(528,""));return I}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=wu(u),u=wa(v).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function _u(a){return'href="'+qr(a)+'"'}function jf(a){return'link[rel="stylesheet"]['+a+"]"}function NN(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function tB(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),sr(o,"link",u),En(o),a.head.appendChild(o))}function wu(a){return'[src="'+qr(a)+'"]'}function Mf(a){return"script[async]"+a}function CN(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+qr(u.href)+'"]');if(h)return o.instance=h,En(h),h;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),En(h),sr(h,"style",v),Yp(h,u.precedence,a),o.instance=h;case"stylesheet":v=_u(u.href);var x=a.querySelector(jf(v));if(x)return o.state.loading|=4,o.instance=x,En(x),x;h=NN(u),(v=ki.get(v))&&Tx(h,v),x=(a.ownerDocument||a).createElement("link"),En(x);var I=x;return I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),sr(x,"link",h),o.state.loading|=4,Yp(x,u.precedence,a),o.instance=x;case"script":return x=wu(u.src),(v=a.querySelector(Mf(x)))?(o.instance=v,En(v),v):(h=u,(v=ki.get(x))&&(h=p({},u),Ix(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),En(v),sr(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Yp(h,u.precedence,a));return o.instance}function Yp(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,x=v,I=0;I<h.length;I++){var z=h[I];if(z.dataset.precedence===o)x=z;else if(x!==v)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Tx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Ix(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Wp=null;function ON(a,o,u){if(Wp===null){var h=new Map,v=Wp=new Map;v.set(u,h)}else v=Wp,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var x=u[v];if(!(x[xa]||x[wn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var I=x.getAttribute(o)||"";I=a+I;var z=h.get(I);z?z.push(x):h.set(I,[x])}}return h}function RN(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function nB(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function PN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function rB(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=_u(h.href),x=o.querySelector(jf(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Xp.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=x,En(x);return}x=o.ownerDocument||o,h=NN(h),(v=ki.get(v))&&Tx(h,v),x=x.createElement("link"),En(x);var I=x;I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),sr(x,"link",h),u.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Xp.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Nx=0;function iB(a,o){return a.stylesheets&&a.count===0&&Zp(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&Zp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&Nx===0&&(Nx=62500*LU());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Zp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Nx?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Xp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qp=null;function Zp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qp=new Map,o.forEach(aB,a),Qp=null,Xp.call(a))}function aB(a,o){if(!(o.state.loading&4)){var u=Qp.get(a);if(u)var h=u.get(null);else{u=new Map,Qp.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var I=v[x];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),h=I)}h&&u.set(null,h)}v=o.instance,I=v.getAttribute("data-precedence"),x=u.get(I)||h,x===h&&u.set(null,v),u.set(I,v),this.count++,h=Xp.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),x?x.parentNode.insertBefore(v,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var kf={$$typeof:O,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function sB(a,o,u,h,v,x,I,z,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dn(0),this.hiddenUpdates=dn(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function DN(a,o,u,h,v,x,I,z,G,ie,me,ge){return a=new sB(a,o,u,I,G,ie,me,ge,z),o=1,x===!0&&(o|=24),x=si(3,null,null,o),a.current=x,x.stateNode=a,o=ob(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:u,cache:o},db(x),a}function jN(a){return a?(a=Jc,a):Jc}function MN(a,o,u,h,v,x){v=jN(v),h.context===null?h.context=v:h.pendingContext=v,h=po(o),h.payload={element:u},x=x===void 0?null:x,x!==null&&(h.callback=x),u=go(a,h,o),u!==null&&(Yr(u,a,o),mf(u,a,o))}function kN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Cx(a,o){kN(a,o),(a=a.alternate)&&kN(a,o)}function VN(a){if(a.tag===13||a.tag===31){var o=Nl(a,67108864);o!==null&&Yr(o,a,67108864),Cx(a,67108864)}}function LN(a){if(a.tag===13||a.tag===31){var o=di();o=ti(o);var u=Nl(a,o);u!==null&&Yr(u,a,o),Cx(a,o)}}var Jp=!0;function oB(a,o,u,h){var v=Y.T;Y.T=null;var x=H.p;try{H.p=2,Ox(a,o,u,h)}finally{H.p=x,Y.T=v}}function lB(a,o,u,h){var v=Y.T;Y.T=null;var x=H.p;try{H.p=8,Ox(a,o,u,h)}finally{H.p=x,Y.T=v}}function Ox(a,o,u,h){if(Jp){var v=Rx(h);if(v===null)gx(a,o,h,eg,u),UN(a,h);else if(uB(v,a,o,u,h))h.stopPropagation();else if(UN(a,h),o&4&&-1<cB.indexOf(a)){for(;v!==null;){var x=Ai(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var I=Xt(x.pendingLanes);if(I!==0){var z=x;for(z.pendingLanes|=2,z.entangledLanes|=2;I;){var G=1<<31-Pt(I);z.entanglements[1]|=G,I&=~G}Ma(x),(xt&6)===0&&(kp=ht()+500,Of(0))}}break;case 31:case 13:z=Nl(x,2),z!==null&&Yr(z,x,2),Lp(),Cx(x,2)}if(x=Rx(h),x===null&&gx(a,o,h,eg,u),x===v)break;v=x}v!==null&&h.stopPropagation()}else gx(a,o,h,null,u)}}function Rx(a){return a=Ti(a),Px(a)}var eg=null;function Px(a){if(eg=null,a=_a(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return eg=a,null}function zN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case an:return 2;case xn:return 8;case Me:case Vt:return 32;case hr:return 268435456;default:return 32}default:return 32}}var Dx=!1,Io=null,No=null,Co=null,Vf=new Map,Lf=new Map,Oo=[],cB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UN(a,o){switch(a){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":Vf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lf.delete(o.pointerId)}}function zf(a,o,u,h,v,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},o!==null&&(o=Ai(o),o!==null&&VN(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function uB(a,o,u,h,v){switch(o){case"focusin":return Io=zf(Io,a,o,u,h,v),!0;case"dragenter":return No=zf(No,a,o,u,h,v),!0;case"mouseover":return Co=zf(Co,a,o,u,h,v),!0;case"pointerover":var x=v.pointerId;return Vf.set(x,zf(Vf.get(x)||null,a,o,u,h,v)),!0;case"gotpointercapture":return x=v.pointerId,Lf.set(x,zf(Lf.get(x)||null,a,o,u,h,v)),!0}return!1}function BN(a){var o=_a(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,tr(a.priority,function(){LN(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,tr(a.priority,function(){LN(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function tg(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Rx(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);Qd=h,u.target.dispatchEvent(h),Qd=null}else return o=Ai(u),o!==null&&VN(o),a.blockedOn=u,!1;o.shift()}return!0}function qN(a,o,u){tg(a)&&u.delete(o)}function dB(){Dx=!1,Io!==null&&tg(Io)&&(Io=null),No!==null&&tg(No)&&(No=null),Co!==null&&tg(Co)&&(Co=null),Vf.forEach(qN),Lf.forEach(qN)}function ng(a,o){a.blockedOn===o&&(a.blockedOn=null,Dx||(Dx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dB)))}var rg=null;function $N(a){rg!==a&&(rg=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rg===a&&(rg=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(Px(h||u)===null)continue;break}var x=Ai(u);x!==null&&(a.splice(o,3),o-=3,Rb(x,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Eu(a){function o(G){return ng(G,a)}Io!==null&&ng(Io,a),No!==null&&ng(No,a),Co!==null&&ng(Co,a),Vf.forEach(o),Lf.forEach(o);for(var u=0;u<Oo.length;u++){var h=Oo[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Oo.length&&(u=Oo[0],u.blockedOn===null);)BN(u),u.blockedOn===null&&Oo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],x=u[h+1],I=v[Gn]||null;if(typeof x=="function")I||$N(u);else if(I){var z=null;if(x&&x.hasAttribute("formAction")){if(v=x,I=x[Gn]||null)z=I.formAction;else if(Px(v)!==null)continue}else z=I.action;typeof z=="function"?u[h+1]=z:(u.splice(h,3),h-=3),$N(u)}}}function FN(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(I){return v=I})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function jx(a){this._internalRoot=a}ig.prototype.render=jx.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=di();MN(u,h,a,o,null,null)},ig.prototype.unmount=jx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;MN(a.current,2,null,a,null,null),Lp(),o[ba]=null}};function ig(a){this._internalRoot=a}ig.prototype.unstable_scheduleHydration=function(a){if(a){var o=ni();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Oo.length&&o!==0&&o<Oo[u].priority;u++);Oo.splice(u,0,a),u===0&&BN(a)}};var HN=e.version;if(HN!=="19.2.0")throw Error(r(527,HN,"19.2.0"));H.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var fB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ag=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ag.isDisabled&&ag.supportsFiber)try{Et=ag.inject(fB),Lt=ag}catch{}}return Bf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",v=ZI,x=JI,I=e2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=DN(a,1,!1,null,null,u,h,null,v,x,I,FN),a[ba]=o.current,px(a),new jx(o)},Bf.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,v="",x=ZI,I=JI,z=e2,G=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=DN(a,1,!0,o,u??null,h,v,G,x,I,z,FN),o.context=jN(null),u=o.current,h=di(),h=ti(h),v=po(h),v.callback=null,go(u,v,h),u=h,o.current.lanes=u,Br(o,u),Ma(o),a[ba]=o.current,px(a),new ig(o)},Bf.version="19.2.0",Bf}var tC;function AB(){if(tC)return Lx.exports;tC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lx.exports=SB(),Lx.exports}var TB=AB();const IB=es(TB),NB="modulepreload",CB=function(t){return"/jumprope-competition-manager/"+t},nC={},wh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(n.map(f=>{if(f=CB(f),f in nC)return;nC[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":NB,m||(b.as="script"),b.crossOrigin="",b.href=f,d&&b.setAttribute("nonce",d),document.head.appendChild(b),m)return new Promise((_,A)=>{b.addEventListener("load",_),b.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),rC=t=>{const e=RB(t);return e.charAt(0).toUpperCase()+e.slice(1)},AM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),PB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>w.createElement("svg",{ref:d,...DB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AM("lucide",i),...!s&&!PB(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,m])=>w.createElement(f,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(jB,{ref:s,iconNode:e,className:AM(`lucide-${OB(rC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=rC(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],kB=Ke("activity",MB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],LB=Ke("arrow-left",VB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],UB=Ke("award",zB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zl=Ke("calendar",BB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$B=Ke("chart-column",qB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jg=Ke("check",FB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sv=Ke("chevron-down",HB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KB=Ke("chevron-left",GB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],AE=Ke("chevron-right",YB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],TM=Ke("chevron-up",WB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],QB=Ke("clipboard-list",XB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],IM=Ke("copy",ZB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],e8=Ke("database",JB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],n8=Ke("external-link",t8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],i8=Ke("funnel",r8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],s8=Ke("grip-vertical",a8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],l8=Ke("history",o8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],u8=Ke("link-2",c8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],iC=Ke("loader",d8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],h8=Ke("log-out",f8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],TE=Ke("medal",m8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M5 12h14",key:"1ays0h"}]],aC=Ke("minus",p8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],sC=Ke("music",g8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],v8=Ke("pause",y8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oC=Ke("pen-line",b8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],NM=Ke("pen",x8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],lC=Ke("play",_8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],E8=Ke("plus",w8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],CM=Ke("printer",S8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$w=Ke("refresh-cw",A8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],I8=Ke("rotate-ccw",T8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IE=Ke("save",N8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],cC=Ke("settings-2",C8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R8=Ke("settings",O8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],D8=Ke("shield",P8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],M8=Ke("square-check-big",j8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],V8=Ke("square",k8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],z8=Ke("timer",L8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$a=Ke("trash-2",U8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],q8=Ke("trending-down",B8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Eh=Ke("trending-up",$8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],el=Ke("trophy",F8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ey=Ke("user-plus",H8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],K8=Ke("user",G8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ha=Ke("users",Y8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],X8=Ke("wifi-off",W8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ts=Ke("x",Q8),Z8=()=>{};var uC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},J8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},RM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,_=f&63;d||(_=64,l||(b=64)),r.push(n[m],n[p],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||p==null)throw new e7;const b=s<<2|c>>4;if(r.push(b),f!==64){const _=c<<4&240|f>>2;if(r.push(_),p!==64){const A=f<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class e7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t7=function(t){const e=OM(t);return RM.encodeByteArray(e,!0)},PM=function(t){return t7(t).replace(/\./g,"")},DM=function(t){try{return RM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=()=>jM().__FIREBASE_DEFAULTS__,r7=()=>{if(typeof process>"u"||typeof uC>"u")return;const t=uC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DM(t[1]);return e&&JSON.parse(e)},Av=()=>{try{return Z8()||n7()||r7()||i7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},a7=t=>{var e,n;return(n=(e=Av())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},MM=()=>{var t;return(t=Av())==null?void 0:t.config},kM=t=>{var e;return(e=Av())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VM(t){return(await fetch(t,{credentials:"include"})).ok}const oh={};function o7(){const t={prod:[],emulator:[]};for(const e of Object.keys(oh))oh[e]?t.emulator.push(e):t.prod.push(e);return t}function l7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dC=!1;function c7(t,e){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||oh[t]===e||oh[t]||dC)return;oh[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=o7().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{dC=!0,l()},b}function m(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function p(){const b=l7(r),_=n("text"),A=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),N=n("preprendIcon"),D=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const O=b.element;c(O),m(S,E);const L=f();d(D,N),O.append(D,A,S,L),document.body.appendChild(O)}s?(A.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function LM(){var e;const t=(e=Av())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function h7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m7(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zM(){return!LM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UM(){return!LM()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function BM(){try{return typeof indexedDB=="object"}catch{return!1}}function p7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="FirebaseError";class Ks extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=g7,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rm.prototype.create)}}class rm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?y7(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ks(i,c,r)}}function y7(t,e){return t.replace(v7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const v7=/\{\$([^}]+)}/g;function b7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(fC(s)&&fC(l)){if(!pc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function x7(t,e){const n=new _7(t,e);return n.subscribe.bind(n)}class _7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");w7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qx),i.error===void 0&&(i.error=qx),i.complete===void 0&&(i.complete=qx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){return t&&t._delegate?t._delegate:t}class gc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new s7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A7(e))try{this.getOrInitializeService({instanceIdentifier:ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ql){return this.instances.has(e)}getOptions(e=ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ql){return this.component?this.component.multipleInstances?e:ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function S7(t){return t===ql?void 0:t}function A7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const I7={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},N7=ot.INFO,C7={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},O7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=C7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class NE{constructor(e){this.name=e,this._logLevel=N7,this._logHandler=O7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const R7=(t,e)=>e.some(n=>t instanceof n);let hC,mC;function P7(){return hC||(hC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D7(){return mC||(mC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qM=new WeakMap,Fw=new WeakMap,$M=new WeakMap,$x=new WeakMap,CE=new WeakMap;function j7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Ko(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&qM.set(n,t)}).catch(()=>{}),CE.set(e,t),e}function M7(t){if(Fw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Fw.set(t,e)}let Hw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$M.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k7(t){Hw=t(Hw)}function V7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fx(this),e,...n);return $M.set(r,e.sort?e.sort():[e]),Ko(r)}:D7().includes(t)?function(...e){return t.apply(Fx(this),e),Ko(qM.get(this))}:function(...e){return Ko(t.apply(Fx(this),e))}}function L7(t){return typeof t=="function"?V7(t):(t instanceof IDBTransaction&&M7(t),R7(t,P7())?new Proxy(t,Hw):t)}function Ko(t){if(t instanceof IDBRequest)return j7(t);if($x.has(t))return $x.get(t);const e=L7(t);return e!==t&&($x.set(t,e),CE.set(e,t)),e}const Fx=t=>CE.get(t);function z7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Ko(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ko(l.result),d.oldVersion,d.newVersion,Ko(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const U7=["get","getKey","getAll","getAllKeys","count"],B7=["put","add","delete","clear"],Hx=new Map;function pC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hx.get(e))return Hx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=B7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||U7.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return Hx.set(e,s),s}k7(t=>({...t,get:(e,n,r)=>pC(e,n)||t.get(e,n,r),has:(e,n)=>!!pC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gw="@firebase/app",gC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new NE("@firebase/app"),F7="@firebase/app-compat",H7="@firebase/analytics-compat",G7="@firebase/analytics",K7="@firebase/app-check-compat",Y7="@firebase/app-check",W7="@firebase/auth",X7="@firebase/auth-compat",Q7="@firebase/database",Z7="@firebase/data-connect",J7="@firebase/database-compat",eq="@firebase/functions",tq="@firebase/functions-compat",nq="@firebase/installations",rq="@firebase/installations-compat",iq="@firebase/messaging",aq="@firebase/messaging-compat",sq="@firebase/performance",oq="@firebase/performance-compat",lq="@firebase/remote-config",cq="@firebase/remote-config-compat",uq="@firebase/storage",dq="@firebase/storage-compat",fq="@firebase/firestore",hq="@firebase/ai",mq="@firebase/firestore-compat",pq="firebase",gq="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="[DEFAULT]",yq={[Gw]:"fire-core",[F7]:"fire-core-compat",[G7]:"fire-analytics",[H7]:"fire-analytics-compat",[Y7]:"fire-app-check",[K7]:"fire-app-check-compat",[W7]:"fire-auth",[X7]:"fire-auth-compat",[Q7]:"fire-rtdb",[Z7]:"fire-data-connect",[J7]:"fire-rtdb-compat",[eq]:"fire-fn",[tq]:"fire-fn-compat",[nq]:"fire-iid",[rq]:"fire-iid-compat",[iq]:"fire-fcm",[aq]:"fire-fcm-compat",[sq]:"fire-perf",[oq]:"fire-perf-compat",[lq]:"fire-rc",[cq]:"fire-rc-compat",[uq]:"fire-gcs",[dq]:"fire-gcs-compat",[fq]:"fire-fst",[mq]:"fire-fst-compat",[hq]:"fire-vertex","fire-js":"fire-js",[pq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map,vq=new Map,Yw=new Map;function yC(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yu(t){const e=t.name;if(Yw.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Yw.set(e,t);for(const n of ty.values())yC(n,t);for(const n of vq.values())yC(n,t);return!0}function OE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ca(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new rm("app","Firebase",bq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=gq;function FM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Kw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Yo.create("bad-app-name",{appName:String(i)});if(n||(n=MM()),!n)throw Yo.create("no-options");const s=ty.get(i);if(s){if(pc(n,s.options)&&pc(r,s.config))return s;throw Yo.create("duplicate-app",{appName:i})}const l=new T7(i);for(const d of Yw.values())l.addComponent(d);const c=new xq(n,r,l);return ty.set(i,c),c}function _q(t=Kw){const e=ty.get(t);if(!e&&t===Kw&&MM())return FM();if(!e)throw Yo.create("no-app",{appName:t});return e}function Wo(t,e,n){let r=yq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(l.join(" "));return}Yu(new gc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="firebase-heartbeat-database",Eq=1,Sh="firebase-heartbeat-store";let Gx=null;function HM(){return Gx||(Gx=z7(wq,Eq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),Gx}async function Sq(t){try{const n=(await HM()).transaction(Sh),r=await n.objectStore(Sh).get(GM(t));return await n.done,r}catch(e){if(e instanceof Ks)Ms.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(n.message)}}}async function vC(t,e){try{const r=(await HM()).transaction(Sh,"readwrite");await r.objectStore(Sh).put(e,GM(t)),await r.done}catch(n){if(n instanceof Ks)Ms.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ms.warn(r.message)}}}function GM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=1024,Tq=30;class Iq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Cq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Tq){const l=Oq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bC(),{heartbeatsToSend:r,unsentEntries:i}=Nq(this._heartbeatsCache.heartbeats),s=PM(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ms.warn(n),""}}}function bC(){return new Date().toISOString().substring(0,10)}function Nq(t,e=Aq){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),xC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Cq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BM()?p7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Sq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xC(t){return PM(JSON.stringify({version:2,heartbeats:t})).length}function Oq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t){Yu(new gc("platform-logger",e=>new q7(e),"PRIVATE")),Yu(new gc("heartbeat",e=>new Iq(e),"PRIVATE")),Wo(Gw,gC,t),Wo(Gw,gC,"esm2020"),Wo("fire-js","")}Rq("");function KM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pq=KM,YM=new rm("auth","Firebase",KM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=new NE("@firebase/auth");function Dq(t,...e){ny.logLevel<=ot.WARN&&ny.warn(`Auth (${wd}): ${t}`,...e)}function Pg(t,...e){ny.logLevel<=ot.ERROR&&ny.error(`Auth (${wd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t,...e){throw PE(t,...e)}function ma(t,...e){return PE(t,...e)}function RE(t,e,n){const r={...Pq(),[e]:n};return new rm("auth","Firebase",r).create(e,{appName:t.name})}function ic(t){return RE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wa(t,"argument-error"),RE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function PE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YM.create(t,...e)}function Ge(t,e,...n){if(!t)throw PE(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pg(e),new Error(e)}function ks(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Mq(){return _C()==="http:"||_C()==="https:"}function _C(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mq()||f7()||"connection"in navigator)?navigator.onLine:!0}function Vq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=u7()||h7()}get(){return kq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Uq=new am(3e4,6e4);function jE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ed(t,e,n,r,i={}){return XM(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=im({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...s};return d7()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&_d(t.emulatorConfig.host)&&(f.credentials="include"),WM.fetch()(await QM(t,t.config.apiHost,n,c),f)})}async function XM(t,e,n){t._canInitEmulator=!1;const r={...Lq,...e};try{const i=new qq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw sg(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw sg(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw sg(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw sg(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw RE(t,m,f);Wa(t,m)}}catch(i){if(i instanceof Ks)throw i;Wa(t,"network-request-failed",{message:String(i)})}}async function Bq(t,e,n,r,i={}){const s=await Ed(t,e,n,r,i);return"mfaPendingCredential"in s&&Wa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function QM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?DE(t.config,i):`${t.config.apiScheme}://${i}`;return zq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class qq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ma(this.auth,"network-request-failed")),Uq.get())})}}function sg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ma(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $q(t,e){return Ed(t,"POST","/v1/accounts:delete",e)}async function ry(t,e){return Ed(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Fq(t,e=!1){const n=Dn(t),r=await n.getIdToken(e),i=ME(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:lh(Kx(i.auth_time)),issuedAtTime:lh(Kx(i.iat)),expirationTime:lh(Kx(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Kx(t){return Number(t)*1e3}function ME(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pg("JWT malformed, contained fewer than 3 sections"),null;try{const i=DM(n);return i?JSON.parse(i):(Pg("Failed to decode base64 JWT payload"),null)}catch(i){return Pg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wC(t){const e=ME(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ks&&Hq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Hq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lh(this.lastLoginAt),this.creationTime=lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iy(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Ah(t,ry(e,{idToken:n}));Ge(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(p=i.providerUserInfo)!=null&&p.length?ZM(i.providerUserInfo):[],l=Yq(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),f=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Xw(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function Kq(t){const e=Dn(t);await iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wq(t,e){const n=await XM(t,{},async()=>{const r=im({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await QM(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&_d(t.emulatorConfig.host)&&(d.credentials="include"),WM.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Xq(t,e){return Ed(t,"POST","/v2/accounts:revokeToken",jE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=wC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Wq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Bu;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ge(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Gq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ah(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Fq(this,e)}reload(){return Kq(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ca(this.auth.app))return Promise.reject(ic(this.auth));const e=await this.getIdToken();return await Ah(this,$q(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:b,isAnonymous:_,providerData:A,stsTokenManager:E}=n;Ge(p&&E,e,"internal-error");const S=Bu.fromJSON(this.name,E);Ge(typeof p=="string",e,"internal-error"),Po(r,e.name),Po(i,e.name),Ge(typeof b=="boolean",e,"internal-error"),Ge(typeof _=="boolean",e,"internal-error"),Po(s,e.name),Po(l,e.name),Po(c,e.name),Po(d,e.name),Po(f,e.name),Po(m,e.name);const N=new fa({uid:p,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:S,createdAt:f,lastLoginAt:m});return A&&Array.isArray(A)&&(N.providerData=A.map(D=>({...D}))),d&&(N._redirectEventId=d),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bu;i.updateFromServerResponse(n);const s=new fa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await iy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ZM(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new Bu;c.updateFromIdToken(r);const d=new fa({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Xw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Map;function Cs(t){ks(t instanceof Function,"Expected a class definition");let e=EC.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JM.type="NONE";const SC=JM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e,n){return`firebase:${t}:${e}:${n}`}class qu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Dg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ry(this.auth,{idToken:e}).catch(()=>{});return n?fa._fromGetAccountInfoResponse(this.auth,n,e):null}return fa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qu(Cs(SC),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Cs(SC);const l=Dg(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let p;if(typeof m=="string"){const b=await ry(e,{idToken:m}).catch(()=>{});if(!b)break;p=await fa._fromGetAccountInfoResponse(e,b,m)}else p=fa._fromJSON(e,m);f!==s&&(c=p),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new qu(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new qu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ek(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ak(e))return"Blackberry";if(sk(e))return"Webos";if(tk(e))return"Safari";if((e.includes("chrome/")||nk(e))&&!e.includes("edge/"))return"Chrome";if(ik(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ek(t=Ln()){return/firefox\//i.test(t)}function tk(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nk(t=Ln()){return/crios\//i.test(t)}function rk(t=Ln()){return/iemobile/i.test(t)}function ik(t=Ln()){return/android/i.test(t)}function ak(t=Ln()){return/blackberry/i.test(t)}function sk(t=Ln()){return/webos/i.test(t)}function kE(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Qq(t=Ln()){var e;return kE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Zq(){return m7()&&document.documentMode===10}function ok(t=Ln()){return kE(t)||ik(t)||sk(t)||ak(t)||/windows phone/i.test(t)||rk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e=[]){let n;switch(t){case"Browser":n=AC(Ln());break;case"Worker":n=`${AC(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(t,e={}){return Ed(t,"GET","/v2/passwordPolicy",jE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=6;class n${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??t$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TC(this),this.idTokenSubscription=new TC(this),this.beforeStateQueue=new Jq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await qu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ry(this,{idToken:e}),r=await fa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ca(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ca(this.app))return Promise.reject(ic(this));const n=e?Dn(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ca(this.app)?Promise.reject(ic(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ca(this.app)?Promise.reject(ic(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e$(this),n=new n$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Xq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await qu.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ca(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Dq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Tv(t){return Dn(t)}class TC{constructor(e){this.auth=e,this.observer=null,this.addObserver=x7(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i$(t){VE=t}function a$(t){return VE.loadJS(t)}function s$(){return VE.gapiScript}function o$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t,e){const n=OE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(pc(s,e??{}))return i;Wa(i,"already-initialized")}return n.initialize({options:e})}function c$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u$(t,e,n){const r=Tv(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=ck(e),{host:l,port:c}=d$(e),d=c===null?"":`:${c}`,f={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(pc(f,r.config.emulator)&&pc(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,_d(l)?(VM(`${s}//${l}${d}`),c7("Auth",!0)):f$()}function ck(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d$(t){const e=ck(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:IC(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:IC(l)}}}function IC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t,e){return Bq(t,"POST","/v1/accounts:signInWithIdp",jE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$="http://localhost";class yc extends uk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new yc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return $u(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$u(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$u(e,n)}buildRequest(){const e={requestUri:h$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=im(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends LE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends sm{constructor(){super("facebook.com")}static credential(e){return yc._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zo.credential(e.oauthAccessToken)}catch{return null}}}zo.FACEBOOK_SIGN_IN_METHOD="facebook.com";zo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends sm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yc._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return As.credential(n,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends sm{constructor(){super("github.com")}static credential(e){return yc._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends sm{constructor(){super("twitter.com")}static credential(e,n){return yc._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await fa._fromIdTokenResponse(e,r,i),l=NC(r);return new Wu({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=NC(r);return new Wu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function NC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends Ks{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ay.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ay(e,n,r,i)}}function dk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ay._fromErrorAndOperation(t,s,e,r):s})}async function m$(t,e,n=!1){const r=await Ah(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p$(t,e,n=!1){const{auth:r}=t;if(ca(r.app))return Promise.reject(ic(r));const i="reauthenticate";try{const s=await Ah(t,dk(r,i,e,t),n);Ge(s.idToken,r,"internal-error");const l=ME(s.idToken);Ge(l,r,"internal-error");const{sub:c}=l;return Ge(t.uid===c,r,"user-mismatch"),Wu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g$(t,e,n=!1){if(ca(t.app))return Promise.reject(ic(t));const r="signIn",i=await dk(t,r,e),s=await Wu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function y$(t,e,n,r){return Dn(t).onIdTokenChanged(e,n,r)}function v$(t,e,n){return Dn(t).beforeAuthStateChanged(e,n)}function b$(t,e,n,r){return Dn(t).onAuthStateChanged(e,n,r)}function x$(t){return Dn(t).signOut()}const sy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sy,"1"),this.storage.removeItem(sy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=1e3,w$=10;class hk extends fk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ok(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);Zq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,w$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hk.type="LOCAL";const E$=hk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends fk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mk.type="SESSION";const pk=mk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Iv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,s)),d=await S$(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const f=zE("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const b=p;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(){return window}function T$(t){Fa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return typeof Fa().WorkerGlobalScope<"u"&&typeof Fa().importScripts=="function"}async function I$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function C$(){return gk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="firebaseLocalStorageDb",O$=1,oy="firebaseLocalStorage",vk="fbase_key";class om{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nv(t,e){return t.transaction([oy],e?"readwrite":"readonly").objectStore(oy)}function R$(){const t=indexedDB.deleteDatabase(yk);return new om(t).toPromise()}function Qw(){const t=indexedDB.open(yk,O$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(oy,{keyPath:vk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(oy)?e(r):(r.close(),await R$(),e(await Qw()))})})}async function CC(t,e,n){const r=Nv(t,!0).put({[vk]:e,value:n});return new om(r).toPromise()}async function P$(t,e){const n=Nv(t,!1).get(e),r=await new om(n).toPromise();return r===void 0?null:r.value}function OC(t,e){const n=Nv(t,!0).delete(e);return new om(n).toPromise()}const D$=800,j$=3;class bk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iv._getInstance(C$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await I$(),!this.activeServiceWorker)return;this.sender=new A$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qw();return await CC(e,sy,"1"),await OC(e,sy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Nv(i,!1).getAll();return new om(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bk.type="LOCAL";const M$=bk;new am(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t,e){return e?Cs(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends uk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $u(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $u(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $u(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function k$(t){return g$(t.auth,new UE(t),t.bypassAuthState)}function V$(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),p$(n,new UE(t),t.bypassAuthState)}async function L$(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),m$(n,new UE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k$;case"linkViaPopup":case"linkViaRedirect":return L$;case"reauthViaPopup":case"reauthViaRedirect":return V$;default:Wa(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=new am(2e3,1e4);async function U$(t,e,n){if(ca(t.app))return Promise.reject(ma(t,"operation-not-supported-in-this-environment"));const r=Tv(t);jq(t,e,LE);const i=xk(r,n);return new Jl(r,"signInViaPopup",e,i).executeNotNull()}class Jl extends _k{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Jl.currentPopupAction&&Jl.currentPopupAction.cancel(),Jl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=zE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z$.get())};e()}}Jl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="pendingRedirect",jg=new Map;class q$ extends _k{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jg.get(this.auth._key());if(!e){try{const r=await $$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jg.set(this.auth._key(),e)}return this.bypassAuthState||jg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $$(t,e){const n=G$(e),r=H$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function F$(t,e){jg.set(t._key(),e)}function H$(t){return Cs(t._redirectPersistence)}function G$(t){return Dg(B$,t.config.apiKey,t.name)}async function K$(t,e,n=!1){if(ca(t.app))return Promise.reject(ic(t));const r=Tv(t),i=xk(r,e),l=await new q$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=600*1e3;class W${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wk(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ma(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y$&&this.cachedEventUids.clear(),this.cachedEventUids.has(RC(e))}saveEventToCache(e){this.cachedEventUids.add(RC(e)),this.lastProcessedEventTime=Date.now()}}function RC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q$(t,e={}){return Ed(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J$=/^https?/;async function eF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q$(t);for(const n of e)try{if(tF(n))return}catch{}Wa(t,"unauthorized-domain")}function tF(t){const e=Ww(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!J$.test(n))return!1;if(Z$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=new am(3e4,6e4);function PC(){const t=Fa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rF(t){return new Promise((e,n)=>{var i,s,l;function r(){PC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PC(),n(ma(t,"network-request-failed"))},timeout:nF.get()})}if((s=(i=Fa().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=Fa().gapi)!=null&&l.load)r();else{const c=o$("iframefcb");return Fa()[c]=()=>{gapi.load?r():n(ma(t,"network-request-failed"))},a$(`${s$()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Mg=null,e})}let Mg=null;function iF(t){return Mg=Mg||rF(t),Mg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new am(5e3,15e3),sF="__/auth/iframe",oF="emulator/auth/iframe",lF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uF(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?DE(e,oF):`https://${t.config.authDomain}/${sF}`,r={apiKey:e.apiKey,appName:t.name,v:wd},i=cF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${im(r).slice(1)}`}async function dF(t){const e=await iF(t),n=Fa().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:uF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ma(t,"network-request-failed"),c=Fa().setTimeout(()=>{s(l)},aF.get());function d(){Fa().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hF=500,mF=600,pF="_blank",gF="http://localhost";class DC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yF(t,e,n,r=hF,i=mF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...fF,width:r.toString(),height:i.toString(),top:s,left:l},f=Ln().toLowerCase();n&&(c=nk(f)?pF:n),ek(f)&&(e=e||gF,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[_,A])=>`${b}${_}=${A},`,"");if(Qq(f)&&c!=="_self")return vF(e||"",c),new DC(null);const p=window.open(e||"",c,m);Ge(p,t,"popup-blocked");try{p.focus()}catch{}return new DC(p)}function vF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="__/auth/handler",xF="emulator/auth/handler",_F=encodeURIComponent("fac");async function jC(t,e,n,r,i,s){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wd,eventId:i};if(e instanceof LE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",b7(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof sm){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${_F}=${encodeURIComponent(d)}`:"";return`${wF(t)}?${im(c).slice(1)}${f}`}function wF({config:t}){return t.emulator?DE(t,xF):`https://${t.authDomain}/${bF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="webStorageSupport";class EF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pk,this._completeRedirectFn=K$,this._overrideRedirectResult=F$}async _openPopup(e,n,r,i){var l;ks((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await jC(e,n,r,Ww(),i);return yF(e,s,zE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jC(e,n,r,Ww(),i);return T$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ks(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dF(e),r=new W$(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yx,{type:Yx},i=>{var l;const s=(l=i==null?void 0:i[0])==null?void 0:l[Yx];s!==void 0&&n(!!s),Wa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ok()||tk()||kE()}}const SF=EF;var MC="@firebase/auth",kC="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IF(t){Yu(new gc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ge(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lk(t)},f=new r$(r,i,s,d);return c$(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yu(new gc("auth-internal",e=>{const n=Tv(e.getProvider("auth").getImmediate());return(r=>new AF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wo(MC,kC,TF(t)),Wo(MC,kC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=300,CF=kM("authIdTokenMaxAge")||NF;let VC=null;const OF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CF)return;const i=n==null?void 0:n.token;VC!==i&&(VC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function RF(t=_q()){const e=OE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l$(t,{popupRedirectResolver:SF,persistence:[M$,E$,pk]}),r=kM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=OF(s.toString());v$(n,l,()=>l(n.currentUser)),y$(n,c=>l(c))}}const i=a7("auth");return i&&u$(n,`http://${i}`),n}function PF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}i$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ma("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",PF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IF("Browser");var DF="firebase",jF="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wo(DF,jF,"app");var LC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xo,Ek;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function j(){}j.prototype=C.prototype,P.F=C.prototype,P.prototype=new j,P.prototype.constructor=P,P.D=function(q,k,$){for(var M=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)M[fe-2]=arguments[fe];return C.prototype[k].apply(q,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,j){j||(j=0);const q=Array(16);if(typeof C=="string")for(var k=0;k<16;++k)q[k]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(k=0;k<16;++k)q[k]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=P.g[0],j=P.g[1],k=P.g[2];let $=P.g[3],M;M=C+($^j&(k^$))+q[0]+3614090360&4294967295,C=j+(M<<7&4294967295|M>>>25),M=$+(k^C&(j^k))+q[1]+3905402710&4294967295,$=C+(M<<12&4294967295|M>>>20),M=k+(j^$&(C^j))+q[2]+606105819&4294967295,k=$+(M<<17&4294967295|M>>>15),M=j+(C^k&($^C))+q[3]+3250441966&4294967295,j=k+(M<<22&4294967295|M>>>10),M=C+($^j&(k^$))+q[4]+4118548399&4294967295,C=j+(M<<7&4294967295|M>>>25),M=$+(k^C&(j^k))+q[5]+1200080426&4294967295,$=C+(M<<12&4294967295|M>>>20),M=k+(j^$&(C^j))+q[6]+2821735955&4294967295,k=$+(M<<17&4294967295|M>>>15),M=j+(C^k&($^C))+q[7]+4249261313&4294967295,j=k+(M<<22&4294967295|M>>>10),M=C+($^j&(k^$))+q[8]+1770035416&4294967295,C=j+(M<<7&4294967295|M>>>25),M=$+(k^C&(j^k))+q[9]+2336552879&4294967295,$=C+(M<<12&4294967295|M>>>20),M=k+(j^$&(C^j))+q[10]+4294925233&4294967295,k=$+(M<<17&4294967295|M>>>15),M=j+(C^k&($^C))+q[11]+2304563134&4294967295,j=k+(M<<22&4294967295|M>>>10),M=C+($^j&(k^$))+q[12]+1804603682&4294967295,C=j+(M<<7&4294967295|M>>>25),M=$+(k^C&(j^k))+q[13]+4254626195&4294967295,$=C+(M<<12&4294967295|M>>>20),M=k+(j^$&(C^j))+q[14]+2792965006&4294967295,k=$+(M<<17&4294967295|M>>>15),M=j+(C^k&($^C))+q[15]+1236535329&4294967295,j=k+(M<<22&4294967295|M>>>10),M=C+(k^$&(j^k))+q[1]+4129170786&4294967295,C=j+(M<<5&4294967295|M>>>27),M=$+(j^k&(C^j))+q[6]+3225465664&4294967295,$=C+(M<<9&4294967295|M>>>23),M=k+(C^j&($^C))+q[11]+643717713&4294967295,k=$+(M<<14&4294967295|M>>>18),M=j+($^C&(k^$))+q[0]+3921069994&4294967295,j=k+(M<<20&4294967295|M>>>12),M=C+(k^$&(j^k))+q[5]+3593408605&4294967295,C=j+(M<<5&4294967295|M>>>27),M=$+(j^k&(C^j))+q[10]+38016083&4294967295,$=C+(M<<9&4294967295|M>>>23),M=k+(C^j&($^C))+q[15]+3634488961&4294967295,k=$+(M<<14&4294967295|M>>>18),M=j+($^C&(k^$))+q[4]+3889429448&4294967295,j=k+(M<<20&4294967295|M>>>12),M=C+(k^$&(j^k))+q[9]+568446438&4294967295,C=j+(M<<5&4294967295|M>>>27),M=$+(j^k&(C^j))+q[14]+3275163606&4294967295,$=C+(M<<9&4294967295|M>>>23),M=k+(C^j&($^C))+q[3]+4107603335&4294967295,k=$+(M<<14&4294967295|M>>>18),M=j+($^C&(k^$))+q[8]+1163531501&4294967295,j=k+(M<<20&4294967295|M>>>12),M=C+(k^$&(j^k))+q[13]+2850285829&4294967295,C=j+(M<<5&4294967295|M>>>27),M=$+(j^k&(C^j))+q[2]+4243563512&4294967295,$=C+(M<<9&4294967295|M>>>23),M=k+(C^j&($^C))+q[7]+1735328473&4294967295,k=$+(M<<14&4294967295|M>>>18),M=j+($^C&(k^$))+q[12]+2368359562&4294967295,j=k+(M<<20&4294967295|M>>>12),M=C+(j^k^$)+q[5]+4294588738&4294967295,C=j+(M<<4&4294967295|M>>>28),M=$+(C^j^k)+q[8]+2272392833&4294967295,$=C+(M<<11&4294967295|M>>>21),M=k+($^C^j)+q[11]+1839030562&4294967295,k=$+(M<<16&4294967295|M>>>16),M=j+(k^$^C)+q[14]+4259657740&4294967295,j=k+(M<<23&4294967295|M>>>9),M=C+(j^k^$)+q[1]+2763975236&4294967295,C=j+(M<<4&4294967295|M>>>28),M=$+(C^j^k)+q[4]+1272893353&4294967295,$=C+(M<<11&4294967295|M>>>21),M=k+($^C^j)+q[7]+4139469664&4294967295,k=$+(M<<16&4294967295|M>>>16),M=j+(k^$^C)+q[10]+3200236656&4294967295,j=k+(M<<23&4294967295|M>>>9),M=C+(j^k^$)+q[13]+681279174&4294967295,C=j+(M<<4&4294967295|M>>>28),M=$+(C^j^k)+q[0]+3936430074&4294967295,$=C+(M<<11&4294967295|M>>>21),M=k+($^C^j)+q[3]+3572445317&4294967295,k=$+(M<<16&4294967295|M>>>16),M=j+(k^$^C)+q[6]+76029189&4294967295,j=k+(M<<23&4294967295|M>>>9),M=C+(j^k^$)+q[9]+3654602809&4294967295,C=j+(M<<4&4294967295|M>>>28),M=$+(C^j^k)+q[12]+3873151461&4294967295,$=C+(M<<11&4294967295|M>>>21),M=k+($^C^j)+q[15]+530742520&4294967295,k=$+(M<<16&4294967295|M>>>16),M=j+(k^$^C)+q[2]+3299628645&4294967295,j=k+(M<<23&4294967295|M>>>9),M=C+(k^(j|~$))+q[0]+4096336452&4294967295,C=j+(M<<6&4294967295|M>>>26),M=$+(j^(C|~k))+q[7]+1126891415&4294967295,$=C+(M<<10&4294967295|M>>>22),M=k+(C^($|~j))+q[14]+2878612391&4294967295,k=$+(M<<15&4294967295|M>>>17),M=j+($^(k|~C))+q[5]+4237533241&4294967295,j=k+(M<<21&4294967295|M>>>11),M=C+(k^(j|~$))+q[12]+1700485571&4294967295,C=j+(M<<6&4294967295|M>>>26),M=$+(j^(C|~k))+q[3]+2399980690&4294967295,$=C+(M<<10&4294967295|M>>>22),M=k+(C^($|~j))+q[10]+4293915773&4294967295,k=$+(M<<15&4294967295|M>>>17),M=j+($^(k|~C))+q[1]+2240044497&4294967295,j=k+(M<<21&4294967295|M>>>11),M=C+(k^(j|~$))+q[8]+1873313359&4294967295,C=j+(M<<6&4294967295|M>>>26),M=$+(j^(C|~k))+q[15]+4264355552&4294967295,$=C+(M<<10&4294967295|M>>>22),M=k+(C^($|~j))+q[6]+2734768916&4294967295,k=$+(M<<15&4294967295|M>>>17),M=j+($^(k|~C))+q[13]+1309151649&4294967295,j=k+(M<<21&4294967295|M>>>11),M=C+(k^(j|~$))+q[4]+4149444226&4294967295,C=j+(M<<6&4294967295|M>>>26),M=$+(j^(C|~k))+q[11]+3174756917&4294967295,$=C+(M<<10&4294967295|M>>>22),M=k+(C^($|~j))+q[2]+718787259&4294967295,k=$+(M<<15&4294967295|M>>>17),M=j+($^(k|~C))+q[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(k+(M<<21&4294967295|M>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.v=function(P,C){C===void 0&&(C=P.length);const j=C-this.blockSize,q=this.C;let k=this.h,$=0;for(;$<C;){if(k==0)for(;$<=j;)i(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<C;)if(q[k++]=P.charCodeAt($++),k==this.blockSize){i(this,q),k=0;break}}else for(;$<C;)if(q[k++]=P[$++],k==this.blockSize){i(this,q),k=0;break}}this.h=k,this.o+=C},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;C=this.o*8;for(var j=P.length-8;j<P.length;++j)P[j]=C&255,C/=256;for(this.v(P),P=Array(16),C=0,j=0;j<4;++j)for(let q=0;q<32;q+=8)P[C++]=this.g[j]>>>q&255;return P};function s(P,C){var j=c;return Object.prototype.hasOwnProperty.call(j,P)?j[P]:j[P]=C(P)}function l(P,C){this.h=C;const j=[];let q=!0;for(let k=P.length-1;k>=0;k--){const $=P[k]|0;q&&$==C||(j[k]=$,q=!1)}this.g=j}var c={};function d(P){return-128<=P&&P<128?s(P,function(C){return new l([C|0],C<0?-1:0)}):new l([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return S(f(-P));const C=[];let j=1;for(let q=0;P>=j;q++)C[q]=P/j|0,j*=4294967296;return new l(C,0)}function m(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return S(m(P.substring(1),C));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=f(Math.pow(C,8));let q=p;for(let $=0;$<P.length;$+=8){var k=Math.min(8,P.length-$);const M=parseInt(P.substring($,$+k),C);k<8?(k=f(Math.pow(C,k)),q=q.j(k).add(f(M))):(q=q.j(j),q=q.add(f(M)))}return q}var p=d(0),b=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let P=0,C=1;for(let j=0;j<this.g.length;j++){const q=this.i(j);P+=(q>=0?q:4294967296+q)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A(this))return"0";if(E(this))return"-"+S(this).toString(P);const C=f(Math.pow(P,6));var j=this;let q="";for(;;){const k=L(j,C).g;j=N(j,k.j(C));let $=((j.g.length>0?j.g[0]:j.h)>>>0).toString(P);if(j=k,A(j))return $+q;for(;$.length<6;)$="0"+$;q=$+q}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function A(P){if(P.h!=0)return!1;for(let C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=N(this,P),E(P)?-1:A(P)?0:1};function S(P){const C=P.g.length,j=[];for(let q=0;q<C;q++)j[q]=~P.g[q];return new l(j,~P.h).add(b)}t.abs=function(){return E(this)?S(this):this},t.add=function(P){const C=Math.max(this.g.length,P.g.length),j=[];let q=0;for(let k=0;k<=C;k++){let $=q+(this.i(k)&65535)+(P.i(k)&65535),M=($>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);q=M>>>16,$&=65535,M&=65535,j[k]=M<<16|$}return new l(j,j[j.length-1]&-2147483648?-1:0)};function N(P,C){return P.add(S(C))}t.j=function(P){if(A(this)||A(P))return p;if(E(this))return E(P)?S(this).j(S(P)):S(S(this).j(P));if(E(P))return S(this.j(S(P)));if(this.l(_)<0&&P.l(_)<0)return f(this.m()*P.m());const C=this.g.length+P.g.length,j=[];for(var q=0;q<2*C;q++)j[q]=0;for(q=0;q<this.g.length;q++)for(let k=0;k<P.g.length;k++){const $=this.i(q)>>>16,M=this.i(q)&65535,fe=P.i(k)>>>16,be=P.i(k)&65535;j[2*q+2*k]+=M*be,D(j,2*q+2*k),j[2*q+2*k+1]+=$*be,D(j,2*q+2*k+1),j[2*q+2*k+1]+=M*fe,D(j,2*q+2*k+1),j[2*q+2*k+2]+=$*fe,D(j,2*q+2*k+2)}for(P=0;P<C;P++)j[P]=j[2*P+1]<<16|j[2*P];for(P=C;P<2*C;P++)j[P]=0;return new l(j,0)};function D(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function O(P,C){this.g=P,this.h=C}function L(P,C){if(A(C))throw Error("division by zero");if(A(P))return new O(p,p);if(E(P))return C=L(S(P),C),new O(S(C.g),S(C.h));if(E(C))return C=L(P,S(C)),new O(S(C.g),C.h);if(P.g.length>30){if(E(P)||E(C))throw Error("slowDivide_ only works with positive integers.");for(var j=b,q=C;q.l(P)<=0;)j=V(j),q=V(q);var k=U(j,1),$=U(q,1);for(q=U(q,2),j=U(j,2);!A(q);){var M=$.add(q);M.l(P)<=0&&(k=k.add(j),$=M),q=U(q,1),j=U(j,1)}return C=N(P,k.j(C)),new O(k,C)}for(k=p;P.l(C)>=0;){for(j=Math.max(1,Math.floor(P.m()/C.m())),q=Math.ceil(Math.log(j)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),$=f(j),M=$.j(C);E(M)||M.l(P)>0;)j-=q,$=f(j),M=$.j(C);A($)&&($=b),k=k.add($),P=N(P,M)}return new O(k,P)}t.B=function(P){return L(this,P).h},t.and=function(P){const C=Math.max(this.g.length,P.g.length),j=[];for(let q=0;q<C;q++)j[q]=this.i(q)&P.i(q);return new l(j,this.h&P.h)},t.or=function(P){const C=Math.max(this.g.length,P.g.length),j=[];for(let q=0;q<C;q++)j[q]=this.i(q)|P.i(q);return new l(j,this.h|P.h)},t.xor=function(P){const C=Math.max(this.g.length,P.g.length),j=[];for(let q=0;q<C;q++)j[q]=this.i(q)^P.i(q);return new l(j,this.h^P.h)};function V(P){const C=P.g.length+1,j=[];for(let q=0;q<C;q++)j[q]=P.i(q)<<1|P.i(q-1)>>>31;return new l(j,P.h)}function U(P,C){const j=C>>5;C%=32;const q=P.g.length-j,k=[];for(let $=0;$<q;$++)k[$]=C>0?P.i($+j)>>>C|P.i($+j+1)<<32-C:P.i($+j);return new l(k,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ek=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Xo=l}).apply(typeof LC<"u"?LC:typeof self<"u"?self:typeof window<"u"?window:{});var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sk,eh,Ak,kg,Zw,Tk,Ik,Nk;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof og=="object"&&og];for(var T=0;T<g.length;++T){var R=g[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var R=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var ne=g[B];if(!(ne in R))break e;R=R[ne]}g=g[g.length-1],B=R[g],T=T(B),T!=B&&T!=null&&e(R,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var R=[],B;for(B in T)Object.prototype.hasOwnProperty.call(T,B)&&R.push([B,T[B]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function d(g,T,R){return g.call.apply(g.bind,arguments)}function f(g,T,R){return f=d,f.apply(null,arguments)}function m(g,T){var R=Array.prototype.slice.call(arguments,1);return function(){var B=R.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function p(g,T){function R(){}R.prototype=T.prototype,g.Z=T.prototype,g.prototype=new R,g.prototype.constructor=g,g.Ob=function(B,ne,se){for(var Se=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)Se[Xe-2]=arguments[Xe];return T.prototype[ne].apply(B,Se)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const T=g.length;if(T>0){const R=Array(T);for(let B=0;B<T;B++)R[B]=g[B];return R}return[]}function A(g,T){for(let B=1;B<arguments.length;B++){const ne=arguments[B];var R=typeof ne;if(R=R!="object"?R:ne?Array.isArray(ne)?"array":R:"null",R=="array"||R=="object"&&typeof ne.length=="number"){R=g.length||0;const se=ne.length||0;g.length=R+se;for(let Se=0;Se<se;Se++)g[R+Se]=ne[Se]}else g.push(ne)}}class E{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function S(g){l.setTimeout(()=>{throw g},0)}function N(){var g=P;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class D{constructor(){this.h=this.g=null}add(T,R){const B=O.get();B.set(T,R),this.h?this.h.next=B:this.g=B,this.h=B}}var O=new E(()=>new L,g=>g.reset());class L{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let V,U=!1,P=new D,C=()=>{const g=Promise.resolve(void 0);V=()=>{g.then(j)}};function j(){for(var g;g=N();){try{g.h.call(g.g)}catch(R){S(R)}var T=O;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}U=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const R=()=>{};l.addEventListener("test",R,T),l.removeEventListener("test",R,T)}catch{}return g})();function M(g){return/^[\s\xa0]*$/.test(g)}function fe(g,T){k.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}p(fe,k),fe.prototype.init=function(g,T){const R=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(R=="mouseover"?T=g.fromElement:R=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Y=0;function H(g,T,R,B,ne){this.listener=g,this.proxy=null,this.src=T,this.type=R,this.capture=!!B,this.ha=ne,this.key=++Y,this.da=this.fa=!1}function Q(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ee(g,T,R){for(const B in g)T.call(R,g[B],B,g)}function W(g,T){for(const R in g)T.call(void 0,g[R],R,g)}function F(g){const T={};for(const R in g)T[R]=g[R];return T}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(g,T){let R,B;for(let ne=1;ne<arguments.length;ne++){B=arguments[ne];for(R in B)g[R]=B[R];for(let se=0;se<X.length;se++)R=X[se],Object.prototype.hasOwnProperty.call(B,R)&&(g[R]=B[R])}}function ce(g){this.src=g,this.g={},this.h=0}ce.prototype.add=function(g,T,R,B,ne){const se=g.toString();g=this.g[se],g||(g=this.g[se]=[],this.h++);const Se=_e(g,T,B,ne);return Se>-1?(T=g[Se],R||(T.fa=!1)):(T=new H(T,this.src,se,!!B,ne),T.fa=R,g.push(T)),T};function Ae(g,T){const R=T.type;if(R in g.g){var B=g.g[R],ne=Array.prototype.indexOf.call(B,T,void 0),se;(se=ne>=0)&&Array.prototype.splice.call(B,ne,1),se&&(Q(T),g.g[R].length==0&&(delete g.g[R],g.h--))}}function _e(g,T,R,B){for(let ne=0;ne<g.length;++ne){const se=g[ne];if(!se.da&&se.listener==T&&se.capture==!!R&&se.ha==B)return ne}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),Je={};function le(g,T,R,B,ne){if(Array.isArray(T)){for(let se=0;se<T.length;se++)le(g,T[se],R,B,ne);return null}return R=ze(R),g&&g[be]?g.J(T,R,c(B)?!!B.capture:!1,ne):Ne(g,T,R,!1,B,ne)}function Ne(g,T,R,B,ne,se){if(!T)throw Error("Invalid event type");const Se=c(ne)?!!ne.capture:!!ne;let Xe=Te(g);if(Xe||(g[Ee]=Xe=new ce(g)),R=Xe.add(T,R,B,Se,se),R.proxy)return R;if(B=He(),R.proxy=B,B.src=g,B.listener=R,g.addEventListener)$||(ne=Se),ne===void 0&&(ne=!1),g.addEventListener(T.toString(),B,ne);else if(g.attachEvent)g.attachEvent(ue(T.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return R}function He(){function g(R){return T.call(g.src,g.listener,R)}const T=xe;return g}function ye(g,T,R,B,ne){if(Array.isArray(T))for(var se=0;se<T.length;se++)ye(g,T[se],R,B,ne);else B=c(B)?!!B.capture:!!B,R=ze(R),g&&g[be]?(g=g.i,se=String(T).toString(),se in g.g&&(T=g.g[se],R=_e(T,R,B,ne),R>-1&&(Q(T[R]),Array.prototype.splice.call(T,R,1),T.length==0&&(delete g.g[se],g.h--)))):g&&(g=Te(g))&&(T=g.g[T.toString()],g=-1,T&&(g=_e(T,R,B,ne)),(R=g>-1?T[g]:null)&&wt(R))}function wt(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[be])Ae(T.i,g);else{var R=g.type,B=g.proxy;T.removeEventListener?T.removeEventListener(R,B,g.capture):T.detachEvent?T.detachEvent(ue(R),B):T.addListener&&T.removeListener&&T.removeListener(B),(R=Te(T))?(Ae(R,g),R.h==0&&(R.src=null,T[Ee]=null)):Q(g)}}}function ue(g){return g in Je?Je[g]:Je[g]="on"+g}function xe(g,T){if(g.da)g=!0;else{T=new fe(T,this);const R=g.listener,B=g.ha||g.src;g.fa&&wt(g),g=R.call(B,T)}return g}function Te(g){return g=g[Ee],g instanceof ce?g:null}var Ce="__closure_events_fn_"+(Math.random()*1e9>>>0);function ze(g){return typeof g=="function"?g:(g[Ce]||(g[Ce]=function(T){return g.handleEvent(T)}),g[Ce])}function Oe(){q.call(this),this.i=new ce(this),this.M=this,this.G=null}p(Oe,q),Oe.prototype[be]=!0,Oe.prototype.removeEventListener=function(g,T,R,B){ye(this,g,T,R,B)};function Fe(g,T){var R,B=g.G;if(B)for(R=[];B;B=B.G)R.push(B);if(g=g.M,B=T.type||T,typeof T=="string")T=new k(T,g);else if(T instanceof k)T.target=T.target||g;else{var ne=T;T=new k(B,g),J(T,ne)}ne=!0;let se,Se;if(R)for(Se=R.length-1;Se>=0;Se--)se=T.g=R[Se],ne=dt(se,B,!0,T)&&ne;if(se=T.g=g,ne=dt(se,B,!0,T)&&ne,ne=dt(se,B,!1,T)&&ne,R)for(Se=0;Se<R.length;Se++)se=T.g=R[Se],ne=dt(se,B,!1,T)&&ne}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const R=g.g[T];for(let B=0;B<R.length;B++)Q(R[B]);delete g.g[T],g.h--}}this.G=null},Oe.prototype.J=function(g,T,R,B){return this.i.add(String(g),T,!1,R,B)},Oe.prototype.K=function(g,T,R,B){return this.i.add(String(g),T,!0,R,B)};function dt(g,T,R,B){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let ne=!0;for(let se=0;se<T.length;++se){const Se=T[se];if(Se&&!Se.da&&Se.capture==R){const Xe=Se.listener,hn=Se.ha||Se.src;Se.fa&&Ae(g.i,Se),ne=Xe.call(hn,B)!==!1&&ne}}return ne&&!B.defaultPrevented}function vt(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function Wt(g){g.g=vt(()=>{g.g=null,g.i&&(g.i=!1,Wt(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class ht extends q{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(g){q.call(this),this.h=g,this.g={}}p(rn,q);var an=[];function xn(g){ee(g.g,function(T,R){this.g.hasOwnProperty(R)&&wt(T)},g),g.g={}}rn.prototype.N=function(){rn.Z.N.call(this),xn(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=l.JSON.stringify,Vt=l.JSON.parse,hr=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function mt(){}function Fn(){}var Et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lt(){k.call(this,"d")}p(Lt,k);function Ft(){k.call(this,"c")}p(Ft,k);var Pt={},kc=null;function as(){return kc=kc||new Oe}Pt.Ia="serverreachability";function Vc(g){k.call(this,Pt.Ia,g)}p(Vc,k);function Si(g){const T=as();Fe(T,new Vc(T))}Pt.STAT_EVENT="statevent";function ss(g,T){k.call(this,Pt.STAT_EVENT,g),this.stat=T}p(ss,k);function nt(g){const T=as();Fe(T,new ss(T,g))}Pt.Ja="timingevent";function Xt(g,T){k.call(this,Pt.Ja,g),this.size=T}p(Xt,k);function Qt(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function _n(){this.g=!0}_n.prototype.ua=function(){this.g=!1};function mr(g,T,R,B,ne,se){g.info(function(){if(g.g)if(se){var Se="",Xe=se.split("&");for(let bt=0;bt<Xe.length;bt++){var hn=Xe[bt].split("=");if(hn.length>1){const Zt=hn[0];hn=hn[1];const Ni=Zt.split("_");Se=Ni.length>=2&&Ni[1]=="type"?Se+(Zt+"="+hn+"&"):Se+(Zt+"=redacted&")}}}else Se=null;else Se=se;return"XMLHTTP REQ ("+B+") [attempt "+ne+"]: "+T+`
`+R+`
`+Se})}function Hn(g,T,R,B,ne,se,Se){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ne+"]: "+T+`
`+R+`
`+se+" "+Se})}function dn(g,T,R,B){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+fn(g,R)+(B?" "+B:"")})}function Br(g,T){g.info(function(){return"TIMEOUT: "+T})}_n.prototype.info=function(){};function fn(g,T){if(!g.g)return T;if(!T)return null;try{const se=JSON.parse(T);if(se){for(g=0;g<se.length;g++)if(Array.isArray(se[g])){var R=se[g];if(!(R.length<2)){var B=R[1];if(Array.isArray(B)&&!(B.length<1)){var ne=B[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Se=1;Se<B.length;Se++)B[Se]=""}}}}return Me(se)}catch{return T}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cr;function ti(){}p(ti,mt),ti.prototype.g=function(){return new XMLHttpRequest},Cr=new ti;function Or(g){return encodeURIComponent(String(g))}function ni(g){var T=1;g=g.split(":");const R=[];for(;T>0&&g.length;)R.push(g.shift()),T--;return g.length&&R.push(g.join(":")),R}function tr(g,T,R,B){this.j=g,this.i=T,this.l=R,this.S=B||1,this.V=new rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rr}function Rr(){this.i=null,this.g="",this.h=!1}var wn={},Gn={};function ba(g,T,R){g.M=1,g.A=yl(Sn(T)),g.u=R,g.R=!0,Lc(g,null)}function Lc(g,T){g.F=Date.now(),xa(g),g.B=Sn(g.A);var R=g.B,B=g.S;Array.isArray(B)||(B=[String(B)]),qc(R.i,"t",B),g.C=0,R=g.j.L,g.h=new Rr,g.g=Jm(g.j,R?T:null,!g.u),g.P>0&&(g.O=new ht(f(g.Y,g,g.g),g.P)),T=g.V,R=g.g,B=g.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(an[0]=ne.toString()),ne=an);for(let se=0;se<ne.length;se++){const Se=le(R,ne[se],B||T.handleEvent,!1,T.h||T);if(!Se)break;T.g[Se.key]=Se}T=g.J?F(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),Si(),mr(g.i,g.v,g.B,g.l,g.S,g.u)}tr.prototype.ba=function(g){g=g.target;const T=this.O;T&&na(g)==3?T.j():this.Y(g)},tr.prototype.Y=function(g){try{if(g==this.g)e:{const Xe=na(this.g),hn=this.g.ya(),bt=this.g.ca();if(!(Xe<3)&&(Xe!=3||this.g&&(this.h.h||this.g.la()||nr(this.g)))){this.K||Xe!=4||hn==7||(hn==8||bt<=0?Si(3):Si(2)),_a(this);var T=this.g.ca();this.X=T;var R=B0(this);if(this.o=T==200,Hn(this.i,this.v,this.B,this.l,this.S,Xe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var B,ne=this.g;if((B=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(B)){var se=B;break t}}se=null}if(g=se)dn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wa(this,g);else{this.o=!1,this.m=3,nt(12),ri(this),Ai(this);break e}}if(this.R){g=!0;let Zt;for(;!this.K&&this.C<R.length;)if(Zt=Um(this,R),Zt==Gn){Xe==4&&(this.m=4,nt(14),g=!1),dn(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==wn){this.m=4,nt(15),dn(this.i,this.l,R,"[Invalid Chunk]"),g=!1;break}else dn(this.i,this.l,Zt,null),wa(this,Zt);if(zm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||R.length!=0||this.h.h||(this.m=1,nt(16),g=!1),this.o=this.o&&g,!g)dn(this.i,this.l,R,"[Invalid Chunked Response]"),ri(this),Ai(this);else if(R.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),nf(Se),Se.P=!0,nt(11))}}else dn(this.i,this.l,R,null),wa(this,R);Xe==4&&ri(this),this.o&&!this.K&&(Xe==4?Wm(this.j,this):(this.o=!1,xa(this)))}else ls(this.g),T==400&&R.indexOf("Unknown SID")>0?(this.m=3,nt(12)):(this.m=0,nt(13)),ri(this),Ai(this)}}}catch{}finally{}};function B0(g){if(!zm(g))return g.g.la();const T=nr(g.g);if(T==="")return"";let R="";const B=T.length,ne=na(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return ri(g),Ai(g),"";g.h.i=new l.TextDecoder}for(let se=0;se<B;se++)g.h.h=!0,R+=g.h.i.decode(T[se],{stream:!(ne&&se==B-1)});return T.length=0,g.h.g+=R,g.C=0,g.h.g}function zm(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Um(g,T){var R=g.C,B=T.indexOf(`
`,R);return B==-1?Gn:(R=Number(T.substring(R,B)),isNaN(R)?wn:(B+=1,B+R>T.length?Gn:(T=T.slice(B,B+R),g.C=B+R,T)))}tr.prototype.cancel=function(){this.K=!0,ri(this)};function xa(g){g.T=Date.now()+g.H,zc(g,g.H)}function zc(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Qt(f(g.aa,g),T)}function _a(g){g.D&&(l.clearTimeout(g.D),g.D=null)}tr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Br(this.i,this.B),this.M!=2&&(Si(),nt(17)),ri(this),this.m=2,Ai(this)):zc(this,this.T-g)};function Ai(g){g.j.I==0||g.K||Wm(g.j,g)}function ri(g){_a(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,xn(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function wa(g,T){try{var R=g.j;if(R.I!=0&&(R.g==g||Sa(R.h,g))){if(!g.L&&Sa(R.h,g)&&R.I==3){try{var B=R.Ba.g.parse(T)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ne=B;if(ne[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<g.F)Kc(R),oo(R);else break e;Sl(R),nt(18)}}else R.xa=ne[1],0<R.xa-R.K&&ne[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=Qt(f(R.Va,R),6e3));Ea(R.h)<=1&&R.ta&&(R.ta=void 0)}else Oa(R,11)}else if((g.L||R.g==g)&&Kc(R),!M(T))for(ne=R.Ba.g.parse(T),T=0;T<ne.length;T++){let bt=ne[T];const Zt=bt[0];if(!(Zt<=R.K))if(R.K=Zt,bt=bt[1],R.I==2)if(bt[0]=="c"){R.M=bt[1],R.ba=bt[2];const Ni=bt[3];Ni!=null&&(R.ka=Ni,R.j.info("VER="+R.ka));const Ra=bt[4];Ra!=null&&(R.za=Ra,R.j.info("SVER="+R.za));const ra=bt[5];ra!=null&&typeof ra=="number"&&ra>0&&(B=1.5*ra,R.O=B,R.j.info("backChannelRequestTimeoutMs_="+B)),B=R;const ia=g.g;if(ia){const Al=ia.g?ia.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Al){var se=B.h;se.g||Al.indexOf("spdy")==-1&&Al.indexOf("quic")==-1&&Al.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Fd(se,se.h),se.h=null))}if(B.G){const Yc=ia.g?ia.g.getResponseHeader("X-HTTP-Session-Id"):null;Yc&&(B.wa=Yc,St(B.J,B.G,Yc))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-g.F,R.j.info("Handshake RTT: "+R.T+"ms")),B=R;var Se=g;if(B.na=Zm(B,B.L?B.ba:null,B.W),Se.L){Hd(B.h,Se);var Xe=Se,hn=B.O;hn&&(Xe.H=hn),Xe.D&&(_a(Xe),xa(Xe)),B.g=Se}else Km(B);R.i.length>0&&Ca(R)}else bt[0]!="stop"&&bt[0]!="close"||Oa(R,7);else R.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Oa(R,7):ef(R):bt[0]!="noop"&&R.l&&R.l.qa(bt),R.A=0)}}Si(4)}catch{}}var En=class{constructor(g,T){this.g=g,this.map=T}};function qd(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $d(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ea(g){return g.h?1:g.g?g.g.size:0}function Sa(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Fd(g,T){g.g?g.g.add(T):g.h=T}function Hd(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}qd.prototype.cancel=function(){if(this.i=Gd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Gd(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const R of g.g.values())T=T.concat(R.G);return T}return _(g.i)}var Bm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uc(g,T){if(g){g=g.split("&");for(let R=0;R<g.length;R++){const B=g[R].indexOf("=");let ne,se=null;B>=0?(ne=g[R].substring(0,B),se=g[R].substring(B+1)):ne=g[R],T(ne,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function ii(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof ii?(this.l=g.l,Kn(this,g.j),this.o=g.o,this.g=g.g,eo(this,g.u),this.h=g.h,Kd(this,Hm(g.i)),this.m=g.m):g&&(T=String(g).match(Bm))?(this.l=!1,Kn(this,T[1]||"",!0),this.o=Aa(T[2]||""),this.g=Aa(T[3]||"",!0),eo(this,T[4]),this.h=Aa(T[5]||"",!0),Kd(this,T[6]||"",!0),this.m=Aa(T[7]||"")):(this.l=!1,this.i=new no(null,this.l))}ii.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(vl(T,Bc,!0),":");var R=this.g;return(R||T=="file")&&(g.push("//"),(T=this.o)&&g.push(vl(T,Bc,!0),"@"),g.push(Or(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&g.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&g.push("/"),g.push(vl(R,R.charAt(0)=="/"?Yd:qm,!0))),(R=this.i.toString())&&g.push("?",R),(R=this.m)&&g.push("#",vl(R,$m)),g.join("")},ii.prototype.resolve=function(g){const T=Sn(this);let R=!!g.j;R?Kn(T,g.j):R=!!g.o,R?T.o=g.o:R=!!g.g,R?T.g=g.g:R=g.u!=null;var B=g.h;if(R)eo(T,g.u);else if(R=!!g.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var ne=T.h.lastIndexOf("/");ne!=-1&&(B=T.h.slice(0,ne+1)+B)}if(ne=B,ne==".."||ne==".")B="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){B=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const se=[];for(let Se=0;Se<ne.length;){const Xe=ne[Se++];Xe=="."?B&&Se==ne.length&&se.push(""):Xe==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),B&&Se==ne.length&&se.push("")):(se.push(Xe),B=!0)}B=se.join("/")}else B=ne}return R?T.h=B:R=g.i.toString()!=="",R?Kd(T,Hm(g.i)):R=!!g.m,R&&(T.m=g.m),T};function Sn(g){return new ii(g)}function Kn(g,T,R){g.j=R?Aa(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function eo(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function Kd(g,T,R){T instanceof no?(g.i=T,$c(g.i,g.l)):(R||(T=vl(T,to)),g.i=new no(T,g.l))}function St(g,T,R){g.i.set(T,R)}function yl(g){return St(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Aa(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function vl(g,T,R){return typeof g=="string"?(g=encodeURI(g).replace(T,qr),R&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function qr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Bc=/[#\/\?@]/g,qm=/[#\?:]/g,Yd=/[#\?]/g,to=/[#\?@]/g,$m=/#/g;function no(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function $r(g){g.g||(g.g=new Map,g.h=0,g.i&&Uc(g.i,function(T,R){g.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}t=no.prototype,t.add=function(g,T){$r(this),this.i=null,g=ro(this,g);let R=this.g.get(g);return R||this.g.set(g,R=[]),R.push(T),this.h+=1,this};function Fm(g,T){$r(g),T=ro(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function Wd(g,T){return $r(g),T=ro(g,T),g.g.has(T)}t.forEach=function(g,T){$r(this),this.g.forEach(function(R,B){R.forEach(function(ne){g.call(T,ne,B,this)},this)},this)};function Xd(g,T){$r(g);let R=[];if(typeof T=="string")Wd(g,T)&&(R=R.concat(g.g.get(ro(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)R=R.concat(g[T]);return R}t.set=function(g,T){return $r(this),this.i=null,g=ro(this,g),Wd(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=Xd(this,g),g.length>0?String(g[0]):T):T};function qc(g,T,R){Fm(g,T),R.length>0&&(g.i=null,g.g.set(ro(g,T),_(R)),g.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let B=0;B<T.length;B++){var R=T[B];const ne=Or(R);R=Xd(this,R);for(let se=0;se<R.length;se++){let Se=ne;R[se]!==""&&(Se+="="+Or(R[se])),g.push(Se)}}return this.i=g.join("&")};function Hm(g){const T=new no;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function ro(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function $c(g,T){T&&!g.j&&($r(g),g.i=null,g.g.forEach(function(R,B){const ne=B.toLowerCase();B!=ne&&(Fm(this,B),qc(this,ne,R))},g)),g.j=T}function ea(g,T){const R=new _n;if(l.Image){const B=new Image;B.onload=m(Ti,R,"TestLoadImage: loaded",!0,T,B),B.onerror=m(Ti,R,"TestLoadImage: error",!1,T,B),B.onabort=m(Ti,R,"TestLoadImage: abort",!1,T,B),B.ontimeout=m(Ti,R,"TestLoadImage: timeout",!1,T,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else T(!1)}function Qd(g,T){const R=new _n,B=new AbortController,ne=setTimeout(()=>{B.abort(),Ti(R,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:B.signal}).then(se=>{clearTimeout(ne),se.ok?Ti(R,"TestPingServer: ok",!0,T):Ti(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ne),Ti(R,"TestPingServer: error",!1,T)})}function Ti(g,T,R,B,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),B(R)}catch{}}function io(){this.g=new hr}function Ta(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Ta,mt),Ta.prototype.g=function(){return new bl(this.i,this.h)};function bl(g,T){Oe.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(bl,Oe),t=bl.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,ta(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fc(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fc(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?ao(this):ta(this),this.readyState==3&&Fc(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,ao(this))},t.Na=function(g){this.g&&(this.response=g,ao(this))},t.ga=function(){this.g&&ao(this)};function ao(g){g.readyState=4,g.l=null,g.j=null,g.B=null,ta(g)}t.setRequestHeader=function(g,T){this.A.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,g.push(R[0]+": "+R[1]),R=T.next();return g.join(`\r
`)};function ta(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ii(g){let T="";return ee(g,function(R,B){T+=B,T+=":",T+=R,T+=`\r
`}),T}function xl(g,T,R){e:{for(B in R){var B=!1;break e}B=!0}B||(R=Ii(R),typeof g=="string"?R!=null&&Or(R):St(g,T,R))}function Dt(g){Oe.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Dt,Oe);var Ia=/^https?$/i,Zd=["POST","PUT"];t=Dt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,T,R,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cr.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(se){_l(this,se);return}if(g=R||"",R=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ne in B)R.set(ne,B[ne]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const se of B.keys())R.set(se,B.get(se));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(R.keys()).find(se=>se.toLowerCase()=="content-type"),ne=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Zd,T,void 0)>=0)||B||ne||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Se]of R)this.g.setRequestHeader(se,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(se){_l(this,se)}};function _l(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,Jd(g),os(g)}function Jd(g){g.A||(g.A=!0,Fe(g,"complete"),Fe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Fe(this,"complete"),Fe(this,"abort"),os(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),Dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wl(this):this.Xa())},t.Xa=function(){wl(this)};function wl(g){if(g.h&&typeof s<"u"){if(g.v&&na(g)==4)setTimeout(g.Ca.bind(g),0);else if(Fe(g,"readystatechange"),na(g)==4){g.h=!1;try{const se=g.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var B;if(B=se===0){let Se=String(g.D).match(Bm)[1]||null;!Se&&l.self&&l.self.location&&(Se=l.self.location.protocol.slice(0,-1)),B=!Ia.test(Se?Se.toLowerCase():"")}R=B}if(R)Fe(g,"complete"),Fe(g,"success");else{g.o=6;try{var ne=na(g)>2?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.ca()+"]",Jd(g)}}finally{os(g)}}}}function os(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const R=g.g;g.g=null,T||Fe(g,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function na(g){return g.g?g.g.readyState:0}t.ca=function(){try{return na(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),Vt(T)}};function nr(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(g){const T={};g=(g.g&&na(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(M(g[B]))continue;var R=ni(g[B]);const ne=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const se=T[ne]||[];T[ne]=se,se.push(R)}W(T,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(g,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[g]||T}function so(g){this.za=0,this.i=[],this.j=new _n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Na("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Na("baseRetryDelayMs",5e3,g),this.Za=Na("retryDelaySeedMs",1e4,g),this.Ta=Na("forwardChannelMaxRetries",2,g),this.va=Na("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new qd(g&&g.concurrentRequestLimit),this.Ba=new io,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=so.prototype,t.ka=8,t.I=1,t.connect=function(g,T,R,B){nt(0),this.W=g,this.H=T||{},R&&B!==void 0&&(this.H.OSID=R,this.H.OAID=B),this.F=this.X,this.J=Zm(this,null,this.W),Ca(this)};function ef(g){if(Hc(g),g.I==3){var T=g.V++,R=Sn(g.J);if(St(R,"SID",g.M),St(R,"RID",T),St(R,"TYPE","terminate"),El(g,R),T=new tr(g,g.j,T),T.M=2,T.A=yl(Sn(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!R&&l.Image&&(new Image().src=T.A,R=!0),R||(T.g=Jm(T.j,null),T.g.ea(T.A)),T.F=Date.now(),xa(T)}Qm(g)}function oo(g){g.g&&(nf(g),g.g.cancel(),g.g=null)}function Hc(g){oo(g),g.v&&(l.clearTimeout(g.v),g.v=null),Kc(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Ca(g){if(!$d(g.h)&&!g.m){g.m=!0;var T=g.Ea;V||C(),U||(V(),U=!0),P.add(T,g),g.D=0}}function Gc(g,T){return Ea(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Qt(f(g.Ea,g,T),Xm(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const ne=new tr(this,this.j,g);let se=this.o;if(this.U&&(se?(se=F(se),J(se,this.U)):se=this.U),this.u!==null||this.R||(ne.J=se,se=null),this.S)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var B=this.i[R];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(T+=B,T>4096){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=Gm(this,ne,T),R=Sn(this.J),St(R,"RID",g),St(R,"CVER",22),this.G&&St(R,"X-HTTP-Session-Id",this.G),El(this,R),se&&(this.R?T="headers="+Or(Ii(se))+"&"+T:this.u&&xl(R,this.u,se)),Fd(this.h,ne),this.Ra&&St(R,"TYPE","init"),this.S?(St(R,"$req",T),St(R,"SID","null"),ne.U=!0,ba(ne,R,null)):ba(ne,R,T),this.I=2}}else this.I==3&&(g?tf(this,g):this.i.length==0||$d(this.h)||tf(this))};function tf(g,T){var R;T?R=T.l:R=g.V++;const B=Sn(g.J);St(B,"SID",g.M),St(B,"RID",R),St(B,"AID",g.K),El(g,B),g.u&&g.o&&xl(B,g.u,g.o),R=new tr(g,g.j,R,g.D+1),g.u===null&&(R.J=g.o),T&&(g.i=T.G.concat(g.i)),T=Gm(g,R,1e3),R.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Fd(g.h,R),ba(R,B,T)}function El(g,T){g.H&&ee(g.H,function(R,B){St(T,B,R)}),g.l&&ee({},function(R,B){St(T,B,R)})}function Gm(g,T,R){R=Math.min(g.i.length,R);const B=g.l?f(g.l.Ka,g.l,g):null;e:{var ne=g.i;let Xe=-1;for(;;){const hn=["count="+R];Xe==-1?R>0?(Xe=ne[0].g,hn.push("ofs="+Xe)):Xe=0:hn.push("ofs="+Xe);let bt=!0;for(let Zt=0;Zt<R;Zt++){var se=ne[Zt].g;const Ni=ne[Zt].map;if(se-=Xe,se<0)Xe=Math.max(0,ne[Zt].g-100),bt=!1;else try{se="req"+se+"_"||"";try{var Se=Ni instanceof Map?Ni:Object.entries(Ni);for(const[Ra,ra]of Se){let ia=ra;c(ra)&&(ia=Me(ra)),hn.push(se+Ra+"="+encodeURIComponent(ia))}}catch(Ra){throw hn.push(se+"type="+encodeURIComponent("_badmap")),Ra}}catch{B&&B(Ni)}}if(bt){Se=hn.join("&");break e}}Se=void 0}return g=g.i.splice(0,R),T.G=g,Se}function Km(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;V||C(),U||(V(),U=!0),P.add(T,g),g.A=0}}function Sl(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Qt(f(g.Da,g),Xm(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Ym(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Qt(f(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nt(10),oo(this),Ym(this))};function nf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Ym(g){g.g=new tr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=Sn(g.na);St(T,"RID","rpc"),St(T,"SID",g.M),St(T,"AID",g.K),St(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&St(T,"TO",g.ia),St(T,"TYPE","xmlhttp"),El(g,T),g.u&&g.o&&xl(T,g.u,g.o),g.O&&(g.g.H=g.O);var R=g.g;g=g.ba,R.M=1,R.A=yl(Sn(T)),R.u=null,R.R=!0,Lc(R,g)}t.Va=function(){this.C!=null&&(this.C=null,oo(this),Sl(this),nt(19))};function Kc(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Wm(g,T){var R=null;if(g.g==T){Kc(g),nf(g),g.g=null;var B=2}else if(Sa(g.h,T))R=T.G,Hd(g.h,T),B=1;else return;if(g.I!=0){if(T.o)if(B==1){R=T.u?T.u.length:0,T=Date.now()-T.F;var ne=g.D;B=as(),Fe(B,new Xt(B,R)),Ca(g)}else Km(g);else if(ne=T.m,ne==3||ne==0&&T.X>0||!(B==1&&Gc(g,T)||B==2&&Sl(g)))switch(R&&R.length>0&&(T=g.h,T.i=T.i.concat(R)),ne){case 1:Oa(g,5);break;case 4:Oa(g,10);break;case 3:Oa(g,6);break;default:Oa(g,2)}}}function Xm(g,T){let R=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(R*=2),R*T}function Oa(g,T){if(g.j.info("Error code "+T),T==2){var R=f(g.bb,g),B=g.Ua;const ne=!B;B=new ii(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Kn(B,"https"),yl(B),ne?ea(B.toString(),R):Qd(B.toString(),R)}else nt(2);g.I=0,g.l&&g.l.pa(T),Qm(g),Hc(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Qm(g){if(g.I=0,g.ja=[],g.l){const T=Gd(g.h);(T.length!=0||g.i.length!=0)&&(A(g.ja,T),A(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Zm(g,T,R){var B=R instanceof ii?Sn(R):new ii(R);if(B.g!="")T&&(B.g=T+"."+B.g),eo(B,B.u);else{var ne=l.location;B=ne.protocol,T=T?T+"."+ne.hostname:ne.hostname,ne=+ne.port;const se=new ii(null);B&&Kn(se,B),T&&(se.g=T),ne&&eo(se,ne),R&&(se.h=R),B=se}return R=g.G,T=g.wa,R&&T&&St(B,R,T),St(B,"VER",g.ka),El(g,B),B}function Jm(g,T,R){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new Dt(new Ta({ab:R})):new Dt(g.ma),T.Fa(g.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ep(){}t=ep.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lo(){}lo.prototype.g=function(g,T){return new Pr(g,T)};function Pr(g,T){Oe.call(this),this.g=new so(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!M(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!M(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new cs(this)}p(Pr,Oe),Pr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pr.prototype.close=function(){ef(this.g)},Pr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var R={};R.__data__=g,g=R}else this.v&&(R={},R.__data__=Me(g),g=R);T.i.push(new En(T.Ya++,g)),T.I==3&&Ca(T)},Pr.prototype.N=function(){this.g.l=null,delete this.j,ef(this.g),delete this.g,Pr.Z.N.call(this)};function tp(g){Lt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const R in T){g=R;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}p(tp,Lt);function np(){Ft.call(this),this.status=1}p(np,Ft);function cs(g){this.g=g}p(cs,ep),cs.prototype.ra=function(){Fe(this.g,"a")},cs.prototype.qa=function(g){Fe(this.g,new tp(g))},cs.prototype.pa=function(g){Fe(this.g,new np)},cs.prototype.oa=function(){Fe(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Pr.prototype.send=Pr.prototype.o,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,Nk=function(){return new lo},Ik=function(){return as()},Tk=Pt,Zw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,kg=pr,gr.COMPLETE="complete",Ak=gr,Fn.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",Oe.prototype.listen=Oe.prototype.J,eh=Fn,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,Sk=Dt}).apply(typeof og<"u"?og:typeof self<"u"?self:typeof window<"u"?window:{});const zC="@firebase/firestore",UC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new NE("@firebase/firestore");function Du(){return vc.logLevel}function ve(t,...e){if(vc.logLevel<=ot.DEBUG){const n=e.map(BE);vc.debug(`Firestore (${Sd}): ${t}`,...n)}}function yn(t,...e){if(vc.logLevel<=ot.ERROR){const n=e.map(BE);vc.error(`Firestore (${Sd}): ${t}`,...n)}}function Th(t,...e){if(vc.logLevel<=ot.WARN){const n=e.map(BE);vc.warn(`Firestore (${Sd}): ${t}`,...n)}}function BE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Ck(t,r,n)}function Ck(t,e,n){let r=`FIRESTORE (${Sd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yn(r),new Error(r)}function Le(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Ck(e,i,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xr.UNAUTHENTICATED)))}shutdown(){}}class VF{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ha,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ha)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new MF(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new xr(e)}}class LF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new LF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class BC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ca(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new BC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=BF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function Jw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Wx(i)===Wx(s)?Ye(i,s):Wx(i)?1:-1}return Ye(t.length,e.length)}const qF=55296,$F=57343;function Wx(t){const e=t.charCodeAt(0);return e>=qF&&e<=$F}function Xu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function Ok(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__name__";class Va{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Va.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ye(e.length,n.length)}static compareSegments(e,n){const r=Va.isNumericId(e),i=Va.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Va.extractNumericId(e).compare(Va.extractNumericId(n)):Jw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xo.fromString(e.substring(4,e.length-2))}}class _t extends Va{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const FF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Va{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return FF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qC}static keyField(){return new nn([qC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new we(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new we(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new we(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(_t.fromString(e))}static fromName(e){return new Ie(_t.fromString(e).popFirst(5))}static empty(){return new Ie(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t,e,n){if(!n)throw new we(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HF(t,e,n,r){if(e===!0&&r===!0)throw new we(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $C(t){if(!Ie.isDocumentKey(t))throw new we(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FC(t){if(Ie.isDocumentKey(t))throw new we(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cv(t);throw new we(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function lm(t,e){if(!Pk(t))throw new we(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new we(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=-62135596800,GC=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*GC);return new Nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<HC)throw new we(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GC}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lm(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-HC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:Rn("string",Nt._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Nt(0,0))}static max(){return new Be(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;class ly{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function e1(t){return t.fields.find((e=>e.kind===2))}function $l(t){return t.fields.filter((e=>e.kind!==2))}ly.UNKNOWN_ID=-1;class Vg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ih{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ih(0,wi.min())}}function Dk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new wi(i,Ie.empty(),e)}function jk(t){return new wi(t.readTime,t.key,Qu)}class wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wi(Be.min(),Ie.empty(),Qu)}static max(){return new wi(Be.max(),Ie.empty(),Qu)}}function $E(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==Mk)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((i=>i?te.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const f=d;n(e[f]).next((m=>{l[f]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new te(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="SimpleDb";class Ov{static open(e,n,r,i){try{return new Ov(n,e.transaction(i,r))}catch(s){throw new ch(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ha,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new ch(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=FE(r.target.error);this.S.reject(new ch(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ve(mi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new KF(n)}}class Qo{static delete(e){return ve(mi,"Removing database:",e),Yl(jM().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!BM())return!1;if(Qo.F())return!0;const e=Ln(),n=Qo.M(e),r=0<n&&n<10,i=Vk(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Qo.M(Ln())===12.2&&yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ve(mi,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;n(l)},i.onblocked=()=>{r(new ch(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new we(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new we(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new ch(e,l))},i.onupgradeneeded=s=>{ve(mi,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{ve(mi,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=Ov.open(this.db,e,s?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),te.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(ve(mi,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Vk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class GF{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Yl(this.U.delete())}}class ch extends we{constructor(e,n){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function cl(t){return t.name==="IndexedDbTransactionError"}class KF{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ve(mi,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ve(mi,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yl(r)}add(e){return ve(mi,"ADD",this.store.name,e,e),Yl(this.store.add(e))}get(e){return Yl(this.store.get(e)).next((n=>(n===void 0&&(n=null),ve(mi,"GET",this.store.name,e,n),n)))}delete(e){return ve(mi,"DELETE",this.store.name,e),Yl(this.store.delete(e))}count(){return ve(mi,"COUNT",this.store.name),Yl(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new te(((l,c)=>{s.onerror=d=>{c(d.target.error)},s.onsuccess=d=>{l(d.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new te(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){ve(mi,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new te(((r,i)=>{n.onerror=s=>{const l=FE(s.target.error);i(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new te(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new GF(c),f=n(c.primaryKey,c.value,d);if(f instanceof te){const m=f.catch((p=>(d.done(),te.reject(p))));r.push(m)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>te.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Yl(t){return new te(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=FE(r.target.error);n(i)}}))}let KC=!1;function FE(t){const e=Qo.M(Ln());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return KC||(KC=!0,setTimeout((()=>{throw r}),0)),r}}return t}const uh="IndexBackfiller";class YF{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ve(uh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ve(uh,`Documents written: ${n}`)}catch(n){cl(n)?ve(uh,"Ignoring IndexedDB error during index backfill: ",n):await ll(n)}await this.re(6e4)}))}}class WF{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return te.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return ve(uh,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((c=>(ve(uh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const l=jk(s);$E(l,r)>0&&(r=l)})),new wi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=-1;function Rv(t){return t==null}function Nh(t){return t===0&&1/t==-1/0}function Lk(t){return typeof t=="number"&&Number.isInteger(t)&&!Nh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="";function Ir(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YC(e)),e=XF(t.get(n),e);return YC(e)}function XF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case cy:n+="";break;default:n+=s}}return n}function YC(t){return t+cy+""}function Ua(t){const e=t.length;if(Le(e>=2,64408,{path:t}),e===2)return Le(t.charAt(0)===cy&&t.charAt(1)==="",56145,{path:t}),_t.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const l=t.indexOf(cy,s);switch((l<0||l>n)&&Re(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(s,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(s,l),i+="\0";break;case"":i+=t.substring(s,l+1);break;default:Re(61167,{path:t})}s=l+2}return new _t(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="remoteDocuments",cm="owner",Su="owner",Ch="mutationQueues",QF="userId",la="mutations",WC="batchId",ec="userMutationsIndex",XC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e){return[t,Ir(e)]}function zk(t,e,n){return[t,Ir(e),n]}const ZF={},Zu="documentMutations",uy="remoteDocumentsV14",JF=["prefixPath","collectionGroup","readTime","documentId"],zg="documentKeyIndex",eH=["prefixPath","collectionGroup","documentId"],Uk="collectionGroupIndex",tH=["collectionGroup","readTime","prefixPath","documentId"],Oh="remoteDocumentGlobal",t1="remoteDocumentGlobalKey",Ju="targets",Bk="queryTargetsIndex",nH=["canonicalId","targetId"],ed="targetDocuments",rH=["targetId","path"],HE="documentTargetsIndex",iH=["path","targetId"],dy="targetGlobalKey",sc="targetGlobal",Rh="collectionParents",aH=["collectionId","parent"],td="clientMetadata",sH="clientId",Pv="bundles",oH="bundleId",Dv="namedQueries",lH="name",GE="indexConfiguration",cH="indexId",n1="collectionGroupIndex",uH="collectionGroup",dh="indexState",dH=["indexId","uid"],qk="sequenceNumberIndex",fH=["uid","sequenceNumber"],fh="indexEntries",hH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$k="documentKeyIndex",mH=["indexId","uid","orderedDocumentKey"],jv="documentOverlays",pH=["userId","collectionPath","documentId"],r1="collectionPathOverlayIndex",gH=["userId","collectionPath","largestBatchId"],Fk="collectionGroupOverlayIndex",yH=["userId","collectionGroup","largestBatchId"],KE="globals",vH="name",Hk=[Ch,la,Zu,Fl,Ju,cm,sc,ed,td,Oh,Rh,Pv,Dv],bH=[...Hk,jv],Gk=[Ch,la,Zu,uy,Ju,cm,sc,ed,td,Oh,Rh,Pv,Dv,jv],Kk=Gk,YE=[...Kk,GE,dh,fh],xH=YE,Yk=[...YE,KE],_H=Yk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends kk{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function zn(t,e){const n=je(t);return Qo.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ul(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){this.comparator=e,this.root=n||lr.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lg(this.root,e,this.comparator,!1)}getReverseIterator(){return new lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lg(this.root,e,this.comparator,!0)}}class lg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??lr.RED,this.left=i??lr.EMPTY,this.right=s??lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new lr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new lr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZC(this.data.getIterator())}getIteratorFrom(e){return new ZC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class ZC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Au(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new Ot(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Xk("Invalid base64 string: "+s):s}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const wH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=wH.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="server_timestamp",Zk="__type__",Jk="__previous_value__",e4="__local_write_time__";function WE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Zk])==null?void 0:r.stringValue)===Qk}function Mv(t){const e=t.mapValue.fields[Jk];return WE(e)?Mv(e):e}function Ph(t){const e=Vs(t.mapValue.fields[e4].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n,r,i,s,l,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const fy="(default)";class bc{constructor(e,n){this.projectId=e,this.database=n||fy}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===fy}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="__type__",t4="__max__",Fo={mapValue:{fields:{__type__:{stringValue:t4}}}},QE="__vector__",nd="value",Ug={nullValue:"NULL_VALUE"};function tl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?WE(t)?4:n4(t)?9007199254740991:kv(t)?10:11:Re(28295,{value:t})}function Xa(t,e){if(t===e)return!0;const n=tl(t);if(n!==tl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ph(t).isEqual(Ph(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Vs(i.timestampValue),c=Vs(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Ls(i.bytesValue).isEqual(Ls(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return en(i.geoPointValue.latitude)===en(s.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return en(i.integerValue)===en(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=en(i.doubleValue),c=en(s.doubleValue);return l===c?Nh(l)===Nh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Xu(t.arrayValue.values||[],e.arrayValue.values||[],Xa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(QC(l)!==QC(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Xa(l[d],c[d])))return!1;return!0})(t,e);default:return Re(52216,{left:t})}}function Dh(t,e){return(t.values||[]).find((n=>Xa(n,e)))!==void 0}function nl(t,e){if(t===e)return 0;const n=tl(t),r=tl(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=en(s.integerValue||s.doubleValue),d=en(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return JC(t.timestampValue,e.timestampValue);case 4:return JC(Ph(t),Ph(e));case 5:return Jw(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=Ls(s),d=Ls(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Ye(c[f],d[f]);if(m!==0)return m}return Ye(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Ye(en(s.latitude),en(l.latitude));return c!==0?c:Ye(en(s.longitude),en(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return eO(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var b,_,A,E;const c=s.fields||{},d=l.fields||{},f=(b=c[nd])==null?void 0:b.arrayValue,m=(_=d[nd])==null?void 0:_.arrayValue,p=Ye(((A=f==null?void 0:f.values)==null?void 0:A.length)||0,((E=m==null?void 0:m.values)==null?void 0:E.length)||0);return p!==0?p:eO(f,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Fo.mapValue&&l===Fo.mapValue)return 0;if(s===Fo.mapValue)return 1;if(l===Fo.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let p=0;p<d.length&&p<m.length;++p){const b=Jw(d[p],m[p]);if(b!==0)return b;const _=nl(c[d[p]],f[m[p]]);if(_!==0)return _}return Ye(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function JC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Vs(t),r=Vs(e),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function eO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=nl(n[i],r[i]);if(s)return s}return Ye(n.length,r.length)}function rd(t){return a1(t)}function a1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ls(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=a1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${a1(n.fields[l])}`;return i+"}"})(t.mapValue):Re(61005,{value:t})}function Bg(t){switch(tl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mv(t);return e?16+Bg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ls(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Bg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ul(r.fields,((s,l)=>{i+=s.length+Bg(l)})),i})(t.mapValue);default:throw Re(13486,{value:t})}}function jh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function s1(t){return!!t&&"integerValue"in t}function Mh(t){return!!t&&"arrayValue"in t}function tO(t){return!!t&&"nullValue"in t}function nO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qg(t){return!!t&&"mapValue"in t}function kv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XE])==null?void 0:r.stringValue)===QE}function hh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ul(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=hh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hh(t.arrayValue.values[n]);return e}return{...t}}function n4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t4}const r4={mapValue:{fields:{[XE]:{stringValue:QE},[nd]:{arrayValue:{}}}}};function SH(t){return"nullValue"in t?Ug:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?jh(bc.empty(),Ie.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?kv(t)?r4:{mapValue:{}}:Re(35942,{value:t})}function AH(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?jh(bc.empty(),Ie.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?r4:"mapValue"in t?kv(t)?{mapValue:{}}:Fo:Re(61959,{value:t})}function rO(t,e){const n=nl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function iO(t,e){const n=nl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.value=e}static empty(){return new Sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hh(n)}setAll(e){let n=nn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=hh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ul(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Sr(hh(this.value))}}function i4(t){const e=[];return ul(t.fields,((n,r)=>{const i=new nn([n]);if(qg(r)){const s=i4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ln(e,0,Be.min(),Be.min(),Be.min(),Sr.empty(),0)}static newFoundDocument(e,n,r,i){return new ln(e,1,n,Be.min(),r,i,0)}static newNoDocument(e,n){return new ln(e,2,n,Be.min(),Be.min(),Sr.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Be.min(),Be.min(),Sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.position=e,this.inclusive=n}}function aO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=nl(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function TH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{}class lt extends a4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IH(e,n,r):n==="array-contains"?new OH(e,r):n==="in"?new d4(e,r):n==="not-in"?new RH(e,r):n==="array-contains-any"?new PH(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NH(e,r):new CH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nl(n,this.value)):n!==null&&tl(this.value)===tl(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ct extends a4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ct(e,n)}matches(e){return ad(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ad(t){return t.op==="and"}function o1(t){return t.op==="or"}function ZE(t){return s4(t)&&ad(t)}function s4(t){for(const e of t.filters)if(e instanceof Ct)return!1;return!0}function l1(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+rd(t.value);if(ZE(t))return t.filters.map((e=>l1(e))).join(",");{const e=t.filters.map((n=>l1(n))).join(",");return`${t.op}(${e})`}}function o4(t,e){return t instanceof lt?(function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&Xa(r.value,i.value)})(t,e):t instanceof Ct?(function(r,i){return i instanceof Ct&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&o4(l,i.filters[c])),!0):!1})(t,e):void Re(19439)}function l4(t,e){const n=t.filters.concat(e);return Ct.create(n,t.op)}function c4(t){return t instanceof lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${rd(n.value)}`})(t):t instanceof Ct?(function(n){return n.op.toString()+" {"+n.getFilters().map(c4).join(" ,")+"}"})(t):"Filter"}class IH extends lt{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class NH extends lt{constructor(e,n){super(e,"in",n),this.keys=u4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CH extends lt{constructor(e,n){super(e,"not-in",n),this.keys=u4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function u4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ie.fromName(r.referenceValue)))}class OH extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mh(n)&&Dh(n.arrayValue,this.value)}}class d4 extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dh(this.value.arrayValue,n)}}class RH extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dh(this.value.arrayValue,n)}}class PH extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Dh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function c1(t,e=null,n=[],r=[],i=null,s=null,l=null){return new DH(t,e,n,r,i,s,l)}function xc(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>l1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Rv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>rd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>rd(r))).join(",")),e.Te=n}return e.Te}function um(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sO(t.startAt,e.startAt)&&sO(t.endAt,e.endAt)}function hy(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function my(t,e){return t.filters.filter((n=>n instanceof lt&&n.field.isEqual(e)))}function oO(t,e,n){let r=Ug,i=!0;for(const s of my(t,e)){let l=Ug,c=!0;switch(s.op){case"<":case"<=":l=SH(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=Ug}rO({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];rO({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function lO(t,e,n){let r=Fo,i=!0;for(const s of my(t,e)){let l=Fo,c=!0;switch(s.op){case">=":case">":l=AH(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=Fo}iO({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];iO({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function f4(t,e,n,r,i,s,l,c){return new Ad(t,e,n,r,i,s,l,c)}function dm(t){return new Ad(t)}function cO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function h4(t){return t.collectionGroup!==null}function mh(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ot(nn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new kh(s,r))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new kh(nn.keyField(),r))}return e.Ie}function xi(t){const e=je(t);return e.Ee||(e.Ee=jH(e,mh(t))),e.Ee}function jH(t,e){if(t.limitType==="F")return c1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new kh(i.field,s)}));const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return c1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function u1(t,e){const n=t.filters.concat([e]);return new Ad(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function d1(t,e,n){return new Ad(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vv(t,e){return um(xi(t),xi(e))&&t.limitType===e.limitType}function m4(t){return`${xc(xi(t))}|lt:${t.limitType}`}function ju(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>c4(i))).join(", ")}]`),Rv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>rd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>rd(i))).join(",")),`Target(${r})`})(xi(t))}; limitType=${t.limitType})`}function fm(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of mh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=aO(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,mh(r),i)||r.endAt&&!(function(l,c,d){const f=aO(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,mh(r),i))})(t,e)}function p4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g4(t){return(e,n)=>{let r=!1;for(const i of mh(t)){const s=MH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function MH(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(s,l,c){const d=l.data.field(s),f=c.data.field(s);return d!==null&&f!==null?nl(d,f):Re(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ul(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return Wk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=new $t(Ie.comparator);function yi(){return kH}const y4=new $t(Ie.comparator);function th(...t){let e=y4;for(const n of t)e=e.insert(n.key,n);return e}function v4(t){let e=y4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ba(){return ph()}function b4(){return ph()}function ph(){return new Ys((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VH=new $t(Ie.comparator),LH=new Ot(Ie.comparator);function et(...t){let e=LH;for(const n of t)e=e.add(n);return e}const zH=new Ot(Ye);function JE(){return zH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function x4(t){return{integerValue:""+t}}function UH(t,e){return Lk(e)?x4(e):eS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this._=void 0}}function BH(t,e,n){return t instanceof sd?(function(i,s){const l={fields:{[Zk]:{stringValue:Qk},[e4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&WE(s)&&(s=Mv(s)),s&&(l.fields[Jk]=s),{mapValue:l}})(n,e):t instanceof od?w4(t,e):t instanceof ld?E4(t,e):(function(i,s){const l=_4(i,s),c=uO(l)+uO(i.Ae);return s1(l)&&s1(i.Ae)?x4(c):eS(i.serializer,c)})(t,e)}function qH(t,e,n){return t instanceof od?w4(t,e):t instanceof ld?E4(t,e):n}function _4(t,e){return t instanceof Vh?(function(r){return s1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class sd extends Lv{}class od extends Lv{constructor(e){super(),this.elements=e}}function w4(t,e){const n=S4(e);for(const r of t.elements)n.some((i=>Xa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ld extends Lv{constructor(e){super(),this.elements=e}}function E4(t,e){let n=S4(e);for(const r of t.elements)n=n.filter((i=>!Xa(i,r)));return{arrayValue:{values:n}}}class Vh extends Lv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function uO(t){return en(t.integerValue||t.doubleValue)}function S4(t){return Mh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.field=e,this.transform=n}}function $H(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof od&&i instanceof od||r instanceof ld&&i instanceof ld?Xu(r.elements,i.elements,Xa):r instanceof Vh&&i instanceof Vh?Xa(r.Ae,i.Ae):r instanceof sd&&i instanceof sd})(t.transform,e.transform)}class FH{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $g(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zv{}function T4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hm(t.key,Zn.none()):new Td(t.key,t.data,Zn.none());{const n=t.data,r=Sr.empty();let i=new Ot(nn.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Ws(t.key,r,new Zr(i.toArray()),Zn.none())}}function HH(t,e,n){t instanceof Td?(function(i,s,l){const c=i.value.clone(),d=fO(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Ws?(function(i,s,l){if(!$g(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=fO(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(I4(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function gh(t,e,n,r){return t instanceof Td?(function(s,l,c,d){if(!$g(s.precondition,l))return c;const f=s.value.clone(),m=hO(s.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ws?(function(s,l,c,d){if(!$g(s.precondition,l))return c;const f=hO(s.fieldTransforms,d,l),m=l.data;return m.setAll(I4(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return $g(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function GH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_4(r.transform,i||null);s!=null&&(n===null&&(n=Sr.empty()),n.set(r.field,s))}return n||null}function dO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xu(r,i,((s,l)=>$H(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Td extends zv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends zv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function I4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function fO(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,qH(l,c,n[i]))}return r}function hO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,BH(s,l,e))}return r}class hm extends zv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N4 extends zv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&HH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const d=T4(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&Xu(this.mutations,e.mutations,((n,r)=>dO(n,r)))&&Xu(this.baseMutations,e.baseMutations,((n,r)=>dO(n,r)))}}class nS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return VH})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new nS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,ft;function YH(t){switch(t){case he.OK:return Re(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function C4(t){if(t===void 0)return yn("GRPC error has no .code"),he.UNKNOWN;switch(t){case Cn.OK:return he.OK;case Cn.CANCELLED:return he.CANCELLED;case Cn.UNKNOWN:return he.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return he.INTERNAL;case Cn.UNAVAILABLE:return he.UNAVAILABLE;case Cn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Cn.NOT_FOUND:return he.NOT_FOUND;case Cn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Cn.ABORTED:return he.ABORTED;case Cn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Cn.DATA_LOSS:return he.DATA_LOSS;default:return Re(39323,{code:t})}}(ft=Cn||(Cn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=new Xo([4294967295,4294967295],0);function mO(t){const e=WH().encode(t),n=new Ek;return n.update(e),new Uint8Array(n.digest())}function pO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,s],0)]}class iS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nh(`Invalid padding: ${n}`);if(r<0)throw new nh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Xo.fromNumber(r)));return i.compare(XH)===1&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mO(e),[r,i]=pO(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new iS(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=mO(e),[r,i]=pO(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mm(Be.min(),i,new $t(Ye),yi(),et())}}class pm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pm(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class O4{constructor(e,n){this.targetId=e,this.Ce=n}}class R4{constructor(e,n,r=vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gO{constructor(){this.ve=0,this.Fe=yO(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),r=et();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re(38017,{changeType:s})}})),new pm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=yO()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QH{constructor(e){this.Ge=e,this.ze=new Map,this.je=yi(),this.Je=cg(),this.He=cg(),this.Ye=new $t(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(hy(s))if(r===0){const l=new Ie(s.path);this.et(n,l,ln.newNoDocument(l,Be.min()))}else Le(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=Ls(r).toUint8Array()}catch(d){if(d instanceof Xk)return Th("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new iS(l,i,s)}catch(d){return Th(d instanceof nh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&hy(c.target)){const d=new Ie(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,ln.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=et();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new mm(e,n,this.Ye,this.je,r);return this.je=yi(),this.Je=cg(),this.He=cg(),this.Ye=new $t(Ye),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gO,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ot(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ot(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cg(){return new $t(Ie.comparator)}function yO(){return new $t(Ie.comparator)}const ZH={asc:"ASCENDING",desc:"DESCENDING"},JH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eG={and:"AND",or:"OR"};class tG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function f1(t,e){return t.useProto3Json||Rv(e)?e:{value:e}}function cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nG(t,e){return cd(t,e.toTimestamp())}function Mr(t){return Le(!!t,49232),Be.fromTimestamp((function(n){const r=Vs(n);return new Nt(r.seconds,r.nanos)})(t))}function aS(t,e){return h1(t,e).canonicalString()}function h1(t,e){const n=(function(i){return new _t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function D4(t){const e=_t.fromString(t);return Le(q4(e),10190,{key:e.toString()}),e}function py(t,e){return aS(t.databaseId,e.path)}function oc(t,e){const n=D4(e);if(n.get(1)!==t.databaseId.projectId)throw new we(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(k4(n))}function j4(t,e){return aS(t.databaseId,e)}function M4(t){const e=D4(t);return e.length===4?_t.emptyPath():k4(e)}function m1(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k4(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vO(t,e,n){return{name:py(t,e),fields:n.value.mapValue.fields}}function rG(t,e,n){const r=oc(t,e.name),i=Mr(e.updateTime),s=e.createTime?Mr(e.createTime):Be.min(),l=new Sr({mapValue:{fields:e.fields}}),c=ln.newFoundDocument(r,i,s,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function iG(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Re(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(Le(m===void 0||typeof m=="string",58123),vn.fromBase64String(m||"")):(Le(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),vn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?he.UNKNOWN:C4(f.code);return new we(m,f.message||"")})(l);n=new R4(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=oc(t,r.document.name),s=Mr(r.document.updateTime),l=r.document.createTime?Mr(r.document.createTime):Be.min(),c=new Sr({mapValue:{fields:r.document.fields}}),d=ln.newFoundDocument(i,s,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Fg(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=oc(t,r.document),s=r.readTime?Mr(r.readTime):Be.min(),l=ln.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Fg([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=oc(t,r.document),s=r.removedTargetIds||[];n=new Fg([],s,i,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new KH(i,s),c=r.targetId;n=new O4(c,l)}}return n}function gy(t,e){let n;if(e instanceof Td)n={update:vO(t,e.key,e.value)};else if(e instanceof hm)n={delete:py(t,e.key)};else if(e instanceof Ws)n={update:vO(t,e.key,e.data),updateMask:uG(e.fieldMask)};else{if(!(e instanceof N4))return Re(16599,{Vt:e.type});n={verify:py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof sd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof od)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ld)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Vh)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Re(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:nG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Re(27497)})(t,e.precondition)),n}function p1(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Zn.updateTime(Mr(s.updateTime)):s.exists!==void 0?Zn.exists(s.exists):Zn.none()})(e.currentDocument):Zn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let d=null;if("setToServerValue"in c)Le(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new sd;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];d=new od(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];d=new ld(m)}else"increment"in c?d=new Vh(l,c.increment):Re(16584,{proto:c});const f=nn.fromServerFormat(c.fieldPath);return new A4(f,d)})(t,i))):[];if(e.update){e.update.name;const i=oc(t,e.update.name),s=new Sr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new Zr(f.map((m=>nn.fromServerFormat(m))))})(e.updateMask);return new Ws(i,s,l,n,r)}return new Td(i,s,n,r)}if(e.delete){const i=oc(t,e.delete);return new hm(i,n)}if(e.verify){const i=oc(t,e.verify);return new N4(i,n)}return Re(1463,{proto:e})}function aG(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Mr(i.updateTime):Mr(s);return l.isEqual(Be.min())&&(l=Mr(s)),new FH(l,i.transformResults||[])})(n,e)))):[]}function V4(t,e){return{documents:[j4(t,e.path)]}}function L4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=j4(t,i);const s=(function(f){if(f.length!==0)return B4(Ct.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((m=>(function(b){return{field:Mu(b.field),direction:oG(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=f1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function z4(t){let e=M4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const b=U4(p);return b instanceof Ct&&ZE(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((b=>(function(A){return new kh(ku(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let b;return b=typeof p=="object"?p.value:p,Rv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(p){const b=!!p.before,_=p.values||[];return new id(_,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const b=!p.before,_=p.values||[];return new id(_,b)})(n.endAt)),f4(e,i,l,s,c,"F",d,f)}function sG(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ku(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ku(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ku(n.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ku(n.unaryFilter.field);return lt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return lt.create(ku(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ct.create(n.compositeFilter.filters.map((r=>U4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(t):Re(30097,{filter:t})}function oG(t){return ZH[t]}function lG(t){return JH[t]}function cG(t){return eG[t]}function Mu(t){return{fieldPath:t.canonicalString()}}function ku(t){return nn.fromServerFormat(t.fieldPath)}function B4(t){return t instanceof lt?(function(n){if(n.op==="=="){if(nO(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NAN"}};if(tO(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nO(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NAN"}};if(tO(n.value))return{unaryFilter:{field:Mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(n.field),op:lG(n.op),value:n.value}}})(t):t instanceof Ct?(function(n){const r=n.getFilters().map((i=>B4(i)));return r.length===1?r[0]:{compositeFilter:{op:cG(n.op),filters:r}}})(t):Re(54877,{filter:t})}function uG(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function q4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r,i,s=Be.min(),l=Be.min(),c=vn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.yt=e}}function dG(t,e){let n;if(e.document)n=rG(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ie.fromSegments(e.noDocument.path),i=wc(e.noDocument.readTime);n=ln.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Re(56709);{const r=Ie.fromSegments(e.unknownDocument.path),i=wc(e.unknownDocument.version);n=ln.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new Nt(i[0],i[1]);return Be.fromTimestamp(s)})(e.readTime)),n}function bO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:py(s,l.key),fields:l.data.value.mapValue.fields,updateTime:cd(s,l.version.toTimestamp()),createTime:cd(s,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_c(e.version)};else{if(!e.isUnknownDocument())return Re(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:_c(e.version)}}return r}function yy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function _c(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wc(t){const e=new Nt(t.seconds,t.nanoseconds);return Be.fromTimestamp(e)}function Wl(t,e){const n=(e.baseMutations||[]).map((s=>p1(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>p1(t.yt,s))),i=Nt.fromMillis(e.localWriteTimeMs);return new tS(e.batchId,i,n,r)}function rh(t){const e=wc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?wc(t.lastLimboFreeSnapshotVersion):Be.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const l=s.documents.length;return Le(l===1,1966,{count:l}),xi(dm(M4(s.documents[0])))})(t.query):(function(s){return xi(z4(s))})(t.query),new Os(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,vn.fromBase64String(t.resumeToken))}function F4(t,e){const n=_c(e.snapshotVersion),r=_c(e.lastLimboFreeSnapshotVersion);let i;i=hy(e.target)?V4(t.yt,e.target):L4(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xc(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function H4(t){const e=z4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?d1(e,e.limit,"L"):e}function Xx(t,e){return new rS(e.largestBatchId,p1(t.yt,e.overlayMutation))}function xO(t,e){const n=e.path.lastSegment();return[t,Ir(e.path.popLast()),n]}function _O(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:_c(r.readTime),documentKey:Ir(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{getBundleMetadata(e,n){return wO(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:wc(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return wO(e).put((function(i){return{bundleId:i.id,createTime:_c(Mr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return EO(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:H4(s.bundledQuery),readTime:wc(s.readTime)}})(r)}))}saveNamedQuery(e,n){return EO(e).put((function(i){return{name:i.name,readTime:_c(Mr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function wO(t){return zn(t,Pv)}function EO(t){return zn(t,Dv)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Uv(e,r)}getOverlay(e,n){return qf(e).get(xO(this.userId,n)).next((r=>r?Xx(this.serializer,r):null))}getOverlays(e,n){const r=Ba();return te.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,l)=>{const c=new rS(n,l);i.push(this.St(e,c))})),te.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(Ir(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(qf(e).Z(r1,c))})),te.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ba(),s=Ir(n),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return qf(e).J(r1,l).next((c=>{for(const d of c){const f=Xx(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Ba();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return qf(e).ee({index:Fk,range:c},((d,f,m)=>{const p=Xx(this.serializer,f);s.size()<i||p.largestBatchId===l?(s.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>s))}St(e,n){return qf(e).put((function(i,s,l){const[c,d,f]=xO(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:gy(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function qf(t){return zn(t,jv)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{bt(e){return zn(e,KE)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?vn.fromUint8Array(r):vn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(en(e.integerValue));else if("doubleValue"in e){const r=en(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Nh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Vs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ls(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?n4(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):kv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Re(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var l,c;const r=e.fields||{};this.Ft(n,53);const i=nd,s=((c=(l=r[i].arrayValue)==null?void 0:l.values)==null?void 0:c.length)||0;this.Ft(n,15),n.Mt(en(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Ie.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Xl.Kt=new Xl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=255;function mG(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function SO(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=mG(255&r[s]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class pG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=SO(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=SO(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Tu),this.sn(255)}_n(){this.an(Tu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Tu?(this.sn(Tu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Tu?(this.an(Tu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class gG{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class yG{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class $f{constructor(){this.cn=new pG,this.ln=new gG(this.cn),this.hn=new yG(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ql(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Hg(this.En),directionalValue:Hg(this.dn),orderedDocumentKey:Hg(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Do(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=AO(t.En,e.En),n!==0?n:(n=AO(t.dn,e.dn),n!==0?n:Ie.comparator(t.In,e.In)))}function AO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Hg(t){return UM()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function TO(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class IO{constructor(e){this.mn=new Ot(((n,r)=>nn.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Le(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=e1(e);if(n!==void 0&&!this.wn(n))return!1;const r=$l(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[s];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++s}for(;s<r.length;++s){const c=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new Ot(nn.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Vg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Vg(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Vg(r.field,r.dir==="asc"?0:1)));return new ly(ly.UNKNOWN_ID,this.collectionId,n,Ih.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){var n,r;if(Le(t instanceof lt||t instanceof Ct,20012),t instanceof lt){if(t instanceof d4){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>lt.create(t.field,"==",s))))||[];return Ct.create(i,"or")}return t}const e=t.filters.map((i=>G4(i)));return Ct.create(e,t.op)}function vG(t){if(t.getFilters().length===0)return[];const e=v1(G4(t));return Le(K4(e),7391),g1(e)||y1(e)?[e]:e.getFilters()}function g1(t){return t instanceof lt}function y1(t){return t instanceof Ct&&ZE(t)}function K4(t){return g1(t)||y1(t)||(function(n){if(n instanceof Ct&&o1(n)){for(const r of n.getFilters())if(!g1(r)&&!y1(r))return!1;return!0}return!1})(t)}function v1(t){if(Le(t instanceof lt||t instanceof Ct,34018),t instanceof lt)return t;if(t.filters.length===1)return v1(t.filters[0]);const e=t.filters.map((r=>v1(r)));let n=Ct.create(e,t.op);return n=vy(n),K4(n)?n:(Le(n instanceof Ct,64498),Le(ad(n),40251),Le(n.filters.length>1,57927),n.filters.reduce(((r,i)=>sS(r,i))))}function sS(t,e){let n;return Le(t instanceof lt||t instanceof Ct,38388),Le(e instanceof lt||e instanceof Ct,25473),n=t instanceof lt?e instanceof lt?(function(i,s){return Ct.create([i,s],"and")})(t,e):NO(t,e):e instanceof lt?NO(e,t):(function(i,s){if(Le(i.filters.length>0&&s.filters.length>0,48005),ad(i)&&ad(s))return l4(i,s.getFilters());const l=o1(i)?i:s,c=o1(i)?s:i,d=l.filters.map((f=>sS(f,c)));return Ct.create(d,"or")})(t,e),vy(n)}function NO(t,e){if(ad(e))return l4(e,t.getFilters());{const n=e.filters.map((r=>sS(t,r)));return Ct.create(n,"or")}}function vy(t){if(Le(t instanceof lt||t instanceof Ct,11850),t instanceof lt)return t;const e=t.getFilters();if(e.length===1)return vy(e[0]);if(s4(t))return t;const n=e.map((i=>vy(i))),r=[];return n.forEach((i=>{i instanceof lt?r.push(i):i instanceof Ct&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Ct.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(){this.Cn=new oS}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(wi.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class oS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(_t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="IndexedDbIndexManager",ug=new Uint8Array(0);class xG{constructor(e,n){this.databaseId=n,this.vn=new oS,this.Fn=new Ys((r=>xc(r)),((r,i)=>um(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:Ir(i)};return OO(e).put(s)}return te.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Ok(n),""],!1,!0);return OO(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==n)break;r.push(Ua(l.parent))}return r}))}addFieldIndex(e,n){const r=Ff(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const l=Nu(e);return s.next((c=>{l.put(_O(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Ff(e),i=Nu(e),s=Iu(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Ff(e),r=Iu(e),i=Nu(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return te.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new IO(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Iu(e);let i=!0;const s=new Map;return te.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),s.set(l,c)})))).next((()=>{if(i){let l=et();const c=[];return te.forEach(s,((d,f)=>{ve(CO,`Using index ${(function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map((L=>`${L.fieldPath}:${L.kind}`)).join(",")}`})(d)} to execute ${xc(n)}`);const m=(function(O,L){const V=e1(L);if(V===void 0)return null;for(const U of my(O,V.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null})(f,d),p=(function(O,L){const V=new Map;for(const U of $l(L))for(const P of my(O,U.fieldPath))switch(P.op){case"==":case"in":V.set(U.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return V.set(U.fieldPath.canonicalString(),P.value),Array.from(V.values())}return null})(f,d),b=(function(O,L){const V=[];let U=!0;for(const P of $l(L)){const C=P.kind===0?oO(O,P.fieldPath,O.startAt):lO(O,P.fieldPath,O.startAt);V.push(C.value),U&&(U=C.inclusive)}return new id(V,U)})(f,d),_=(function(O,L){const V=[];let U=!0;for(const P of $l(L)){const C=P.kind===0?lO(O,P.fieldPath,O.endAt):oO(O,P.fieldPath,O.endAt);V.push(C.value),U&&(U=C.inclusive)}return new id(V,U)})(f,d),A=this.On(d,f,b),E=this.On(d,f,_),S=this.Nn(d,f,p),N=this.Bn(d.indexId,m,A,b.inclusive,E,_.inclusive,S);return te.forEach(N,(D=>r.Y(D,n.limit).next((O=>{O.forEach((L=>{const V=Ie.fromSegments(L.documentKey);l.has(V)||(l=l.add(V),c.push(V))}))}))))})).next((()=>c))}return te.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=vG(Ct.create(e.filters,"and")).map((r=>c1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,l,c){const d=(n!=null?n.length:1)*Math.max(r.length,s.length),f=d/(n!=null?n.length:1),m=[];for(let p=0;p<d;++p){const b=n?this.Ln(n[p/f]):ug,_=this.kn(e,b,r[p%f],i),A=this.qn(e,b,s[p%f],l),E=c.map((S=>this.kn(e,b,S,!0)));m.push(...this.createRange(_,A,E))}return m}kn(e,n,r,i){const s=new Ql(e,Ie.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new Ql(e,Ie.empty(),n,r);return i?s.An():s}xn(e,n){const r=new IO(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const c of s)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return te.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new Ot(nn.comparator),m=!1;for(const p of d.filters)for(const b of p.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?m=!0:f=f.add(b.field));for(const p of d.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(m?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new $f;for(const i of $l(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);Xl.Kt.Dt(s,l)}return r.un()}Ln(e){const n=new $f;return Xl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new $f;return Xl.Kt.Dt(jh(this.databaseId,n),r.Pn((function(s){const l=$l(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new $f);let s=0;for(const l of $l(e)){const c=r[s++];for(const d of i)if(this.Un(n,l.fieldPath)&&Mh(c))i=this.Kn(i,l,c);else{const f=d.Pn(l.kind);Xl.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new $f;d.seed(c.un()),Xl.Kt.Dt(l,d.Pn(n.kind)),s.push(d)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof lt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Ff(e),i=Nu(e);return(n?r.J(n1,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const l=[];return te.forEach(s,(c=>i.get([c.indexId,this.uid]).next((d=>{l.push((function(m,p){const b=p?new Ih(p.sequenceNumber,new wi(wc(p.readTime),new Ie(Ua(p.documentKey)),p.largestBatchId)):Ih.empty(),_=m.fields.map((([A,E])=>new Vg(nn.fromServerFormat(A),E)));return new ly(m.indexId,m.collectionGroup,_,b)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ye(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Ff(e),s=Nu(e);return this.Gn(e).next((l=>i.J(n1,IDBKeyRange.bound(n,n)).next((c=>te.forEach(c,(d=>s.put(_O(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return te.forEach(n,((i,s)=>{const l=r.get(i.collectionGroup);return(l?te.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),te.forEach(c,(d=>this.zn(e,i,d).next((f=>{const m=this.jn(s,d);return f.isEqual(m)?te.resolve():this.Jn(e,s,d,f,m)})))))))}))}Hn(e,n,r,i){return Iu(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Iu(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Iu(e);let s=new Ot(Do);return i.ee({index:$k,range:IDBKeyRange.only([r.indexId,this.uid,Hg(this.$n(r,n))])},((l,c)=>{s=s.add(new Ql(r.indexId,n,TO(c.arrayValue),TO(c.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Ot(Do);const i=this.Qn(n,e);if(i==null)return r;const s=e1(n);if(s!=null){const l=e.data.field(s.fieldPath);if(Mh(l))for(const c of l.arrayValue.values||[])r=r.add(new Ql(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new Ql(n.indexId,e.key,ug,i));return r}Jn(e,n,r,i,s){ve(CO,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,m,p,b){const _=d.getIterator(),A=f.getIterator();let E=Au(_),S=Au(A);for(;E||S;){let N=!1,D=!1;if(E&&S){const O=m(E,S);O<0?D=!0:O>0&&(N=!0)}else E!=null?D=!0:N=!0;N?(p(S),S=Au(A)):D?(b(E),E=Au(_)):(E=Au(_),S=Au(A))}})(i,s,Do,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),te.waitFor(l)}Gn(e){let n=1;return Nu(e).ee({index:qk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>Do(l,c))).filter(((l,c,d)=>!c||Do(l,d[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=Do(l,e),d=Do(l,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(n);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,ug,Ie.empty()),d=i[l+1].Vn(this.uid,ug,Ie.empty());s.push(IDBKeyRange.bound(c,d))}return s}Zn(e,n){return Do(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(RO)}getMinOffset(e,n){return te.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Re(44426))))).next(RO)}}function OO(t){return zn(t,Rh)}function Iu(t){return zn(t,fh)}function Ff(t){return zn(t,GE)}function Nu(t){return zn(t,dh)}function RO(t){Le(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;$E(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new wi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y4=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e,n){const r=t.store(la),i=t.store(Zu),s=[],l=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:l},((m,p,b)=>(c++,b.delete())));s.push(d.next((()=>{Le(c===1,47070,{batchId:n.batchId})})));const f=[];for(const m of n.mutations){const p=zk(e,m.key.path,n.batchId);s.push(i.delete(p)),f.push(m.key)}return te.waitFor(s).next((()=>f))}function by(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Re(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(Y4,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);class Bv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Le(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Bv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jo(e).ee({index:ec,range:r},((i,s,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Vu(e),l=jo(e);return l.add({}).next((c=>{Le(typeof c=="number",49019);const d=new tS(c,n,r,i),f=(function(_,A,E){const S=E.baseMutations.map((D=>gy(_.yt,D))),N=E.mutations.map((D=>gy(_.yt,D)));return{userId:A,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:S,mutations:N}})(this.serializer,this.userId,d),m=[];let p=new Ot(((b,_)=>Ye(b.canonicalString(),_.canonicalString())));for(const b of i){const _=zk(this.userId,b.key.path,c);p=p.add(b.key.path.popLast()),m.push(l.put(f)),m.push(s.put(_,ZF))}return p.forEach((b=>{m.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),te.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,n){return jo(e).get(n).next((r=>r?(Le(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Wl(this.serializer,r)):null))}er(e,n){return this.Xn[n]?te.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return jo(e).ee({index:ec,range:i},((l,c,d)=>{c.userId===this.userId&&(Le(c.batchId>=r,47524,{tr:r}),s=Wl(this.serializer,c)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ac;return jo(e).ee({index:ec,range:n,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,ac],[this.userId,Number.POSITIVE_INFINITY]);return jo(e).J(ec,n).next((r=>r.map((i=>Wl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Lg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Vu(e).ee({range:i},((l,c,d)=>{const[f,m,p]=l,b=Ua(m);if(f===this.userId&&n.path.isEqual(b))return jo(e).get(p).next((_=>{if(!_)throw Re(61480,{nr:l,batchId:p});Le(_.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:_.userId,batchId:p}),s.push(Wl(this.serializer,_))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Ye);const i=[];return n.forEach((s=>{const l=Lg(this.userId,s.path),c=IDBKeyRange.lowerBound(l),d=Vu(e).ee({range:c},((f,m,p)=>{const[b,_,A]=f,E=Ua(_);b===this.userId&&s.path.isEqual(E)?r=r.add(A):p.done()}));i.push(d)})),te.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Lg(this.userId,r),l=IDBKeyRange.lowerBound(s);let c=new Ot(Ye);return Vu(e).ee({range:l},((d,f,m)=>{const[p,b,_]=d,A=Ua(b);p===this.userId&&r.isPrefixOf(A)?A.length===i&&(c=c.add(_)):m.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(jo(e).get(s).next((l=>{if(l===null)throw Re(35274,{batchId:s});Le(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(Wl(this.serializer,l))})))})),te.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return W4(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),te.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return te.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Vu(e).ee({range:r},((s,l,c)=>{if(s[0]===this.userId){const d=Ua(s[1]);i.push(d)}else c.done()})).next((()=>{Le(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return X4(e,this.userId,n)}_r(e){return Q4(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ac,lastStreamToken:""}))}}function X4(t,e,n){const r=Lg(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Vu(t).ee({range:s,X:!0},((c,d,f)=>{const[m,p,b]=c;m===e&&p===i&&(l=!0),f.done()})).next((()=>l))}function jo(t){return zn(t,la)}function Vu(t){return zn(t,Zu)}function Q4(t){return zn(t,Ch)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ec(0)}static cr(){return new Ec(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Ec(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Be.fromTimestamp(new Nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Cu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Le(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Cu(e).ee(((l,c)=>{const d=rh(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>te.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Cu(e).ee(((r,i)=>{const s=rh(i);n(s)}))}lr(e){return DO(e).get(dy).next((n=>(Le(n!==null,2888),n)))}hr(e,n){return DO(e).put(dy,n)}Pr(e,n){return Cu(e).put(F4(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=xc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Cu(e).ee({range:i,index:Bk},((l,c,d)=>{const f=rh(c);um(n,f.target)&&(s=f,d.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=qo(e);return n.forEach((l=>{const c=Ir(l.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),te.waitFor(i)}removeMatchingKeys(e,n,r){const i=qo(e);return te.forEach(n,(s=>{const l=Ir(s.path);return te.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=qo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=qo(e);let s=et();return i.ee({range:r,X:!0},((l,c,d)=>{const f=Ua(l[1]),m=new Ie(f);s=s.add(m)})).next((()=>s))}containsKey(e,n){const r=Ir(n.path),i=IDBKeyRange.bound([r],[Ok(r)],!1,!0);let s=0;return qo(e).ee({index:HE,X:!0,range:i},(([l,c],d,f)=>{l!==0&&(s++,f.done())})).next((()=>s>0))}At(e,n){return Cu(e).get(n).next((r=>r?rh(r):null))}}function Cu(t){return zn(t,Ju)}function DO(t){return zn(t,sc)}function qo(t){return zn(t,ed)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="LruGarbageCollector",Z4=1048576;function MO([t,e],[n,r]){const i=Ye(t,n);return i===0?Ye(e,r):i}class wG{constructor(e){this.Ir=e,this.buffer=new Ot(MO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class J4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(jO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cl(n)?ve(jO,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Vr(3e5)}))}}class EG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Qr.ce);const r=new wG(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(PO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PO):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Du()<=ot.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${p} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function e3(t,e){return new EG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,n){this.db=e,this.garbageCollector=e3(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return dg(e,r)}removeReference(e,n,r){return dg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return dg(e,n)}br(e,n){return(function(i,s){let l=!1;return Q4(i).te((c=>X4(i,c,s).next((d=>(d&&(l=!0),te.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,c)=>{if(c<=n){const d=this.br(e,l).next((f=>{if(!f)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Be.min()),qo(e).delete((function(p){return[0,Ir(p.path)]})(l)))))}));i.push(d)}})).next((()=>te.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return dg(e,n)}Sr(e,n){const r=qo(e);let i,s=Qr.ce;return r.ee({index:HE},(([l,c],{path:d,sequenceNumber:f})=>{l===0?(s!==Qr.ce&&n(new Ie(Ua(i)),s),s=f,i=d):s=Qr.ce})).next((()=>{s!==Qr.ce&&n(new Ie(Ua(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dg(t,e){return qo(t).put((function(r,i){return{targetId:0,path:Ir(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.changes=new Ys((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Bl(e).put(r)}removeEntry(e,n,r){return Bl(e).delete((function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],yy(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=ln.newInvalidDocument(n);return Bl(e).ee({index:zg,range:IDBKeyRange.only(Hf(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:ln.newInvalidDocument(n)};return Bl(e).ee({index:zg,range:IDBKeyRange.only(Hf(n))},((i,s)=>{r={document:this.Cr(n,s),size:by(s)}})).next((()=>r))}getEntries(e,n){let r=yi();return this.Fr(e,n,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=yi(),i=new $t(Ie.comparator);return this.Fr(e,n,((s,l)=>{const c=this.Cr(s,l);r=r.insert(s,c),i=i.insert(s,by(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return te.resolve();let i=new Ot(LO);n.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(Hf(i.first()),Hf(i.last())),l=i.getIterator();let c=l.getNext();return Bl(e).ee({index:zg,range:s},((d,f,m)=>{const p=Ie.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&LO(c,p)<0;)r(c,null),c=l.getNext();c&&c.isEqual(p)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?m.j(Hf(c)):m.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),yy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bl(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{s==null||s.incrementDocumentReadCount(f.length);let m=yi();for(const p of f){const b=this.Cr(Ie.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);b.isFoundDocument()&&(fm(n,b)||i.has(b.key))&&(m=m.insert(b.key,b))}return m}))}getAllFromCollectionGroup(e,n,r,i){let s=yi();const l=VO(n,r),c=VO(n,wi.max());return Bl(e).ee({index:Uk,range:IDBKeyRange.bound(l,c,!0)},((d,f,m)=>{const p=this.Cr(Ie.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(p.key,p),s.size===i&&m.done()})).next((()=>s))}newChangeBuffer(e){return new TG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return kO(e).get(t1).next((n=>(Le(!!n,20021),n)))}Dr(e,n){return kO(e).put(t1,n)}Cr(e,n){if(n){const r=dG(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Be.min())))return r}return ln.newInvalidDocument(e)}}function n3(t){return new AG(t)}class TG extends t3{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Ys((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Ot(((s,l)=>Ye(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const c=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const d=bO(this.Nr.serializer,l);i=i.add(s.path.popLast());const f=by(d);r+=f-c.size,n.push(this.Nr.addEntry(e,s,d))}else if(r-=c.size,this.trackRemovals){const d=bO(this.Nr.serializer,l.convertToNoDocument(Be.min()));n.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),te.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function kO(t){return zn(t,Oh)}function Bl(t){return zn(t,uy)}function Hf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function VO(t,e){const n=e.documentKey.path.toArray();return[t,yy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function LO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ye(n[s],r[s]),i)return i;return i=Ye(n.length,r.length),i||(i=Ye(n[n.length-2],r[r.length-2]),i||Ye(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&gh(r.mutation,i,Zr.empty(),Nt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=et()){const i=Ba();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=th();return s.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ba();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,et())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=yi();const l=ph(),c=(function(){return ph()})();return n.forEach(((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ws)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),gh(m.mutation,f,m.mutation.getFieldMask(),Nt.now())):l.set(f.key,Zr.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new IG(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=ph();let i=new $t(((l,c)=>l-c)),s=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||Zr.empty();m=c.applyToLocalView(f,m),r.set(d,m);const p=(i.get(c.batchId)||et()).add(d);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,p=b4();m.forEach((b=>{if(!s.has(b)){const _=T4(n.get(b),r.get(b));_!==null&&p.set(b,_),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,p))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):h4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(Ba());let c=Qu,d=s;return l.next((f=>te.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{d=d.insert(m,b)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,et()))).next((m=>({batchId:c,changes:v4(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let i=th();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=th();return this.indexManager.getCollectionParents(e,s).next((c=>te.forEach(c,(d=>{const f=(function(p,b){return new Ad(b,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((p,b)=>{l=l.insert(p,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,ln.newInvalidDocument(m)))}));let c=th();return l.forEach(((d,f)=>{const m=s.get(d);m!==void 0&&gh(m.mutation,f,Zr.empty(),Nt.now()),fm(n,f)&&(c=c.insert(d,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:H4(i.bundledQuery),readTime:Mr(i.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.overlays=new $t(Ie.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ba();return te.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=Ba(),s=n.length+1,l=new Ie(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $t(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Ba(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Ba(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return te.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new rS(n,r));let s=this.qr.get(n);s===void 0&&(s=et(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.Qr=new Ot(Wn.$r),this.Ur=new Ot(Wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Wn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ie(new _t([])),r=new Wn(n,e),i=new Wn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new _t([])),r=new Wn(n,e),i=new Wn(n,e+1);let s=et();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Wn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Wn.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new tS(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Wn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?ac:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Ye);return n.forEach((i=>{const s=new Wn(i,0),l=new Wn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const l=new Wn(new Ie(s),0);let c=new Ot(Ye);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),l),te.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(i=>{const s=new Wn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e){this.ri=e,this.docs=(function(){return new $t(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ln.newInvalidDocument(i))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=yi();const l=n.path,c=new Ie(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||$E(jk(m),r)<=0||(i.has(m.key)||fm(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Re(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new DG(this)}getSize(e){return te.resolve(this.size)}}class DG extends t3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.persistence=e,this.si=new Ys((n=>xc(n)),um),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new lS,this.targetCount=0,this.ai=Ec.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ec(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),te.waitFor(s).next((()=>i))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qr(0),this.li=!1,this.li=!0,this.hi=new OG,this.referenceDelegate=e(this),this.Pi=new jG(this),this.indexManager=new bG,this.remoteDocumentCache=(function(i){return new PG(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $4(n),this.Ii=new NG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new RG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new MG(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class MG extends kk{constructor(e){super(),this.currentSequenceNumber=e}}class qv{constructor(e){this.persistence=e,this.Ri=new lS,this.Vi=null}static mi(e){return new qv(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const i=Ie.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xy{constructor(e,n){this.persistence=e,this.pi=new Ys((r=>Ir(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=e3(this,n)}static mi(e,n){return new xy(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?te.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,Be.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bg(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e){this.serializer=e}k(e,n,r,i){const s=new Ov("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(cm)})(e),(function(d){d.createObjectStore(Ch,{keyPath:QF}),d.createObjectStore(la,{keyPath:WC,autoIncrement:!0}).createIndex(ec,XC,{unique:!0}),d.createObjectStore(Zu)})(e),zO(e),(function(d){d.createObjectStore(Fl)})(e));let l=te.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(ed),d.deleteObjectStore(Ju),d.deleteObjectStore(sc)})(e),zO(e)),l=l.next((()=>(function(d){const f=d.store(sc),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Be.min().toTimestamp(),targetCount:0};return f.put(dy,m)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(la).J().next((p=>{d.deleteObjectStore(la),d.createObjectStore(la,{keyPath:WC,autoIncrement:!0}).createIndex(ec,XC,{unique:!0});const b=f.store(la),_=p.map((A=>b.put(A)));return te.waitFor(_)}))})(e,s)))),l=l.next((()=>{(function(d){d.createObjectStore(td,{keyPath:sH})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Oh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(Pv,{keyPath:oH})})(e),(function(d){d.createObjectStore(Dv,{keyPath:lH})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(jv,{keyPath:pH});f.createIndex(r1,gH,{unique:!1}),f.createIndex(Fk,yH,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(uy,{keyPath:JF});f.createIndex(zg,eH),f.createIndex(Uk,tH)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Fl)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(GE,{keyPath:cH,autoIncrement:!0}).createIndex(n1,uH,{unique:!1}),d.createObjectStore(dh,{keyPath:dH}).createIndex(qk,fH,{unique:!1}),d.createObjectStore(fh,{keyPath:hH}).createIndex($k,mH,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(dh).clear()})).next((()=>{n.objectStore(fh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(KE,{keyPath:vH})})(e)}))),r<18&&i>=18&&UM()&&(l=l.next((()=>{n.objectStore(dh).clear()})).next((()=>{n.objectStore(fh).clear()}))),l}wi(e){let n=0;return e.store(Fl).ee(((r,i)=>{n+=by(i)})).next((()=>{const r={byteSize:n};return e.store(Oh).put(t1,r)}))}yi(e){const n=e.store(Ch),r=e.store(la);return n.J().next((i=>te.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,ac],[s.userId,s.lastAcknowledgedBatchId]);return r.J(ec,l).next((c=>te.forEach(c,(d=>{Le(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=Wl(this.serializer,d);return W4(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(ed),r=e.store(Fl);return e.store(sc).get(dy).next((i=>{const s=[];return r.ee(((l,c)=>{const d=new _t(l),f=(function(p){return[0,Ir(p)]})(d);s.push(n.get(f).next((m=>m?te.resolve():(p=>n.put({targetId:0,path:Ir(p),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>te.waitFor(s)))}))}bi(e,n){e.createObjectStore(Rh,{keyPath:aH});const r=n.store(Rh),i=new oS,s=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:Ir(d)})}};return n.store(Fl).ee({X:!0},((l,c)=>{const d=new _t(l);return s(d.popLast())})).next((()=>n.store(Zu).ee({X:!0},(([l,c,d],f)=>{const m=Ua(c);return s(m.popLast())}))))}Di(e){const n=e.store(Ju);return n.ee(((r,i)=>{const s=rh(i),l=F4(this.serializer,s);return n.put(l)}))}Ci(e,n){const r=n.store(Fl),i=[];return r.ee(((s,l)=>{const c=n.store(uy),d=(function(p){return p.document?new Ie(_t.fromString(p.document.name).popFirst(5)):p.noDocument?Ie.fromSegments(p.noDocument.path):p.unknownDocument?Ie.fromSegments(p.unknownDocument.path):Re(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>te.waitFor(i)))}Fi(e,n){const r=n.store(la),i=n3(this.serializer),s=new cS(qv.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((d=>{let f=c.get(d.userId)??et();Wl(this.serializer,d).keys().forEach((m=>f=f.add(m))),c.set(d.userId,f)})),te.forEach(c,((d,f)=>{const m=new xr(f),p=Uv.wt(this.serializer,m),b=s.getIndexManager(m),_=Bv.wt(m,this.serializer,b,s.referenceDelegate);return new r3(i,_,p,b).recalculateAndSaveOverlaysForDocumentKeys(new i1(n,Qr.ce),d).next()}))}))}}function zO(t){t.createObjectStore(ed,{keyPath:rH}).createIndex(HE,iH,{unique:!0}),t.createObjectStore(Ju,{keyPath:"targetId"}).createIndex(Bk,nH,{unique:!0}),t.createObjectStore(sc)}const Mo="IndexedDbPersistence",Qx=18e5,Zx=5e3,Jx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",VG="main";class uS{constructor(e,n,r,i,s,l,c,d,f,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=l,this.document=c,this.xi=f,this.Oi=m,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!uS.v())throw new we(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SG(this,i),this.$i=n+VG,this.serializer=new $4(d),this.Ui=new Qo(this.$i,this.Ni,new kG(this.serializer)),this.hi=new hG,this.Pi=new _G(this.referenceDelegate,this.serializer),this.remoteDocumentCache=n3(this.serializer),this.Ii=new fG,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&yn(Mo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(he.FAILED_PRECONDITION,Jx);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Qr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>fg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(cl(e))return ve(Mo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ve(Mo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Gf(e).get(Su).next((n=>te.resolve(this.es(n))))}ts(e){return fg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Qx)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=zn(n,td);return r.J().next((i=>{const s=this.ss(i,Qx),l=i.filter((c=>s.indexOf(c)===-1));return te.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?te.resolve(!0):Gf(e).get(Su).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Zx)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new we(he.FAILED_PRECONDITION,Jx);return!1}}return!(!this.networkEnabled||!this.inForeground)||fg(e).J().next((r=>this.ss(r,Zx).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ve(Mo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[cm,td],(e=>{const n=new i1(e,Qr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>fg(e).J().next((n=>this.ss(n,Qx).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Bv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xG(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Uv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ve(Mo,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?_H:d===17?Yk:d===16?xH:d===15?YE:d===14?Kk:d===13?Gk:d===12?bH:d===11?Hk:void Re(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(c=>(l=new i1(c,this.ci?this.ci.next():Qr.ce),n==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw yn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new we(he.FAILED_PRECONDITION,Mk);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return Gf(e).get(Su).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Zx)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new we(he.FAILED_PRECONDITION,Jx)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gf(e).put(Su,n)}static v(){return Qo.v()}Zi(e){const n=Gf(e);return n.get(Su).next((r=>this.es(r)?(ve(Mo,"Releasing primary lease."),n.delete(Su)):te.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(yn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;zM()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return ve(Mo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yn(Mo,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){yn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gf(t){return zn(t,cm)}function fg(t){return zn(t,td)}function i3(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=et(),i=et();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zM()?8:Vk(Ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new LG;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Du()<=ot.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",ju(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Du()<=ot.DEBUG&&ve("QueryEngine","Query:",ju(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Du()<=ot.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",ju(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):te.resolve())}ys(e,n){if(cO(n))return te.resolve(null);let r=xi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=d1(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=et(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,l,d.readTime)?this.ys(e,d1(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return cO(n)||i.isEqual(Be.min())?te.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?te.resolve(null):(Du()<=ot.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ju(n)),this.vs(e,l,n,Dk(i,Qu)).next((c=>c)))}))}Ds(e,n){let r=new Ot(g4(e));return n.forEach(((i,s)=>{fm(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Du()<=ot.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",ju(n)),this.ps.getDocumentsMatchingQuery(e,n,wi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="LocalStore",zG=3e8;class UG{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new $t(Ye),this.xs=new Ys((s=>xc(s)),um),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function s3(t,e,n,r){return new UG(t,e,n,r)}async function o3(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let d=et();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of s){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function BG(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,m){const p=f.batch,b=p.keys();let _=te.resolve();return b.forEach((A=>{_=_.next((()=>m.getEntry(d,A))).next((E=>{const S=f.docVersions.get(A);Le(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),m.addEntry(E)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(d,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=et();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function l3(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function qG(t,e){const n=je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const b=i.get(p);if(!b)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(vn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),i=i.insert(p,_),(function(E,S,N){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=zG?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(b,_,m)&&c.push(n.Pi.updateTargetData(s,_))}));let d=yi(),f=et();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push($G(s,l,e.documentUpdates).next((m=>{d=m.ks,f=m.qs}))),!r.isEqual(Be.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return te.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,f))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function $G(t,e,n){let r=et(),i=et();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=yi();return n.forEach(((c,d)=>{const f=s.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ve(fS,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function FG(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ac),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _y(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,te.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Os(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ud(t,e,n){const r=je(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!cl(l))throw l;ve(fS,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function b1(t,e,n){const r=je(t);let i=Be.min(),s=et();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,m){const p=je(d),b=p.xs.get(m);return b!==void 0?te.resolve(p.Ms.get(b)):p.Pi.getTargetData(f,m)})(r,l,xi(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Be.min(),n?s:et()))).next((c=>(d3(r,p4(e),c),{documents:c,Qs:s})))))}function c3(t,e){const n=je(t),r=je(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function u3(t,e){const n=je(t),r=n.Os.get(e)||Be.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,Dk(r,Qu),Number.MAX_SAFE_INTEGER))).then((i=>(d3(n,e,i),i)))}function d3(t,e,n){let r=t.Os.get(e)||Be.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="firestore_clients";function UO(t,e){return`${f3}_${t}_${e}`}const h3="firestore_mutations";function BO(t,e,n){let r=`${h3}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const m3="firestore_targets";function e_(t,e){return`${m3}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="SharedClientState";class wy{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new we(i.error.code,i.error.message))),l?new wy(e,n,i.state,s):(yn(La,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new we(r.error.code,r.error.message))),s?new yh(e,r.state,i):(yn(La,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ey{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=JE();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=Lk(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new Ey(e,s):(yn(La,`Failed to parse client data for instance '${e}': ${n}`),null)}}class hS{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new hS(n.clientId,n.onlineState):(yn(La,`Failed to parse online state: ${e}`),null)}}class x1{constructor(){this.activeTargetIds=JE()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t_{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new $t(Ye),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=UO(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new x1),this.ro=new RegExp(`^${f3}_${l}_([^_]*)$`),this.io=new RegExp(`^${h3}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${m3}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(UO(this.persistenceKey,r));if(i){const s=Ey.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(e_(this.persistenceKey,e));if(i){const s=yh.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(e_(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ve(La,"READ",e,n),n}setItem(e,n){ve(La,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ve(La,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ve(La,"EVENT",n.key,n.newValue),n.key===this.eo)return void yn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let l=Qr.ce;if(s!=null)try{const c=JSON.parse(s);Le(typeof c=="number",30636,{So:s}),l=c}catch(c){yn(La,"Failed to read sequence number from WebStorage",c)}return l})(n.newValue);r!==Qr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new wy(this.currentUser,e,n,r),s=BO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=BO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=e_(this.persistenceKey,e),s=new yh(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Ey.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return wy.Ws(new xr(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return yh.Ws(i,n)}uo(e){return hS.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ve(La,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),l=[],c=[];return s.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{s.has(d)||c.push(d)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=JE();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class p3{constructor(){this.Mo=new x1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new x1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="ConnectivityMonitor";class $O{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(qO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(qO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg=null;function _1(){return hg===null?hg=(function(){return 268435456+Math.round(2147483648*Math.random())})():hg++,"0x"+hg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="RestConnection",GG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===fy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=_1(),c=this.zo(e,n.toUriEncodedString());ve(n_,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:f}=new URL(c),m=_d(f);return this.Jo(e,c,d,r,m).then((p=>(ve(n_,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Th(n_,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=GG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="WebChannelConnection";class WG extends KG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=_1();return new Promise(((c,d)=>{const f=new Sk;f.setWithCredentials(!0),f.listenOnce(Ak.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case kg.NO_ERROR:const p=f.getResponseJson();ve(vr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case kg.TIMEOUT:ve(vr,`RPC '${e}' ${l} timed out`),d(new we(he.DEADLINE_EXCEEDED,"Request time out"));break;case kg.HTTP_ERROR:const b=f.getStatus();if(ve(vr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const A=_==null?void 0:_.error;if(A&&A.status&&A.message){const E=(function(N){const D=N.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(D)>=0?D:he.UNKNOWN})(A.status);d(new we(E,A.message))}else d(new we(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new we(he.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ve(vr,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);ve(vr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=_1(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Nk(),c=Ik(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=s.join("");ve(vr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const p=l.createWebChannel(m,d);this.I_(p);let b=!1,_=!1;const A=new YG({Yo:S=>{_?ve(vr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(ve(vr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),b=!0),ve(vr,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),E=(S,N,D)=>{S.listen(N,(O=>{try{D(O)}catch(L){setTimeout((()=>{throw L}),0)}}))};return E(p,eh.EventType.OPEN,(()=>{_||(ve(vr,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),E(p,eh.EventType.CLOSE,(()=>{_||(_=!0,ve(vr,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(p))})),E(p,eh.EventType.ERROR,(S=>{_||(_=!0,Th(vr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new we(he.UNAVAILABLE,"The operation could not be completed")))})),E(p,eh.EventType.MESSAGE,(S=>{var N;if(!_){const D=S.data[0];Le(!!D,16349);const O=D,L=(O==null?void 0:O.error)||((N=O[0])==null?void 0:N.error);if(L){ve(vr,`RPC '${e}' stream ${i} received error:`,L);const V=L.status;let U=(function(j){const q=Cn[j];if(q!==void 0)return C4(q)})(V),P=L.message;U===void 0&&(U=he.INTERNAL,P="Unknown error status: "+V+" with message "+L.message),_=!0,A.a_(new we(U,P)),p.close()}else ve(vr,`RPC '${e}' stream ${i} received:`,D),A.u_(D)}})),E(c,Tk.STAT_EVENT,(S=>{S.stat===Zw.PROXY?ve(vr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Zw.NOPROXY&&ve(vr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(){return typeof window<"u"?window:null}function Gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t){return new tG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="PersistentStream";class v3{constructor(e,n,r,i,s,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(yn(n.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new we(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(FO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(FO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XG extends v3{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iG(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Be.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?Mr(l.readTime):Be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=m1(this.serializer),n.addTarget=(function(s,l){let c;const d=l.target;if(c=hy(d)?{documents:V4(s,d)}:{query:L4(s,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=P4(s,l.resumeToken);const f=f1(s,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Be.min())>0){c.readTime=cd(s,l.snapshotVersion.toTimestamp());const f=f1(s,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=sG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=m1(this.serializer),n.removeTarget=e,this.q_(n)}}class QG extends v3{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aG(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=m1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gy(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{}class JG extends ZG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new we(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,h1(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(he.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,h1(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(he.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yn(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="RemoteStore";class tK{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Rc(this)&&(ve(Sc,"Restarting streams for network reachability change."),await(async function(d){const f=je(d);f.Ea.add(4),await gm(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Fv(f)})(this))}))})),this.Ra=new eK(r,i)}}async function Fv(t){if(Rc(t))for(const e of t.da)await e(!0)}async function gm(t){for(const e of t.da)await e(!1)}function Hv(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gS(n)?pS(n):Nd(n).O_()&&mS(n,e))}function dd(t,e){const n=je(t),r=Nd(n);n.Ia.delete(e),r.O_()&&b3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rc(n)&&n.Ra.set("Unknown"))}function mS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nd(t).Y_(e)}function b3(t,e){t.Va.Ue(e),Nd(t).Z_(e)}function pS(t){t.Va=new QH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Nd(t).start(),t.Ra.ua()}function gS(t){return Rc(t)&&!Nd(t).x_()&&t.Ia.size>0}function Rc(t){return je(t).Ea.size===0}function x3(t){t.Va=void 0}async function nK(t){t.Ra.set("Online")}async function rK(t){t.Ia.forEach(((e,n)=>{mS(t,e)}))}async function iK(t,e){x3(t),gS(t)?(t.Ra.ha(e),pS(t)):t.Ra.set("Unknown")}async function aK(t,e,n){if(t.Ra.set("Online"),e instanceof R4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){ve(Sc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sy(t,r)}else if(e instanceof Fg?t.Va.Ze(e):e instanceof O4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Be.min()))try{const r=await l3(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const m=s.Ia.get(d);if(!m)return;s.Ia.set(d,m.withResumeToken(vn.EMPTY_BYTE_STRING,m.snapshotVersion)),b3(s,d);const p=new Os(m.target,d,f,m.sequenceNumber);mS(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ve(Sc,"Failed to raise snapshot:",r),await Sy(t,r)}}async function Sy(t,e,n){if(!cl(e))throw e;t.Ea.add(1),await gm(t),t.Ra.set("Offline"),n||(n=()=>l3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(Sc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Fv(t)}))}function _3(t,e){return e().catch((n=>Sy(t,n,e)))}async function Id(t){const e=je(t),n=rl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ac;for(;sK(e);)try{const i=await FG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,oK(e,i)}catch(i){await Sy(e,i)}w3(e)&&E3(e)}function sK(t){return Rc(t)&&t.Ta.length<10}function oK(t,e){t.Ta.push(e);const n=rl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function w3(t){return Rc(t)&&!rl(t).x_()&&t.Ta.length>0}function E3(t){rl(t).start()}async function lK(t){rl(t).ra()}async function cK(t){const e=rl(t);for(const n of t.Ta)e.ea(n.mutations)}async function uK(t,e,n){const r=t.Ta.shift(),i=nS.from(r,e,n);await _3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Id(t)}async function dK(t,e){e&&rl(t).X_&&await(async function(r,i){if((function(l){return YH(l)&&l!==he.ABORTED})(i.code)){const s=r.Ta.shift();rl(r).B_(),await _3(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Id(r)}})(t,e),w3(t)&&E3(t)}async function HO(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),ve(Sc,"RemoteStore received new credentials");const r=Rc(n);n.Ea.add(3),await gm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fv(n)}async function w1(t,e){const n=je(t);e?(n.Ea.delete(2),await Fv(n)):e||(n.Ea.add(2),await gm(n),n.Ra.set("Unknown"))}function Nd(t){return t.ma||(t.ma=(function(n,r,i){const s=je(n);return s.sa(),new XG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:nK.bind(null,t),t_:rK.bind(null,t),r_:iK.bind(null,t),H_:aK.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),gS(t)?pS(t):t.Ra.set("Unknown")):(await t.ma.stop(),x3(t))}))),t.ma}function rl(t){return t.fa||(t.fa=(function(n,r,i){const s=je(n);return s.sa(),new QG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:lK.bind(null,t),r_:dK.bind(null,t),ta:cK.bind(null,t),na:uK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Id(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(Sc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new yS(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vS(t,e){if(yn("AsyncQueue",`${e}: ${t}`),cl(t))return new we(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{static emptySet(e){return new Fu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=th(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.ga=new $t(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class fd{constructor(e,n,r,i,s,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new fd(e,n,Fu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hK{constructor(){this.queries=KO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=je(n),s=i.queries;i.queries=KO(),s.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new we(he.ABORTED,"Firestore shutting down"))}}function KO(){return new Ys((t=>m4(t)),Vv)}async function bS(t,e){const n=je(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new fK,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=vS(l,`Initialization of query '${ju(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&_S(n)}async function xS(t,e){const n=je(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mK(t,e){const n=je(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&_S(n)}function pK(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function _S(t){t.Ca.forEach((e=>{e.next()}))}var E1,YO;(YO=E1||(E1={})).Ma="default",YO.Cache="cache";class wS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==E1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.key=e}}class A3{constructor(e){this.key=e}}class gK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=g4(e),this.tu=new Fu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new GO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const b=i.get(m),_=fm(this.query,p)?p:null,A=!!b&&this.mutatedKeys.has(b.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;b&&_?b.data.isEqual(_.data)?A!==E&&(r.track({type:3,doc:_}),S=!0):this.su(b,_)||(r.track({type:2,doc:_}),S=!0,(d&&this.eu(_,d)>0||f&&this.eu(_,f)<0)&&(c=!0)):!b&&_?(r.track({type:0,doc:_}),S=!0):b&&!_&&(r.track({type:1,doc:b}),S=!0,(d||f)&&(c=!0)),S&&(_?(l=l.add(_),s=E?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(_,A){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:S})}};return E(_)-E(A)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new fd(this.query,e.tu,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new A3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new S3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cd="SyncEngine";class yK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vK{constructor(e){this.key=e,this.hu=!1}}class bK{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ys((c=>m4(c)),Vv),this.Iu=new Map,this.Eu=new Set,this.du=new $t(Ie.comparator),this.Au=new Map,this.Ru=new lS,this.Vu={},this.mu=new Map,this.fu=Ec.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xK(t,e,n=!0){const r=Gv(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await T3(r,e,n,!0),i}async function _K(t,e){const n=Gv(t);await T3(n,e,!0,!1)}async function T3(t,e,n,r){const i=await _y(t.localStore,xi(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await ES(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Hv(t.remoteStore,i),c}async function ES(t,e,n,r,i){t.pu=(p,b,_)=>(async function(E,S,N,D){let O=S.view.ru(N);O.Cs&&(O=await b1(E.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,O))));const L=D&&D.targetChanges.get(S.targetId),V=D&&D.targetMismatches.get(S.targetId)!=null,U=S.view.applyChanges(O,E.isPrimaryClient,L,V);return S1(E,S.targetId,U.au),U.snapshot})(t,p,b,_);const s=await b1(t.localStore,e,!0),l=new gK(e,s.Qs),c=l.ru(s.documents),d=pm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);S1(t,n,f.au);const m=new yK(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function wK(t,e,n){const r=je(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Vv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ud(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dd(r.remoteStore,i.targetId),hd(r,i.targetId)})).catch(ll)):(hd(r,i.targetId),await ud(r.localStore,i.targetId,!0))}async function EK(t,e){const n=je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dd(n.remoteStore,r.targetId))}async function SK(t,e,n){const r=IS(t);try{const i=await(function(l,c){const d=je(l),f=Nt.now(),m=c.reduce(((_,A)=>_.add(A.key)),et());let p,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let A=yi(),E=et();return d.Ns.getEntries(_,m).next((S=>{A=S,A.forEach(((N,D)=>{D.isValidDocument()||(E=E.add(N))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,A))).next((S=>{p=S;const N=[];for(const D of c){const O=GH(D,p.get(D.key).overlayedDocument);O!=null&&N.push(new Ws(D.key,O,i4(O.value.mapValue),Zn.exists(!0)))}return d.mutationQueue.addMutationBatch(_,f,N,c)})).next((S=>{b=S;const N=S.applyToLocalDocumentSet(p,E);return d.documentOverlayCache.saveOverlays(_,S.batchId,N)}))})).then((()=>({batchId:b.batchId,changes:v4(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new $t(Ye)),f=f.insert(c,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await dl(r,i.changes),await Id(r.remoteStore)}catch(i){const s=vS(i,"Failed to persist write");n.reject(s)}}async function I3(t,e){const n=je(t);try{const r=await qG(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Le(l.hu,14607):i.removedDocuments.size>0&&(Le(l.hu,42227),l.hu=!1))})),await dl(n,r,e)}catch(r){await ll(r)}}function WO(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=je(l);d.onlineState=c;let f=!1;d.queries.forEach(((m,p)=>{for(const b of p.Sa)b.va(c)&&(f=!0)})),f&&_S(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AK(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new $t(Ie.comparator);l=l.insert(s,ln.newNoDocument(s,Be.min()));const c=et().add(s),d=new mm(Be.min(),new Map,new $t(Ye),l,c);await I3(r,d),r.du=r.du.remove(s),r.Au.delete(e),TS(r)}else await ud(r.localStore,e,!1).then((()=>hd(r,e,n))).catch(ll)}async function TK(t,e){const n=je(t),r=e.batch.batchId;try{const i=await BG(n.localStore,e);AS(n,r,null),SS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dl(n,i)}catch(i){await ll(i)}}async function IK(t,e,n){const r=je(t);try{const i=await(function(l,c){const d=je(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next((p=>(Le(p!==null,37113),m=p.keys(),d.mutationQueue.removeMutationBatch(f,p)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);AS(r,e,n),SS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dl(r,i)}catch(i){await ll(i)}}function SS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function AS(t,e,n){const r=je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function hd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||N3(t,r)}))}function N3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(dd(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),TS(t))}function S1(t,e,n){for(const r of n)r instanceof S3?(t.Ru.addReference(r.key,e),NK(t,r)):r instanceof A3?(ve(Cd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||N3(t,r.key)):Re(19791,{wu:r})}function NK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ve(Cd,"New document in limbo: "+n),t.Eu.add(r),TS(t))}function TS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(_t.fromString(e)),r=t.fu.next();t.Au.set(r,new vK(n)),t.du=t.du.insert(n,r),Hv(t.remoteStore,new Os(xi(dm(n.path)),r,"TargetPurposeLimboResolution",Qr.ce))}}async function dl(t,e,n){const r=je(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{var m;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){i.push(f);const p=dS.As(d.targetId,f);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const m=je(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>te.forEach(f,(b=>te.forEach(b.Es,(_=>m.persistence.referenceDelegate.addReference(p,b.targetId,_))).next((()=>te.forEach(b.ds,(_=>m.persistence.referenceDelegate.removeReference(p,b.targetId,_)))))))))}catch(p){if(!cl(p))throw p;ve(fS,"Failed to update sequence numbers: "+p)}for(const p of f){const b=p.targetId;if(!p.fromCache){const _=m.Ms.get(b),A=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(A);m.Ms=m.Ms.insert(b,E)}}})(r.localStore,s))}async function CK(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){ve(Cd,"User change. New user:",e.toKey());const r=await o3(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((d=>{d.reject(new we(he.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dl(n,r.Ls)}}function OK(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return et().add(r.key);{let i=et();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function RK(t,e){const n=je(t),r=await b1(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&S1(n,e.targetId,i.au),i}async function PK(t,e){const n=je(t);return u3(n.localStore,e).then((r=>dl(n,r)))}async function DK(t,e,n,r){const i=je(t),s=await(function(c,d){const f=je(c),m=je(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(p=>m.er(p,d).next((b=>b?f.localDocuments.getDocuments(p,b):te.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Id(i.remoteStore):n==="acknowledged"||n==="rejected"?(AS(i,e,r||null),SS(i,e),(function(c,d){je(je(c).mutationQueue).ir(d)})(i.localStore,e)):Re(6720,"Unknown batchState",{Su:n}),await dl(i,s)):ve(Cd,"Cannot apply mutation batch with id: "+e)}async function jK(t,e){const n=je(t);if(Gv(n),IS(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await XO(n,r.toArray());n.gu=!0,await w1(n.remoteStore,!0);for(const s of i)Hv(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(hd(n,l),ud(n.localStore,l,!0)))),dd(n.remoteStore,l)})),await i,await XO(n,r),(function(l){const c=je(l);c.Au.forEach(((d,f)=>{dd(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new $t(Ie.comparator)})(n),n.gu=!1,await w1(n.remoteStore,!1)}}async function XO(t,e,n){const r=je(t),i=[],s=[];for(const l of e){let c;const d=r.Iu.get(l);if(d&&d.length!==0){c=await _y(r.localStore,xi(d[0]));for(const f of d){const m=r.Tu.get(f),p=await RK(r,m);p.snapshot&&s.push(p.snapshot)}}else{const f=await c3(r.localStore,l);c=await _y(r.localStore,f),await ES(r,C3(f),l,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(s),i}function C3(t){return f4(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function MK(t){return(function(n){return je(je(n).persistence).Ts()})(je(t).localStore)}async function kK(t,e,n,r){const i=je(t);if(i.gu)return void ve(Cd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const l=await u3(i.localStore,p4(s[0])),c=mm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",vn.EMPTY_BYTE_STRING);await dl(i,l,c);break}case"rejected":await ud(i.localStore,e,!0),hd(i,e,r);break;default:Re(64155,n)}}async function VK(t,e,n){const r=Gv(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ve(Cd,"Adding an already active target "+i);continue}const s=await c3(r.localStore,i),l=await _y(r.localStore,s);await ES(r,C3(s),l.targetId,!1,l.resumeToken),Hv(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await ud(r.localStore,i,!1).then((()=>{dd(r.remoteStore,i),hd(r,i)})).catch(ll)}}function Gv(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AK.bind(null,e),e.Pu.H_=mK.bind(null,e.eventManager),e.Pu.yu=pK.bind(null,e.eventManager),e}function IS(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IK.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$v(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return s3(this.persistence,new a3,e.initialUser,this.serializer)}Cu(e){return new cS(qv.mi,this.serializer)}Du(e){return new p3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class LK extends Lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof xy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new J4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new cS((r=>xy.mi(r,n)),this.serializer)}}class O3 extends Lh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await IS(this.xu.syncEngine),await Id(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return s3(this.persistence,new a3,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new J4(r,e.asyncQueue,n)}Mu(e,n){const r=new WF(n,this.persistence);return new YF(e.asyncQueue,r)}Cu(e){const n=i3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new uS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,g3(),Gg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new p3}}class zK extends O3{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof t_&&(this.sharedClientState.syncEngine={Co:DK.bind(null,n),vo:kK.bind(null,n),Fo:VK.bind(null,n),Ts:MK.bind(null,n),Do:PK.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await jK(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=g3();if(!t_.v(n))throw new we(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=i3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new t_(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class zh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CK.bind(null,this.syncEngine),await w1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hK})()}createDatastore(e){const n=$v(e.databaseInfo.databaseId),r=(function(s){return new WG(s)})(e.databaseInfo);return(function(s,l,c,d){return new JG(s,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new tK(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>WO(this.syncEngine,n,0)),(function(){return $O.v()?new $O:new HG})())}createSyncEngine(e,n){return(function(i,s,l,c,d,f,m){const p=new bK(i,s,l,c,d,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=je(i);ve(Sc,"RemoteStore shutting down."),s.Ea.add(5),await gm(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zh.provider={build:()=>new zh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="FirestoreClient";class UK{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=qE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{ve(il,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ve(il,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function r_(t,e){t.asyncQueue.verifyOperationInProgress(),ve(il,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await o3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function QO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BK(t);ve(il,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>HO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>HO(e.remoteStore,i))),t._onlineComponents=e}async function BK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(il,"Using user provided OfflineComponentProvider");try{await r_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Th("Error using user provided cache. Falling back to memory cache: "+n),await r_(t,new Lh)}}else ve(il,"Using default OfflineComponentProvider"),await r_(t,new LK(void 0));return t._offlineComponents}async function R3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(il,"Using user provided OnlineComponentProvider"),await QO(t,t._uninitializedComponentsProvider._online)):(ve(il,"Using default OnlineComponentProvider"),await QO(t,new zh))),t._onlineComponents}function qK(t){return R3(t).then((e=>e.syncEngine))}async function Ay(t){const e=await R3(t),n=e.eventManager;return n.onListen=xK.bind(null,e.syncEngine),n.onUnlisten=wK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_K.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EK.bind(null,e.syncEngine),n}function $K(t,e,n={}){const r=new Ha;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,d,f){const m=new NS({next:b=>{m.Nu(),l.enqueueAndForget((()=>xS(s,p)));const _=b.docs.has(c);!_&&b.fromCache?f.reject(new we(he.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&d&&d.source==="server"?f.reject(new we(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),p=new wS(dm(c.path),m,{includeMetadataChanges:!0,qa:!0});return bS(s,p)})(await Ay(t),t.asyncQueue,e,n,r))),r.promise}function FK(t,e,n={}){const r=new Ha;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,d,f){const m=new NS({next:b=>{m.Nu(),l.enqueueAndForget((()=>xS(s,p))),b.fromCache&&d.source==="server"?f.reject(new we(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),p=new wS(c,m,{includeMetadataChanges:!0,qa:!0});return bS(s,p)})(await Ay(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HK="firestore.googleapis.com",JO=!0;class eR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HK,this.ssl=JO}else this.host=e.host,this.ssl=e.ssl??JO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Y4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z4)throw new we(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class CS{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kF;switch(r.type){case"firstParty":return new zF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ZO.get(n);r&&(ve("ComponentProvider","Removing Datastore"),ZO.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lm(n,cn._jsonSchema))return new cn(e,r||null,new Ie(_t.fromString(n.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:Rn("string",cn._jsonSchemaVersion),referencePath:Rn("string")};class Zo extends fl{constructor(e,n,r){super(e,n,dm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Ie(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function vi(t,e,...n){if(t=Dn(t),Rk("collection","path",e),t instanceof CS){const r=_t.fromString(e,...n);return FC(r),new Zo(t,null,r)}{if(!(t instanceof cn||t instanceof Zo))throw new we(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return FC(r),new Zo(t.firestore,null,r)}}function ur(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=qE.newId()),Rk("doc","path",e),t instanceof CS){const r=_t.fromString(e,...n);return $C(r),new cn(t,null,new Ie(r))}{if(!(t instanceof cn||t instanceof Zo))throw new we(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return $C(r),new cn(t.firestore,t instanceof Zo?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="AsyncQueue";class nR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y3(this,"async_queue_retry"),this._c=()=>{const r=Gg();r&&ve(tR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;ve(tR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,yn("INTERNAL UNHANDLED ERROR: ",rR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=yS.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Re(47125,{Pc:rR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK=-1;class zs extends CS{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nR(e),this._firestoreClient=void 0,await e}}}function KK(t,e,n){n||(n=fy);const r=OE(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(pc(s,e))return i;throw new we(he.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new we(he.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z4)throw new we(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&_d(e.host)&&VM(e.host),r.initialize({options:e,instanceIdentifier:n})}function ym(t){if(t._terminated)throw new we(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YK(t),t._firestoreClient}function YK(t){var r,i,s;const e=t._freezeSettings(),n=(function(c,d,f,m){return new EH(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,P3(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new UK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $i(vn.fromBase64String(e))}catch(n){throw new we(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $i(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lm(e,$i._jsonSchema))return $i.fromBase64String(e.bytes)}}$i._jsonSchemaVersion="firestore/bytes/1.0",$i._jsonSchema={type:Rn("string",$i._jsonSchemaVersion),bytes:Rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ga._jsonSchemaVersion}}static fromJSON(e){if(lm(e,Ga._jsonSchema))return new Ga(e.latitude,e.longitude)}}Ga._jsonSchemaVersion="firestore/geoPoint/1.0",Ga._jsonSchema={type:Rn("string",Ga._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ka._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lm(e,Ka._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ka(e.vectorValues);throw new we(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ka._jsonSchemaVersion="firestore/vectorValue/1.0",Ka._jsonSchema={type:Rn("string",Ka._jsonSchemaVersion),vectorValues:Rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK=/^__.*__$/;class XK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Td(e,this.data,n,this.fieldTransforms)}}class D3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function j3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:t})}}class OS{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new OS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ty(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(j3(this.Ac)&&WK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$v(e)}Cc(e,n,r,i=!1){return new OS({Ac:e,methodName:n,Dc:r,path:nn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yv(t){const e=t._freezeSettings(),n=$v(t._databaseId);return new QK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M3(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);PS("Data must be an object, but it was:",l,r);const c=L3(r,l);let d,f;if(s.merge)d=new Zr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const b=A1(e,p,n);if(!l.contains(b))throw new we(he.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);U3(m,b)||m.push(b)}d=new Zr(m),f=l.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,f=l.fieldTransforms;return new XK(new Sr(c),d,f)}class Wv extends Kv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wv}}class RS extends Kv{_toFieldTransform(e){return new A4(e.path,new sd)}isEqual(e){return e instanceof RS}}function k3(t,e,n,r){const i=t.Cc(1,e,n);PS("Data must be an object, but it was:",i,r);const s=[],l=Sr.empty();ul(r,((d,f)=>{const m=DS(e,d,n);f=Dn(f);const p=i.yc(m);if(f instanceof Wv)s.push(m);else{const b=bm(f,p);b!=null&&(s.push(m),l.set(m,b))}}));const c=new Zr(s);return new D3(l,c,i.fieldTransforms)}function V3(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[A1(e,r,n)],d=[i];if(s.length%2!=0)throw new we(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(A1(e,s[b])),d.push(s[b+1]);const f=[],m=Sr.empty();for(let b=c.length-1;b>=0;--b)if(!U3(f,c[b])){const _=c[b];let A=d[b];A=Dn(A);const E=l.yc(_);if(A instanceof Wv)f.push(_);else{const S=bm(A,E);S!=null&&(f.push(_),m.set(_,S))}}const p=new Zr(f);return new D3(m,p,l.fieldTransforms)}function ZK(t,e,n,r=!1){return bm(n,t.Cc(r?4:3,e))}function bm(t,e){if(z3(t=Dn(t)))return PS("Unsupported field value:",e,t),L3(t,e);if(t instanceof Kv)return(function(r,i){if(!j3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let d=bm(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Nt.fromDate(r);return{timestampValue:cd(i.serializer,s)}}if(r instanceof Nt){const s=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(i.serializer,s)}}if(r instanceof Ga)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $i)return{bytesValue:P4(i.serializer,r._byteString)};if(r instanceof cn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ka)return(function(l,c){return{mapValue:{fields:{[XE]:{stringValue:QE},[nd]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return eS(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Cv(r)}`)})(t,e)}function L3(t,e){const n={};return Wk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ul(t,((r,i)=>{const s=bm(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function z3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof Ga||t instanceof $i||t instanceof cn||t instanceof Kv||t instanceof Ka)}function PS(t,e,n){if(!z3(n)||!Pk(n)){const r=Cv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function A1(t,e,n){if((e=Dn(e))instanceof vm)return e._internalPath;if(typeof e=="string")return DS(t,e);throw Ty("Field path arguments must be of type string or ",t,!1,void 0,n)}const JK=new RegExp("[~\\*/\\[\\]]");function DS(t,e,n){if(e.search(JK)>=0)throw Ty(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vm(...e.split("."))._internalPath}catch{throw Ty(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ty(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new we(he.INVALID_ARGUMENT,c+t+d)}function U3(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eY extends B3{data(){return super.data()}}function Xv(t,e){return typeof e=="string"?DS(t,e):e instanceof vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jS{}class $3 extends jS{}function Ki(t,e,...n){let r=[];e instanceof jS&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof MS)).length,c=s.filter((d=>d instanceof Qv)).length;if(l>1||l>0&&c>0)throw new we(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Qv extends $3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qv(e,n,r)}_apply(e){const n=this._parse(e);return F3(e._query,n),new fl(e.firestore,e.converter,u1(e._query,n))}_parse(e){const n=Yv(e.firestore);return(function(s,l,c,d,f,m,p){let b;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new we(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){sR(p,m);const A=[];for(const E of p)A.push(aR(d,s,E));b={arrayValue:{values:A}}}else b=aR(d,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||sR(p,m),b=ZK(c,l,p,m==="in"||m==="not-in");return lt.create(f,m,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vr(t,e,n){const r=e,i=Xv("where",t);return Qv._create(i,r,n)}class MS extends jS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new MS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ct.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const d of c)F3(l,d),l=u1(l,d)})(e._query,n),new fl(e.firestore,e.converter,u1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kS extends $3{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kS(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new we(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kh(s,l)})(e._query,this._field,this._direction);return new fl(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new Ad(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function tY(t,e="asc"){const n=e,r=Xv("orderBy",t);return kS._create(r,n)}function aR(t,e,n){if(typeof(n=Dn(n))=="string"){if(n==="")throw new we(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h4(e)&&n.indexOf("/")!==-1)throw new we(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!Ie.isDocumentKey(r))throw new we(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jh(t,new Ie(r))}if(n instanceof cn)return jh(t,n._key);throw new we(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cv(n)}.`)}function sR(t,e){if(!Array.isArray(t)||t.length===0)throw new we(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F3(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nY{convertValue(e,n="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ul(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[nd].arrayValue)==null?void 0:i.values)==null?void 0:s.map((l=>en(l.doubleValue)));return new Ka(n)}convertGeoPoint(e){return new Ga(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ph(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);Le(q4(r),9688,{name:e});const i=new bc(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(n)||yn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lc extends B3{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lc._jsonSchemaVersion="firestore/documentSnapshot/1.0",lc._jsonSchema={type:Rn("string",lc._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class Kg extends lc{data(e={}){return super.data(e)}}class cc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Kg(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new Kg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ih(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new Kg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ih(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:rY(c.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){t=bi(t,cn);const e=bi(t.firestore,zs);return $K(ym(e),t._key).then((n=>K3(e,t,n)))}cc._jsonSchemaVersion="firestore/querySnapshot/1.0",cc._jsonSchema={type:Rn("string",cc._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class VS extends nY{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Fi(t){t=bi(t,fl);const e=bi(t.firestore,zs),n=ym(e),r=new VS(e);return q3(t._query),FK(n,t._query).then((i=>new cc(e,r,t,i)))}function uc(t,e,n){t=bi(t,cn);const r=bi(t.firestore,zs),i=H3(t.converter,e,n);return Jv(r,[M3(Yv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Zn.none())])}function iY(t,e,n,...r){t=bi(t,cn);const i=bi(t.firestore,zs),s=Yv(i);let l;return l=typeof(e=Dn(e))=="string"||e instanceof vm?V3(s,"updateDoc",t._key,e,n,r):k3(s,"updateDoc",t._key,e),Jv(i,[l.toMutation(t._key,Zn.exists(!0))])}function G3(t){return Jv(bi(t.firestore,zs),[new hm(t._key,Zn.none())])}function LS(t,...e){var d,f,m;t=Dn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||iR(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(iR(e[r])){const p=e[r];e[r]=(d=p.next)==null?void 0:d.bind(p),e[r+1]=(f=p.error)==null?void 0:f.bind(p),e[r+2]=(m=p.complete)==null?void 0:m.bind(p)}let s,l,c;if(t instanceof cn)l=bi(t.firestore,zs),c=dm(t._key.path),s={next:p=>{e[r]&&e[r](K3(l,t,p))},error:e[r+1],complete:e[r+2]};else{const p=bi(t,fl);l=bi(p.firestore,zs),c=p._query;const b=new VS(l);s={next:_=>{e[r]&&e[r](new cc(l,b,p,_))},error:e[r+1],complete:e[r+2]},q3(t._query)}return(function(b,_,A,E){const S=new NS(E),N=new wS(_,S,A);return b.asyncQueue.enqueueAndForget((async()=>bS(await Ay(b),N))),()=>{S.Nu(),b.asyncQueue.enqueueAndForget((async()=>xS(await Ay(b),N)))}})(ym(l),c,i,s)}function Jv(t,e){return(function(r,i){const s=new Ha;return r.asyncQueue.enqueueAndForget((async()=>SK(await qK(r),i,s))),s.promise})(ym(t),e)}function K3(t,e,n){const r=n.docs.get(e._key),i=new VS(t);return new lc(t,i,e._key,r,new ih(n.hasPendingWrites,n.fromCache),e.converter)}class aY{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=cY(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function sY(t){return new aY(t)}class oY{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=zh.provider,this._offlineComponentProvider={build:n=>new O3(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class lY{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=zh.provider,this._offlineComponentProvider={build:n=>new zK(n,e==null?void 0:e.cacheSizeBytes)}}}function cY(t){return new oY(t==null?void 0:t.forceOwnership)}function uY(){return new lY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yv(e)}set(e,n,r){this._verifyNotCommitted();const i=i_(e,this._firestore),s=H3(i.converter,n,r),l=M3(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Zn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=i_(e,this._firestore);let l;return l=typeof(n=Dn(n))=="string"||n instanceof vm?V3(this._dataReader,"WriteBatch.update",s._key,n,r,i):k3(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=i_(e,this._firestore);return this._mutations=this._mutations.concat(new hm(n._key,Zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function i_(t,e){if((t=Dn(t)).firestore!==e)throw new we(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ar(){return new RS("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){return ym(t=bi(t,zs)),new dY(t,(e=>Jv(t,e)))}(function(e,n=!0){(function(i){Sd=i})(wd),Yu(new gc("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new zs(new VF(r.getProvider("auth-internal")),new UF(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new we(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(f.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Wo(zC,UC,e),Wo(zC,UC,"esm2020")})();const fY={BASE_URL:"/jumprope-competition-manager/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAu274mSI-7x-hiiKrkXMp7rmXrMQIDRsc",VITE_FIREBASE_APP_ID:"1:249241363454:web:45b9eae57d49342d1b96af",VITE_FIREBASE_AUTH_DOMAIN:"jumprope-master-v20.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"249241363454",VITE_FIREBASE_PROJECT_ID:"jumprope-master-v20",VITE_FIREBASE_STORAGE_BUCKET:"jumprope-master-v20.firebasestorage.app",VITE_GEMINI_API_KEY:"your_gemini_api_key_here"},Lu={apiKey:"AIzaSyAu274mSI-7x-hiiKrkXMp7rmXrMQIDRsc",authDomain:"jumprope-master-v20.firebaseapp.com",projectId:"jumprope-master-v20",storageBucket:"jumprope-master-v20.firebasestorage.app",messagingSenderId:"249241363454",appId:"1:249241363454:web:45b9eae57d49342d1b96af"};console.log(" Firebase Config:",Lu);if(!Lu.apiKey||!Lu.projectId)throw console.error(" Firebase   !"),console.error(":",{apiKey:Lu.apiKey,projectId:Lu.projectId,allEnv:fY}),new Error("Firebase   . .env.local  .");const Y3=FM(Lu),tt=KK(Y3,{localCache:sY({tabManager:uY(),cacheSizeBytes:GK})}),mg=RF(Y3);console.log(" Firebase initialized with offline persistence");const W3=w.createContext(void 0),hY=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(!0);w.useEffect(()=>{console.log(" AuthProvider  "),console.log(" auth :",mg);const c=setTimeout(()=>{console.warn(" Auth   (5 )"),i(!1)},5e3);try{console.log(" onAuthStateChanged   ");const d=b$(mg,f=>{console.log(" onAuthStateChanged  !",f?"":""),clearTimeout(c),n(f),i(!1)});return console.log(" onAuthStateChanged   "),()=>{console.log(" AuthProvider "),clearTimeout(c),d()}}catch(d){return console.error(" AuthProvider :",d),clearTimeout(c),i(!1),()=>{}}},[]);const s=async()=>{const c=new As;await U$(mg,c)},l=async()=>{await x$(mg)};return y.jsx(W3.Provider,{value:{user:e,loading:r,signInWithGoogle:s,logout:l},children:t})},Pc=()=>{const t=w.useContext(W3);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},T1="v1.0",Yg="2025 1 23",Ho={serviceName:"   ",name:"",email:"zoomwk432@gmail.com",school:""},oR=[{id:"purpose",title:"1.     ",content:`${Ho.serviceName}( "")     .        ,       .

.   
        
         
        
          

.   
         
        
         `},{id:"items",title:"2.   ",content:`.  (Google )
     :  , Google  (UID), ,  
      :  , IP ,  

. 
     : , , , 
     :     `},{id:"retention",title:"3.     ",content:`      :

.  
    :   
    :     

.   
        
         
      
          

.  
             :
         : 3 ()
      ,  : 3 ()`},{id:"third-party",title:"4.  3 ",content:`     3  .

,    :
       
      ,           

  3  : `},{id:"consignment",title:"5.   ",content:`            :


 : Google LLC ()                   
 : Firebase        
 :         


          .`},{id:"rights",title:"6.    ",content:`      :

.   
.   
.    
.    ( )

  :
          
      , ,  

      ,          .`},{id:"security",title:"7.    ",content:`   29          :

.  
     :    HTTPS(SSL/TLS)   
     : Firestore Security Rules    
     : Google Cloud Platform   
     : Firebase       
     : Firebase Authentication    

.  
         
        
           

.  
         Google Cloud Platform  `},{id:"cookies",title:"8.       ",content:`. (Cookie) 
        .

.  (Local Storage) 
     :   ,   
     : Firebase  ,   
     :       ,       .

.   
     : IP ,  ,  
     : ,  ,  `},{id:"manager",title:"9.  ",content:`       ,              :

  
    : ${Ho.name}
    : ${Ho.school}
    : ${Ho.email}

            :
     (privacy.kisa.or.kr /  118)
     (www.kopico.go.kr / 1833-6972)
      (www.spo.go.kr /  1301)
      (cyberbureau.police.go.kr /  182)`},{id:"changes",title:"10.   ",content:`   ${Yg} ,       ,        7       .

,   ,             30  ,        .

  : ${Yg}
  : ${Yg}`}],mY=`
       (, ,  ) .
    ,     .
`,a_=[{id:"terms",label:"  ",required:!0},{id:"privacy",label:"    ",required:!0}],s_=[];function X3({isOpen:t,onClose:e,onAgree:n,onDisagree:r,canClose:i=!0}){const[s,l]=w.useState({}),[c,d]=w.useState({terms:!1,privacy:!1,marketing:!1}),[f,m]=w.useState(!1),p=a_.every(D=>c[D.id]),b=D=>{l(O=>({...O,[D]:!O[D]}))},_=()=>{const D={};oR.forEach(O=>{D[O.id]=!0}),l(D)},A=()=>{l({})},E=()=>{const D={};[...a_,...s_].forEach(O=>{D[O.id]=!0}),d(D)},S=D=>{d(O=>({...O,[D]:!O[D]}))},N=async()=>{if(!p){alert("   .");return}m(!0);try{await n({version:T1,termsAgreed:c.terms,dataCollectionAgreed:c.privacy,marketingAgreed:c.marketing||!1}),i&&e&&e()}catch(D){console.error("  :",D),alert("    .  .")}finally{m(!1)}};return t?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-y-auto",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full my-8 flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" "}),y.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[" ",T1," |  : ",Yg]})]}),i&&e&&y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-2xl","aria-label":"",children:""})]}),!i&&y.jsx("div",{className:"mt-4 bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4",children:y.jsx("p",{className:"text-sm text-yellow-800 font-semibold",children:"       ."})}),y.jsx("div",{className:"mt-4 bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:y.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-line leading-relaxed",children:mY})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[y.jsxs("div",{className:"flex gap-2 mb-4",children:[y.jsx("button",{onClick:_,className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:" "}),y.jsx("button",{onClick:A,className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:" "})]}),y.jsx("div",{className:"space-y-3",children:oR.map(D=>y.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[y.jsxs("button",{onClick:()=>b(D.id),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 flex items-center justify-between text-left transition-colors",children:[y.jsx("span",{className:"font-semibold text-gray-800",children:D.title}),y.jsx("span",{className:"text-gray-500 text-xl",children:s[D.id]?"":"+"})]}),s[D.id]&&y.jsx("div",{className:"p-4 bg-white",children:y.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:D.content})})]},D.id))}),y.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[y.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:" "}),y.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[y.jsxs("p",{children:[" : ",Ho.serviceName]}),y.jsxs("p",{children:[" : ",Ho.name]}),y.jsxs("p",{children:[" : ",Ho.email]}),y.jsxs("p",{children:[" : ",Ho.school]})]})]})]}),y.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[y.jsx("button",{onClick:E,className:"w-full mb-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg transition-colors",children:" "}),y.jsx("div",{className:"space-y-3 mb-4",children:a_.map(D=>y.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[y.jsx("input",{type:"checkbox",checked:c[D.id],onChange:()=>S(D.id),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),y.jsxs("span",{className:"text-sm text-gray-700 group-hover:text-gray-900",children:[y.jsx("span",{className:"text-red-500 font-bold",children:"[]"})," ",D.label]})]},D.id))}),s_.length>0&&y.jsx("div",{className:"space-y-3 mb-4",children:s_.map(D=>y.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[y.jsx("input",{type:"checkbox",checked:c[D.id],onChange:()=>S(D.id),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),y.jsxs("span",{className:"text-sm text-gray-700 group-hover:text-gray-900",children:[y.jsx("span",{className:"text-gray-500",children:"[]"})," ",D.label]})]},D.id))}),y.jsx("button",{onClick:N,disabled:!p||f,className:`w-full py-3 rounded-lg font-bold text-lg transition-all ${p&&!f?"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:f?y.jsxs("span",{className:"flex items-center justify-center gap-2",children:[y.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})," ..."]}):" "}),!p&&y.jsx("p",{className:"text-xs text-red-500 text-center mt-2",children:"        ."}),r&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:y.jsx("p",{className:"text-xs text-red-700 text-center",children:"      ."})}),y.jsx("button",{onClick:r,className:"w-full mt-3 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium rounded-lg transition-colors",children:" "})]}),i&&e&&y.jsx("button",{onClick:e,className:"w-full mt-3 py-2 text-gray-600 hover:text-gray-800 text-sm transition-colors",children:" "})]})]})}):null}const Dc=(t,e)=>vi(tt,"users",t,e),ya=(t,e,n)=>ur(tt,"users",t,e,n),zS=async(t,e)=>{const n=ur(vi(tt,"competitions"));return await uc(n,{name:e,createdBy:t,createdAt:Ar(),status:"active"}),n.id},Q3=async t=>{const e=Ki(vi(tt,"competitions"),Vr("createdBy","==",t));return(await Fi(e)).docs.map(r=>({id:r.id,...r.data()}))},Z3=(t,e,n)=>{console.log(" [Firestore] subscribeToEvents ",{userId:t,competitionId:e});const r=Ki(Dc(t,"events"),Vr("competitionId","==",e));return console.log(" [Firestore]    , onSnapshot  ..."),LS(r,i=>{console.log(" [Firestore]  onSnapshot  ",{docCount:i.docs.length,isEmpty:i.empty});const s=i.docs.map(l=>{const c=l.data();return console.log(" [Firestore]   :",{id:l.id,data:c}),c});console.log(" [Firestore]    ",{eventCount:s.length,events:s}),n(s)},i=>{console.error(" [Firestore]  onSnapshot :",i),console.error(" :",{code:i.code,message:i.message,name:i.name})})},pY=async(t,e)=>{await G3(ya(t,"events",e))},gY=async(t,e,n)=>{await uc(ya(t,"classes",n.id),{...n,competitionId:e,totalScore:0,updatedAt:Ar()})},J3=async(t,e,n)=>{await iY(ya(t,"classes",e),{students:n,updatedAt:Ar()})},e5=async(t,e)=>{console.log("   :",e);try{await G3(ya(t,"classes",e)),console.log("   :",e)}catch(n){throw console.error("   :",n),n}},US=async(t,e,n)=>{const r=Ki(Dc(t,"classes"),Vr("competitionId","==",e),Vr("grade","==",n));return(await Fi(r)).docs.map(s=>s.data())},t5=(t,e,n,r)=>{console.log(" [Firestore] subscribeToGradeClasses ",{userId:t,competitionId:e,grade:n});const i=Ki(Dc(t,"classes"),Vr("competitionId","==",e),Vr("grade","==",n));return console.log(" [Firestore]   , onSnapshot  ..."),LS(i,s=>{console.log(" [Firestore] onSnapshot  ",{docCount:s.docs.length,isEmpty:s.empty});const l=s.docs.map(c=>{const d=c.data();return console.log(" [Firestore]  :",{id:c.id,data:d}),{id:c.id,...d}});console.log(" [Firestore]    ",{classCount:l.length,classes:l}),r(l)},s=>{console.error(" [Firestore] onSnapshot :",s),console.error(" :",{code:s.code,message:s.message,name:s.name})})},n5=(t,e,n)=>{const r=Ki(Dc(t,"classes"),Vr("competitionId","==",e));return LS(r,i=>{const s=i.docs.map(l=>({id:l.id,...l.data()}));n(s)})},r5=async(t,e,n)=>{const r=`${e}_${n.grade}`;await uc(ya(t,"gradeConfigs",r),{...n,competitionId:e})},i5=async(t,e,n)=>{const r=`${e}_${n}`,i=await Zv(ya(t,"gradeConfigs",r));return i.exists()?i.data():null},a5=async(t,e,n)=>{const r=Zi(tt);n.forEach(i=>{const s=ya(t,"classes",i.id);r.set(s,{...i,competitionId:e,updatedAt:Ar()},{merge:!0})}),await r.commit()},s5=async(t,e,n)=>{const r=Zi(tt);n.forEach(i=>{const s=ya(t,"events",i.id);r.set(s,{...i,competitionId:e},{merge:!0})}),await r.commit()},o5=async(t,e)=>{try{console.log(" [checkPrivacyConsent]  :",{teacherId:t,version:e});const n=`${t}_${e}`,r=await Zv(ur(tt,"privacy_consents",n));if(!r.exists())return console.log(" [checkPrivacyConsent]    ()"),null;const i={id:r.id,...r.data()};return console.log(" [checkPrivacyConsent]   :",i),i}catch(n){throw console.error(" [checkPrivacyConsent]  :",n),n}},BS=async t=>{try{console.log(" [savePrivacyConsent]  :",{teacherId:t.teacherId,teacherEmail:t.teacherEmail,version:t.version});const e=null,n=navigator.userAgent,r=`${t.teacherId}_${t.version}`,i={consentType:t.consentType||"teacher",teacherId:t.teacherId,teacherEmail:t.teacherEmail,privacyPolicyVersion:t.version,termsAgreed:t.termsAgreed,dataCollectionAgreed:t.dataCollectionAgreed,marketingAgreed:t.marketingAgreed||!1,ipAddress:e,userAgent:n,metadata:{createdAt:Ar(),updatedAt:Ar(),updatedBy:"system"}};return await uc(ur(tt,"privacy_consents",r),i,{merge:!0}),console.log(" [savePrivacyConsent]  :",r),{id:r,...i}}catch(e){throw console.error(" [savePrivacyConsent]  :",e),e}},l5=async(t,e)=>{const n=Ki(vi(tt,"competitions",t,"grades",e,"practiceRecords"),tY("createdAt","desc"));return(await Fi(n)).docs.map(i=>{var s;return{id:i.id,...i.data(),createdAt:((s=i.data().createdAt)==null?void 0:s.toDate())||new Date}})},c5=async(t,e,n,r)=>{console.log("    :",{competitionId:t,grade:e,date:n,sessionNumber:r});const i=`grade_${e}`,s=Ki(vi(tt,"competitions",t,"grades",i,"practiceRecords"),Vr("date","==",n),Vr("sessionNumber","==",r)),l=await Fi(s);if(console.log(`   : ${l.docs.length}`),l.docs.length===0)return console.log("   ."),0;const c=Zi(tt);return l.docs.forEach(d=>{c.delete(d.ref)}),await c.commit(),console.log(` ${l.docs.length}   `),l.docs.length},qS=async(t,e)=>{if(console.log(" saveCompetitionResults "),console.log("   :",e.length),!e||e.length===0){console.warn("    .");return}const n=Zi(tt);e.forEach((r,i)=>{if(console.log(`
  ${i+1}/${e.length}:`,{id:r.id,name:r.name,resultsCount:Object.keys(r.results||{}).length,sampleResults:Object.entries(r.results||{}).slice(0,2)}),!r.id)throw console.error("  ID :",r),new Error(` ID : ${r.name}`);const s=Object.values(r.results||{}).reduce((c,d)=>c+((d==null?void 0:d.score)||0),0);console.log(`    : ${s}`);const l=ya(t,"classes",r.id);console.log(`    : /users/${t}/classes/${r.id}`),n.update(l,{results:r.results||{},totalScore:s,updatedAt:Ar()}),console.log("     (update mode)")});try{console.log(`
 Firestore   ...`),await n.commit(),console.log(" Firestore   !")}catch(r){throw console.error(" Firestore   :",r),console.error("   :",r.code),console.error("   :",r.message),r.code==="not-found"?console.error("   :   .   Firestore  ."):r.code==="permission-denied"&&console.error("   : Firestore   .  ."),r}},u5=async(t,e,n,r)=>{console.log("    :",{competitionId:e,grade:n,date:r});const i=await US(t,e,n);console.log(`   : ${i.length}`);const s=Zi(tt);let l=0;if(i.forEach(c=>{const d={...c.results};let f=!1;if(Object.keys(d).forEach(m=>{var b;const p=((b=d[m])==null?void 0:b.date)||" ";p===r&&(console.log(`   ${c.name} - ${m}   (: ${p})`),delete d[m],f=!0)}),f){const m=Object.values(d).reduce((b,_)=>b+((_==null?void 0:_.score)||0),0),p=ya(t,"classes",c.id);s.update(p,{results:d,totalScore:m,updatedAt:Ar()}),l++}}),l===0){console.log("    .");return}await s.commit(),console.log(` ${l}  ${r}    `)},d5=async(t,e)=>{if(e.length===0)return;const n=Zi(tt);e.forEach(r=>{const i=ur(vi(tt,"users",t,"records"));n.set(i,{...r,id:i.id,createdAt:Ar(),updatedAt:Ar()})}),await n.commit()},f5=async(t,e,n)=>{const r=Ki(Dc(t,"records"),Vr("studentId","==",e));let s=(await Fi(r)).docs.map(l=>{var c,d;return{id:l.id,...l.data(),createdAt:((c=l.data().createdAt)==null?void 0:c.toDate())||new Date,updatedAt:((d=l.data().updatedAt)==null?void 0:d.toDate())||new Date}});return s.sort((l,c)=>{const d=new Date(l.date).getTime();return new Date(c.date).getTime()-d}),n!=null&&n.mode&&(s=s.filter(l=>l.mode===n.mode)),n!=null&&n.eventId&&(s=s.filter(l=>l.eventId===n.eventId)),n!=null&&n.limit&&(s=s.slice(0,n.limit)),s},h5=async t=>{const e=await Zv(ur(tt,"accessCodes",t));if(!e.exists())return console.log(" accessCode   :",t),null;const n=e.data(),{studentName:r,className:i,grade:s,userId:l}=n,c=Ki(vi(tt,"users",l,"records"),Vr("accessCode","==",t));let f=(await Fi(c)).docs.map(m=>{var p,b;return{id:m.id,...m.data(),createdAt:((p=m.data().createdAt)==null?void 0:p.toDate())||new Date,updatedAt:((b=m.data().updatedAt)==null?void 0:b.toDate())||new Date}});return f.sort((m,p)=>new Date(p.date).getTime()-new Date(m.date).getTime()),{studentName:r,className:i,grade:s||0,records:f}},I1=async(t,e,n,r,i)=>{const s=Zi(tt);i.forEach(l=>{if(l.accessCode){const c=ur(tt,"accessCodes",l.accessCode);s.set(c,{studentId:l.id,studentName:l.name,classId:e,className:n,grade:r,userId:t,createdAt:Ar()})}}),await s.commit()},m5=async(t,e,n,r)=>{var f;console.log("    :",{userId:t,classIds:e,eventId:n,date:r});const i=Zi(tt);let s=0,l=0;for(const m of e){const p=ya(t,"classes",m),b=await Zv(p);if(b.exists()){const _=b.data(),A=(f=_.results)==null?void 0:f[n];if(A&&A.date===r){const E={..._.results};delete E[n];const S=Object.values(E).reduce((N,D)=>N+((D==null?void 0:D.score)||0),0);i.update(p,{results:E,totalScore:S,updatedAt:Ar()}),s++}}}const c=Ki(Dc(t,"records"),Vr("eventId","==",n),Vr("date","==",r));return(await Fi(c)).docs.forEach(m=>{const p=m.data();e.includes(p.classId)&&(i.delete(m.ref),l++)}),(s>0||l>0)&&await i.commit(),console.log(`    : ${s} , ${l}  `),{classesUpdated:s,recordsDeleted:l}},p5=async(t,e,n)=>{let r=0,i=0;const s=new Map(n.map(f=>[f.id,f])),l=Zi(tt),c=await Fi(Dc(t,"records")),d=new Set;c.docs.forEach(f=>{const m=f.data();d.add(`${m.studentId}_${m.eventId}_${m.date}_${m.score}`)});for(const f of e)if(f.results)for(const[m,p]of Object.entries(f.results)){const b=s.get(m);if(!b)continue;const _=p.date||new Date().toISOString().split("T")[0];if(p.studentScores)for(const[A,E]of Object.entries(p.studentScores)){if(typeof E!="number"||E<=0){i++;continue}const S=f.students.find(L=>L.id===A);if(!S){i++;continue}const N=`${A}_${m}_${_}_${E}`;if(d.has(N)){i++;continue}const D=ur(vi(tt,"users",t,"records")),O={id:D.id,studentId:A,studentName:S.name,accessCode:S.accessCode||"",classId:f.id,className:f.name,grade:f.grade,eventId:m,eventName:b.name,score:E,date:_,mode:"competition"};l.set(D,{...O,createdAt:Ar(),updatedAt:Ar()}),d.add(N),r++}if(p.teams&&p.teams.length>0)for(const A of p.teams){if(!A.score||A.score<=0)continue;const E=A.memberIds.map(S=>{var N;return((N=f.students.find(D=>D.id===S))==null?void 0:N.name)||"  "}).filter(Boolean);for(const S of A.memberIds){const N=f.students.find(V=>V.id===S);if(!N){i++;continue}const D=`${S}_${m}_${_}_${A.score}`;if(d.has(D)){i++;continue}const O=ur(vi(tt,"users",t,"records")),L={id:O.id,studentId:S,studentName:N.name,accessCode:N.accessCode||"",classId:f.id,className:f.name,grade:f.grade,eventId:m,eventName:b.name,score:A.score,date:_,mode:"competition",teamId:A.id,teamMembers:E,teamScore:A.score};l.set(O,{...L,createdAt:Ar(),updatedAt:Ar()}),d.add(D),r++}}}return r>0&&await l.commit(),console.log(`  : ${r} , ${i} `),{migrated:r,skipped:i}},Uh=Object.freeze(Object.defineProperty({__proto__:null,batchUpdateClasses:a5,batchUpdateEvents:s5,checkPrivacyConsent:o5,createAccessCodeMappingsBatch:I1,createClass:gY,createCompetition:zS,createRecordsBatch:d5,deleteClass:e5,deleteCompetitionDateRecords:u5,deleteEvent:pY,deleteEventRecords:m5,deletePracticeSession:c5,getGradeClasses:US,getGradeConfig:i5,getMyCompetitions:Q3,getPracticeRecordsByGrade:l5,getRecordsByAccessCode:h5,getStudentRecords:f5,migrateClassResultsToRecords:p5,saveCompetitionResults:qS,savePrivacyConsent:BS,subscribeToAllClasses:n5,subscribeToEvents:Z3,subscribeToGradeClasses:t5,updateClassStudents:J3,updateGradeConfig:r5},Symbol.toStringTag,{value:"Module"})),yY=({currentGrade:t,onSelectGrade:e,onSelectSettings:n,isSettingsActive:r,isCollapsed:i,onToggleCollapse:s,onClassManagementClick:l})=>{var U,P;const c=[1,2,3,4,5,6],{user:d,logout:f}=Pc(),[m,p]=w.useState(!1),[b,_]=w.useState(!1),A=w.useRef(null),[E,S]=w.useState(!1),[N,D]=w.useState(!1);w.useEffect(()=>{const C=()=>{S(window.innerWidth<768)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),w.useEffect(()=>{const C=()=>{const q=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;D(q)};C();const j=window.matchMedia("(display-mode: standalone)");return j.addEventListener("change",C),()=>j.removeEventListener("change",C)},[]);const O=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(C=>{C.forEach(j=>j.update())}),window.location.reload()};w.useEffect(()=>{const C=j=>{A.current&&!A.current.contains(j.target)&&p(!1)};return m&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[m]);const L=async()=>{try{await f(),p(!1)}catch(C){console.error(" :",C),alert("   .")}},V=async C=>{if(d)try{await BS({teacherId:d.uid,teacherEmail:d.email||"",version:C.version,termsAgreed:C.termsAgreed,dataCollectionAgreed:C.dataCollectionAgreed,marketingAgreed:C.marketingAgreed}),_(!1)}catch(j){throw console.error("  :",j),j}};return y.jsxs("div",{className:`${i?"w-20":"w-64"} bg-white border-r border-slate-200 flex flex-col h-[100dvh] flex-shrink-0 shadow-sm z-10 transition-all duration-300 overflow-hidden`,children:[y.jsxs("div",{className:`${i?"p-3":"p-3 md:p-4"} border-b border-slate-100 flex items-center justify-between gap-2 relative flex-shrink-0`,children:[y.jsx("div",{className:"bg-indigo-600 p-1.5 md:p-2 rounded-lg flex-shrink-0",children:y.jsx(el,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),!i&&y.jsx("h1",{className:"font-bold text-base md:text-lg text-slate-800 tracking-tight whitespace-nowrap truncate flex-1",children:" "}),y.jsxs("div",{className:"flex items-center gap-1",children:[N&&y.jsx("button",{onClick:O,className:"flex-shrink-0 p-1.5 rounded-md hover:bg-slate-100 active:bg-slate-200 text-slate-400 hover:text-indigo-600 transition-colors touch-manipulation",title:"",children:y.jsx($w,{className:"w-4 h-4"})}),y.jsx("button",{onClick:s,className:"flex-shrink-0 p-1.5 rounded-md hover:bg-slate-100 active:bg-slate-200 text-slate-400 hover:text-slate-600 transition-colors touch-manipulation",title:i?"":"",children:i?y.jsx(AE,{className:"w-4 h-4"}):y.jsx(KB,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto py-3 md:py-4 px-2 md:px-3 space-y-1 min-h-0 pb-0",children:[!i&&y.jsx("div",{className:"px-3 mb-2 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:" "}),c.map(C=>y.jsx("button",{onClick:()=>e(C),className:`w-full flex items-center justify-center ${i?"px-2 py-3.5":"gap-3 px-4 py-3.5"} rounded-lg text-sm font-medium transition-all touch-manipulation min-h-[44px] ${!r&&t===C?"bg-indigo-50 text-indigo-700 ring-1 ring-indigo-200 shadow-sm":"text-slate-600 hover:bg-slate-50 active:bg-slate-100 hover:text-slate-900"}`,title:i?`${C}`:"",children:i?y.jsxs("span",{className:"text-sm font-semibold",children:[C,""]}):y.jsxs(y.Fragment,{children:[y.jsx(ha,{className:`w-5 h-5 flex-shrink-0 ${!r&&t===C?"text-indigo-600":"text-slate-400"}`}),y.jsxs("span",{children:[C,""]})]})},C))]}),d&&y.jsxs("div",{className:`${i?"p-2 pb-4":"p-3 md:p-4 pb-4"} mt-auto border-t border-slate-100 relative flex-shrink-0 bg-white`,ref:A,children:[y.jsxs("button",{onClick:()=>p(!m),className:`w-full flex items-center ${i?"justify-center px-2":"gap-2 md:gap-3 px-3"} py-2.5 md:py-3 rounded-lg text-sm transition-all hover:bg-slate-50 active:bg-slate-100 group touch-manipulation min-h-[50px]`,title:i?d.displayName||d.email||"":"",children:[d.photoURL?y.jsx("img",{src:d.photoURL,alt:"",className:"w-8 h-8 md:w-9 md:h-9 rounded-full flex-shrink-0 border-2 border-slate-200 group-hover:border-indigo-300 transition-colors"}):y.jsx("div",{className:"w-8 h-8 md:w-9 md:h-9 rounded-full flex-shrink-0 bg-indigo-100 flex items-center justify-center",children:y.jsx("span",{className:"text-sm font-semibold text-indigo-600",children:((U=d.displayName)==null?void 0:U.charAt(0))||((P=d.email)==null?void 0:P.charAt(0))||"U"})}),!i&&y.jsxs("div",{className:"flex-1 text-left min-w-0",children:[y.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:d.displayName||""}),y.jsx("p",{className:"text-xs text-slate-500 truncate",children:d.email})]})]}),m&&y.jsxs("div",{className:`absolute ${i?"left-full ml-2 bottom-0":"left-2 right-2 md:left-4 md:right-4 bottom-full mb-2"} bg-white rounded-lg shadow-xl border border-slate-200 py-2 z-50 min-w-[200px] max-w-[280px]`,children:[y.jsxs("button",{onClick:()=>{p(!1),l()},className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors touch-manipulation",children:[y.jsx(ha,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),y.jsx("span",{children:" "})]}),y.jsx("div",{className:"h-px bg-slate-100 my-1"}),y.jsxs("button",{onClick:()=>{p(!1),n()},className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors touch-manipulation",children:[y.jsx(R8,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),y.jsx("span",{children:" "})]}),y.jsx("div",{className:"h-px bg-slate-100 my-1"}),y.jsxs("button",{onClick:()=>{p(!1),_(!0)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 active:bg-slate-100 transition-colors touch-manipulation",children:[y.jsx(D8,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),y.jsx("span",{children:" "})]}),y.jsx("div",{className:"h-px bg-slate-100 my-1"}),y.jsxs("button",{onClick:L,className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 active:bg-red-100 transition-colors touch-manipulation",children:[y.jsx(h8,{className:"w-4 h-4 flex-shrink-0"}),y.jsx("span",{children:""})]})]})]}),y.jsx(X3,{isOpen:b,onClose:()=>_(!1),onAgree:V,canClose:!0})]})},wr=({children:t,variant:e="primary",size:n="md",className:r="",...i})=>{const s="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus:ring-indigo-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"text-slate-600 hover:bg-slate-100 focus:ring-slate-500"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return y.jsx("button",{className:`${s} ${l[e]} ${c[n]} ${r}`,...i,children:t})},vY=({events:t,onUpdateEvents:e})=>{const[n,r]=w.useState(null),[i,s]=w.useState({}),[l,c]=w.useState("INDIVIDUAL"),d=()=>{const O={id:`evt_${Date.now()}`,name:" ",type:"INDIVIDUAL",description:""};e([...t,O]),r(O.id),s(O)},f=O=>{confirm("   ?         .")&&e(t.filter(L=>L.id!==O))},m=O=>{r(O.id),s({...O})},p=()=>{if(!i.name)return alert(" .");const O=t.map(L=>L.id===n?{...L,...i}:L);e(O),r(null),s({})},b=()=>{r(null),s({})},_=O=>{const L=O.name.replace(/\s*\d+$/,"").trim(),V=new RegExp(`^${L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(\\s+\\d+)?$`),U=t.filter($=>V.test($.name));let P=0;U.forEach($=>{const M=$.name.match(/(\d+)$/);if(M){const fe=parseInt(M[1]);fe>P&&(P=fe)}});const C=P===0&&U.length===1?`${L} 2`:`${L} ${P+1}`,j={...O,id:`evt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:C},q=t.findIndex($=>$.id===O.id),k=[...t.slice(0,q+1),j,...t.slice(q+1)];e(k)},A=t.filter(O=>O.type==="INDIVIDUAL"),E=t.filter(O=>O.type==="PAIR"),S=t.filter(O=>O.type==="TEAM"),N=l==="INDIVIDUAL"?A:l==="PAIR"?E:S,D=[{id:"INDIVIDUAL",label:"",count:A.length},{id:"PAIR",label:"",count:E.length},{id:"TEAM",label:"",count:S.length}];return y.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-slate-50",children:[y.jsx("div",{className:"bg-white border-b border-slate-200 px-8 py-6",children:y.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:" "}),y.jsx("p",{className:"text-slate-500 mt-1",children:"    ."})]}),y.jsxs(wr,{onClick:d,className:"gap-2",children:[y.jsx(E8,{className:"w-4 h-4"})," "]})]})}),y.jsx("div",{className:"flex border-b border-slate-200 bg-white px-8",children:y.jsx("div",{className:"max-w-6xl mx-auto w-full flex",children:D.map(O=>y.jsxs("button",{onClick:()=>c(O.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${l===O.id?"border-indigo-600 text-indigo-700":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[y.jsx("span",{children:O.label}),y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${l===O.id?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-500"}`,children:O.count})]},O.id))})}),y.jsx("div",{className:"flex-1 overflow-auto p-8",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900",children:[l==="INDIVIDUAL"&&" ",l==="PAIR"&&" ",l==="TEAM"&&" "]}),y.jsxs("p",{className:"text-slate-500 mt-1",children:[l==="INDIVIDUAL"&&"    .",l==="PAIR"&&"2     .",l==="TEAM"&&"    ."]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(O=>y.jsx("div",{className:`bg-white rounded-lg p-4 shadow-sm border transition-all ${n===O.id?"border-indigo-500 ring-1 ring-indigo-500":"border-slate-200 hover:border-slate-300"}`,children:n===O.id?y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-[10px] font-semibold text-slate-500 mb-1",children:""}),y.jsx("input",{type:"text",value:i.name,onChange:L=>s(V=>({...V,name:L.target.value})),className:"w-full px-2 py-1.5 text-sm border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:":  "})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-[10px] font-semibold text-slate-500 mb-1",children:" "}),y.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[y.jsx("button",{onClick:()=>s(L=>({...L,type:"INDIVIDUAL"})),className:`px-2 py-1.5 text-[10px] rounded border font-bold transition-colors ${i.type==="INDIVIDUAL"?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-slate-200 text-slate-600"}`,children:""}),y.jsx("button",{onClick:()=>s(L=>({...L,type:"PAIR"})),className:`px-2 py-1.5 text-[10px] rounded border font-bold transition-colors ${i.type==="PAIR"?"bg-green-50 border-green-500 text-green-700":"bg-white border-slate-200 text-slate-600"}`,children:""}),y.jsx("button",{onClick:()=>s(L=>({...L,type:"TEAM"})),className:`px-2 py-1.5 text-[10px] rounded border font-bold transition-colors ${i.type==="TEAM"?"bg-purple-50 border-purple-500 text-purple-700":"bg-white border-slate-200 text-slate-600"}`,children:""})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-[10px] font-semibold text-slate-500 mb-1",children:""}),y.jsx("input",{type:"text",value:i.description||"",onChange:L=>s(V=>({...V,description:L.target.value})),className:"w-full px-2 py-1.5 text-sm border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:" "})]}),y.jsxs("div",{className:"flex justify-end gap-2 pt-1",children:[y.jsx(wr,{variant:"secondary",size:"sm",onClick:b,children:y.jsx(ts,{className:"w-3 h-3"})}),y.jsx(wr,{size:"sm",onClick:p,children:y.jsx(IE,{className:"w-3 h-3"})})]})]}):y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`px-1.5 py-0.5 rounded text-[9px] font-bold uppercase ${O.type==="TEAM"?"bg-purple-100 text-purple-700":O.type==="PAIR"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:O.type==="TEAM"?"":O.type==="PAIR"?"":""}),y.jsx("h3",{className:"text-base font-bold text-slate-800 truncate",children:O.name})]}),O.description&&y.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:O.description})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs(wr,{variant:"secondary",size:"sm",onClick:()=>m(O),className:"flex-1",children:[y.jsx(NM,{className:"w-3 h-3 mr-1"}),y.jsx("span",{className:"text-xs",children:""})]}),y.jsx(wr,{variant:"secondary",size:"sm",onClick:()=>_(O),title:"  ",children:y.jsx(IM,{className:"w-3 h-3"})}),y.jsx(wr,{variant:"danger",size:"sm",onClick:()=>f(O.id),children:y.jsx($a,{className:"w-3 h-3"})})]})]})},O.id))})]})})]})},bY=({classes:t,activeEvents:e,onUpdateClasses:n,onEditParticipants:r,selectedDate:i,competitionId:s,grade:l,mode:c="competition"})=>{const{user:d}=Pc(),[f,m]=w.useState(new Set(e.map(M=>M.id))),[p,b]=w.useState(!1),[_,A]=w.useState(null),[E,S]=w.useState(null),[N,D]=w.useState(null),[O,L]=w.useState(!1),V=M=>{let fe=0;return e.forEach(be=>{const Y=M.results[be.id];Y&&(fe+=Y.score)}),fe},U=M=>{m(fe=>{const be=new Set(fe);return be.has(M)?be.delete(M):be.add(M),be})},P=M=>!f.has(M),C=()=>{const M=[];return t.forEach(fe=>{e.forEach(be=>{const Y=fe.results[be.id];Y&&(be.type==="INDIVIDUAL"&&Y.studentScores&&Object.entries(Y.studentScores).forEach(([H,Q])=>{const ee=fe.students.find(W=>W.id===H);!ee||!Q||M.push({studentId:ee.id,studentName:ee.name,accessCode:ee.accessCode||"",classId:fe.id,className:fe.name,grade:l,eventId:be.id,eventName:be.name,score:Q,date:i,mode:c})}),(be.type==="TEAM"||be.type==="PAIR")&&Y.teams&&Y.teams.forEach(H=>{var Q;(Q=H.memberIds)==null||Q.forEach(ee=>{var F;const W=fe.students.find(X=>X.id===ee);W&&M.push({studentId:W.id,studentName:W.name,accessCode:W.accessCode||"",classId:fe.id,className:fe.name,grade:l,eventId:be.id,eventName:be.name,score:0,date:i,mode:c,teamId:H.id,teamMembers:(F=H.memberIds)==null?void 0:F.map(X=>{const J=fe.students.find(ce=>ce.id===X);return(J==null?void 0:J.name)||""}).filter(Boolean),teamScore:H.score})})}))})}),M},j=async()=>{if(!(!N||!(d!=null&&d.uid))){L(!0);try{const M=t.map(Y=>Y.id),fe=await m5(d.uid,M,N.eventId,i),be=await US(d.uid,s,l);n(be),A(` "${N.eventName}"  . (${fe.recordsDeleted} )`),setTimeout(()=>A(null),3e3)}catch(M){console.error("   :",M),A("   ."),setTimeout(()=>A(null),3e3)}finally{L(!1),D(null)}}},q=async()=>{console.log(`
===     ===`),console.log("  :",i),console.log(" :",c),console.log("   :",t.map(M=>({id:M.id,name:M.name,resultsCount:Object.keys(M.results||{}).length,results:M.results}))),b(!0),A(null);try{if(await qS(d.uid,t),console.log(" saveCompetitionResults  ( )"),d!=null&&d.uid){const be=C();be.length>0&&(await d5(d.uid,be),console.log(` createRecordsBatch  (${be.length} )`))}else console.warn("     records   ");console.log(" Firestore    ...");const{getGradeClasses:M}=await wh(async()=>{const{getGradeClasses:be}=await Promise.resolve().then(()=>Uh);return{getGradeClasses:be}},void 0),fe=await M(d.uid,s,l);console.log("    :",fe.length," "),console.log("     ..."),n(fe),console.log("     "),A("   !"),setTimeout(()=>A(null),3e3)}catch(M){console.error("  :",M),A("  ."),setTimeout(()=>A(null),3e3)}finally{b(!1),console.log(`===     ===
`)}},k=(M,fe,be,Y)=>{const H=t.map(Q=>{if(Q.id!==M)return Q;const ee=Q.results[fe]||{score:0},F={...ee.studentScores||{},[be]:Y},J=(ee.participantIds||[]).reduce((ce,Ae)=>ce+(F[Ae]||0),0);return{...Q,results:{...Q.results,[fe]:{...ee,studentScores:F,score:J,date:i}}}});n(H)},$=(M,fe,be,Y)=>{const H=t.map(Q=>{if(Q.id!==M)return Q;const ee=Q.results[fe];if(!ee||!ee.teams)return Q;const W=ee.teams.map(X=>X.id===be?{...X,score:Y}:X),F=W.reduce((X,J)=>X+J.score,0);return{...Q,results:{...Q.results,[fe]:{...ee,teams:W,score:F,date:i}}}});n(H)};return t.length===0?y.jsx("div",{className:"bg-white rounded-lg p-8 text-center text-slate-400",children:"  .   ."}):e.length===0?y.jsx("div",{className:"bg-white rounded-lg p-8 text-center text-slate-400",children:"  .     ."}):y.jsxs("div",{className:"overflow-x-auto",children:[y.jsxs("table",{className:"w-full border-collapse bg-white shadow-sm rounded-lg overflow-hidden",children:[y.jsx("thead",{className:"sticky top-0 z-20",children:y.jsxs("tr",{className:"bg-gradient-to-r from-indigo-600/30 to-indigo-500/30 text-slate-900",children:[y.jsx("th",{className:"sticky left-0 z-30 bg-indigo-600/30 px-4 py-3 text-left text-sm font-bold w-[160px] border-r border-indigo-500/30"}),t.map(M=>{const fe=V(M);return y.jsx("th",{className:"px-4 py-3 text-center border-r border-indigo-500/30 last:border-r-0",style:{minWidth:"180px",flex:"1 1 0"},children:y.jsxs("div",{className:"text-2xl font-black",children:[M.name," (",fe,")"]})},M.id)})]})}),y.jsx("tbody",{children:e.map((M,fe)=>{const be=P(M.id),Y=fe%2===0;return y.jsxs("tr",{className:`${Y?"bg-white":"bg-slate-50"} border-b border-slate-200`,children:[y.jsx("td",{className:`sticky left-0 z-10 ${Y?"bg-indigo-50":"bg-indigo-100/50"} px-3 py-2 border-r-2 border-indigo-200 w-[160px]`,children:y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsxs("button",{onClick:()=>U(M.id),className:"flex items-center gap-2 flex-1 text-left hover:text-indigo-700 transition-colors min-w-0",children:[be?y.jsx(Sv,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}):y.jsx(AE,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),y.jsx("div",{className:"flex-1 min-w-0",children:y.jsxs("div",{className:"font-bold text-sm text-slate-900 truncate whitespace-nowrap",children:[M.name,y.jsx("span",{className:`ml-1 text-[10px] px-1.5 py-0.5 rounded font-normal ${M.type==="TEAM"?"bg-purple-100 text-purple-700":M.type==="PAIR"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:M.type==="TEAM"?"":M.type==="PAIR"?"":""})]})})]}),y.jsx("button",{onClick:H=>{H.stopPropagation(),D({eventId:M.id,eventName:M.name})},className:"p-1 hover:bg-red-100 rounded transition-colors flex-shrink-0",title:`${M.name}  `,children:y.jsx($a,{className:"w-3.5 h-3.5 text-red-400 hover:text-red-600"})})]})}),t.map(H=>{var F,X;const Q=H.results[M.id],ee=(Q==null?void 0:Q.score)||0;let W=0;return M.type==="INDIVIDUAL"?W=((F=Q==null?void 0:Q.participantIds)==null?void 0:F.length)||0:(M.type==="TEAM"||M.type==="PAIR")&&(Q!=null&&Q.teams&&Q.teams.length>0?W=new Set(Q.teams.flatMap(ce=>ce.memberIds)).size:W=((X=Q==null?void 0:Q.teamParticipantIds)==null?void 0:X.length)||0),y.jsxs("td",{className:`px-3 py-3 border-r border-slate-200 last:border-r-0 align-top ${Y?"bg-white":"bg-slate-50"}`,children:[!be&&y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl font-bold text-indigo-700",children:ee}),y.jsxs("div",{className:"text-[10px] text-slate-400 mt-1",children:[W,""]})]}),be&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"bg-indigo-50 rounded-lg p-2 border border-indigo-200 text-center",children:[y.jsx("div",{className:"text-2xl font-bold text-indigo-700",children:ee}),y.jsxs("div",{className:"text-[10px] text-slate-400",children:[W," "]})]}),M.type==="INDIVIDUAL"&&y.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 border border-slate-200",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase",children:" "}),r&&y.jsxs("button",{onClick:J=>{J.stopPropagation(),r(M.id,H.id)},className:"flex items-center gap-1 px-2 py-1 text-[10px] text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"  ",children:[y.jsx(oC,{className:"w-3 h-3"})," "]})]}),Q!=null&&Q.participantIds&&Q.participantIds.length>0?y.jsx("div",{className:"space-y-2",children:Q.participantIds.map(J=>{var _e;const ce=H.students.find(Ee=>Ee.id===J);if(!ce)return null;const Ae=((_e=Q==null?void 0:Q.studentScores)==null?void 0:_e[J])||0;return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-base font-bold text-slate-900 flex-1 truncate min-w-[60px]",children:ce.name}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),k(H.id,M.id,J,Math.max(0,Ae-10))},className:"w-8 h-8 flex items-center justify-center bg-slate-100 hover:bg-slate-200 text-slate-600 rounded border border-slate-300 transition-colors text-xs font-medium touch-manipulation active:bg-slate-300",children:"-10"}),y.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),k(H.id,M.id,J,Math.max(0,Ae-5))},className:"w-7 h-8 flex items-center justify-center bg-slate-100 hover:bg-slate-200 text-slate-600 rounded border border-slate-300 transition-colors text-xs font-medium touch-manipulation active:bg-slate-300",children:"-5"}),y.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),k(H.id,M.id,J,Math.max(0,Ae-1))},className:"w-6 h-8 flex items-center justify-center bg-slate-100 hover:bg-slate-200 text-slate-600 rounded border border-slate-300 transition-colors text-xs font-medium touch-manipulation active:bg-slate-300",children:"-1"}),y.jsx("input",{type:"number",value:Ae||"",onChange:Ee=>k(H.id,M.id,J,parseInt(Ee.target.value)||0),className:"w-14 h-8 px-2 text-sm text-center font-bold border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none bg-white text-indigo-700 touch-manipulation [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",onClick:Ee=>Ee.stopPropagation()}),y.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),k(H.id,M.id,J,Ae+1)},className:"w-6 h-8 flex items-center justify-center bg-indigo-100 hover:bg-indigo-200 text-indigo-600 rounded border border-indigo-300 transition-colors text-xs font-medium touch-manipulation active:bg-indigo-300",children:"+1"}),y.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),k(H.id,M.id,J,Ae+5)},className:"w-7 h-8 flex items-center justify-center bg-indigo-100 hover:bg-indigo-200 text-indigo-600 rounded border border-indigo-300 transition-colors text-xs font-medium touch-manipulation active:bg-indigo-300",children:"+5"}),y.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),k(H.id,M.id,J,Ae+10)},className:"w-8 h-8 flex items-center justify-center bg-indigo-100 hover:bg-indigo-200 text-indigo-600 rounded border border-indigo-300 transition-colors text-xs font-medium touch-manipulation active:bg-indigo-300",children:"+10"})]})]},J)})}):y.jsxs("div",{className:"text-center py-3",children:[y.jsx("p",{className:"text-xs text-slate-500",children:"   ."}),y.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"   ."})]})]}),(M.type==="TEAM"||M.type==="PAIR")&&y.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 border border-slate-200",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase",children:" "}),y.jsxs("div",{className:"flex items-center gap-1",children:[M.type==="TEAM"&&(Q==null?void 0:Q.teams)&&Q.teams.length>0&&y.jsxs("button",{onClick:J=>{var Ae;J.stopPropagation();const ce=((Ae=Q.teams)==null?void 0:Ae.flatMap(_e=>{var Ee;return((Ee=_e.memberIds)==null?void 0:Ee.map(Je=>{const le=H.students.find(Ne=>Ne.id===Je);return(le==null?void 0:le.name)||""}).filter(Je=>Je))||[]}))||[];ce.length>0&&S({members:ce})},className:"flex items-center gap-1 px-2 py-1 text-[10px] text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"  ",children:[y.jsx(ha,{className:"w-3 h-3"}),""]}),r&&y.jsxs("button",{onClick:J=>{J.stopPropagation(),r(M.id,H.id)},className:"flex items-center gap-1 px-2 py-1 text-[10px] text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"  ",children:[y.jsx(oC,{className:"w-3 h-3"})," "]})]})]}),Q!=null&&Q.teams&&Q.teams.length>0?y.jsx("div",{className:"space-y-2",children:Q.teams.map(J=>{var Ae;const ce=((Ae=J.memberIds)==null?void 0:Ae.map(_e=>{const Ee=H.students.find(Je=>Je.id===_e);return(Ee==null?void 0:Ee.name)||""}).filter(_e=>_e))||[];return y.jsxs("div",{className:"flex items-center gap-2",children:[M.type==="PAIR"&&ce.length>0&&y.jsx("span",{className:"text-sm font-bold text-slate-900 min-w-[80px]",children:ce.join(", ")}),y.jsxs("div",{className:`flex items-center gap-1 ${M.type==="TEAM"?"mx-auto":"ml-auto"}`,children:[y.jsx("button",{onClick:_e=>{_e.stopPropagation(),$(H.id,M.id,J.id,Math.max(0,J.score-10))},className:"w-8 h-8 flex items-center justify-center bg-slate-100 hover:bg-slate-200 text-slate-600 rounded border border-slate-300 transition-colors text-xs font-medium touch-manipulation active:bg-slate-300",children:"-10"}),y.jsx("button",{onClick:_e=>{_e.stopPropagation(),$(H.id,M.id,J.id,Math.max(0,J.score-5))},className:"w-7 h-8 flex items-center justify-center bg-slate-100 hover:bg-slate-200 text-slate-600 rounded border border-slate-300 transition-colors text-xs font-medium touch-manipulation active:bg-slate-300",children:"-5"}),y.jsx("button",{onClick:_e=>{_e.stopPropagation(),$(H.id,M.id,J.id,Math.max(0,J.score-1))},className:"w-6 h-8 flex items-center justify-center bg-slate-100 hover:bg-slate-200 text-slate-600 rounded border border-slate-300 transition-colors text-xs font-medium touch-manipulation active:bg-slate-300",children:"-1"}),y.jsx("input",{type:"number",value:J.score||"",onChange:_e=>$(H.id,M.id,J.id,parseInt(_e.target.value)||0),className:"w-16 h-8 px-2 text-base text-center font-bold border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none bg-white text-indigo-700 touch-manipulation [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",onClick:_e=>_e.stopPropagation()}),y.jsx("button",{onClick:_e=>{_e.stopPropagation(),$(H.id,M.id,J.id,J.score+1)},className:"w-6 h-8 flex items-center justify-center bg-indigo-100 hover:bg-indigo-200 text-indigo-600 rounded border border-indigo-300 transition-colors text-xs font-medium touch-manipulation active:bg-indigo-300",children:"+1"}),y.jsx("button",{onClick:_e=>{_e.stopPropagation(),$(H.id,M.id,J.id,J.score+5)},className:"w-7 h-8 flex items-center justify-center bg-indigo-100 hover:bg-indigo-200 text-indigo-600 rounded border border-indigo-300 transition-colors text-xs font-medium touch-manipulation active:bg-indigo-300",children:"+5"}),y.jsx("button",{onClick:_e=>{_e.stopPropagation(),$(H.id,M.id,J.id,J.score+10)},className:"w-8 h-8 flex items-center justify-center bg-indigo-100 hover:bg-indigo-200 text-indigo-600 rounded border border-indigo-300 transition-colors text-xs font-medium touch-manipulation active:bg-indigo-300",children:"+10"})]})]},J.id)})}):y.jsxs("div",{className:"text-center py-3",children:[y.jsx("p",{className:"text-xs text-slate-500",children:"  ."}),y.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"   ."})]})]})]})]},H.id)})]},M.id)})})]}),y.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white border-t-2 border-indigo-200 px-6 py-4 flex items-center justify-between shadow-lg",children:[y.jsx("div",{className:"flex-1",children:_&&y.jsx("p",{className:`text-sm font-medium ${_.startsWith("")?"text-green-600":"text-red-600"}`,children:_})}),y.jsxs("button",{onClick:q,disabled:p,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-md",children:[y.jsx(IE,{className:"w-5 h-5"}),p?" ...":"  "]})]}),E&&y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>S(null),children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full mx-4",onClick:M=>M.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[y.jsx(ha,{className:"w-5 h-5 text-indigo-600"}),"  (",E.members.length,")"]}),y.jsx("button",{onClick:()=>S(null),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:y.jsx(ts,{className:"w-5 h-5 text-slate-500"})})]}),y.jsx("div",{className:"grid grid-cols-5 gap-2",children:E.members.map((M,fe)=>y.jsx("div",{className:"px-2 py-1.5 bg-slate-100 rounded text-center text-sm font-medium text-slate-700",children:M},fe))}),y.jsx("button",{onClick:()=>S(null),className:"mt-4 w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:""})]})}),N&&y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>!O&&D(null),children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full mx-4",onClick:M=>M.stopPropagation(),children:[y.jsx("div",{className:"flex items-center justify-center mb-4",children:y.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:y.jsx($a,{className:"w-6 h-6 text-red-600"})})}),y.jsx("h3",{className:"text-lg font-bold text-slate-900 text-center mb-2",children:" "}),y.jsxs("p",{className:"text-sm text-slate-600 text-center mb-4",children:[y.jsxs("strong",{children:['"',N.eventName,'"']}),"",y.jsx("br",{}),i,"  ?"]}),y.jsx("p",{className:"text-xs text-red-500 text-center mb-6",children:"    ."}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>D(null),disabled:O,className:"flex-1 py-2.5 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors font-medium disabled:opacity-50",children:""}),y.jsx("button",{onClick:j,disabled:O,className:"flex-1 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:O?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})," ..."]}):y.jsxs(y.Fragment,{children:[y.jsx($a,{className:"w-4 h-4"}),""]})})]})]})})]})};class xY{constructor(){this.audioContext=null,this.audioBuffers=new Map,this.currentSource=null,this.isUnlocked=!1,this.loadingPromises=new Map}getContext(){return this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext}async unlock(){if(this.isUnlocked)return;const e=this.getContext();e.state==="suspended"&&await e.resume();const n=e.createBuffer(1,1,22050),r=e.createBufferSource();r.buffer=n,r.connect(e.destination),r.start(0),this.isUnlocked=!0,console.log(" Audio unlocked")}async load(e){if(this.audioBuffers.has(e))return this.audioBuffers.get(e);if(this.loadingPromises.has(e))return this.loadingPromises.get(e);const n=(async()=>{const r=this.getContext(),s=await(await fetch(e)).arrayBuffer(),l=await r.decodeAudioData(s);return this.audioBuffers.set(e,l),this.loadingPromises.delete(e),console.log(` Audio loaded: ${e}`),l})();return this.loadingPromises.set(e,n),n}async play(e){await this.unlock();const n=this.getContext(),r=await this.load(e);this.stop();const i=n.createBufferSource();i.buffer=r,i.connect(n.destination);const s=n.currentTime;return i.start(0),this.currentSource=i,console.log(` Audio playing: ${e}`),{startTime:s}}stop(){if(this.currentSource){try{this.currentSource.stop()}catch{}this.currentSource=null,console.log(" Audio stopped")}}getCurrentTime(){var e;return((e=this.audioContext)==null?void 0:e.currentTime)||0}}const Vi=new xY,_Y=({selectedDate:t,onDateChange:e,showDatePicker:n=!0})=>{const[r,i]=w.useState(0),[s,l]=w.useState(30),[c,d]=w.useState(30),[f,m]=w.useState("idle"),[p,b]=w.useState(!1),[_,A]=w.useState(!1),E=w.useRef(null),S=w.useRef(null),N=w.useRef(null),D=w.useRef(null),O=1800,V=typeof navigator<"u"&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)?300:0;w.useEffect(()=>((async()=>{try{await Promise.all([Vi.load("/sounds/30sec.mp3"),Vi.load("/sounds/60sec.mp3")]),A(!0),console.log(" All audio preloaded")}catch(F){console.error("Audio preload failed:",F)}})(),()=>{Vi.stop()}),[]),w.useEffect(()=>{const W=async()=>{await Vi.unlock(),document.removeEventListener("touchstart",W),document.removeEventListener("click",W)};return document.addEventListener("touchstart",W,{once:!0}),document.addEventListener("click",W,{once:!0}),()=>{document.removeEventListener("touchstart",W),document.removeEventListener("click",W)}},[]);const U=r*60+s,P=W=>{const F=Math.floor(W/60),X=W%60;return`${F}:${X.toString().padStart(2,"0")}`},C=()=>{f==="idle"&&i(W=>Math.min(W+1,99))},j=()=>{f==="idle"&&i(W=>Math.max(W-1,0))},q=()=>{f==="idle"&&l(W=>{const F=W+10;return F>=60?(i(X=>Math.min(X+1,99)),F-60):F})},k=()=>{f==="idle"&&l(W=>{const F=W-10;return F<0&&r>0?(i(X=>X-1),60+F):Math.max(F,0)})},$=w.useCallback(async()=>{i(0),l(30),d(30),m("ready"),b(!0);try{await Vi.unlock(),await Vi.play("/sounds/30sec.mp3");const W=O+V;S.current=setTimeout(()=>{m("running"),N.current=Date.now()+3e4},W)}catch(W){console.error("30sec preset failed:",W),m("running"),N.current=Date.now()+3e4}},[V]),M=w.useCallback(async()=>{i(1),l(0),d(60),m("ready"),b(!0);try{await Vi.unlock(),await Vi.play("/sounds/60sec.mp3");const W=O+V;S.current=setTimeout(()=>{m("running"),N.current=Date.now()+6e4},W)}catch(W){console.error("60sec preset failed:",W),m("running"),N.current=Date.now()+6e4}},[V]),fe=w.useCallback(async()=>{U<=0||(d(U),m("running"),b(!0),N.current=Date.now()+U*1e3,await Vi.unlock())},[U]),be=w.useCallback(()=>{try{const W=new(window.AudioContext||window.webkitAudioContext),F=W.createOscillator(),X=W.createGain();F.connect(X),X.connect(W.destination),F.frequency.value=880,F.type="sine",X.gain.setValueAtTime(.5,W.currentTime),X.gain.exponentialRampToValueAtTime(.01,W.currentTime+.5),F.start(W.currentTime),F.stop(W.currentTime+.5),setTimeout(()=>{const J=W.createOscillator(),ce=W.createGain();J.connect(ce),ce.connect(W.destination),J.frequency.value=880,J.type="sine",ce.gain.setValueAtTime(.5,W.currentTime),ce.gain.exponentialRampToValueAtTime(.01,W.currentTime+.5),J.start(W.currentTime),J.stop(W.currentTime+.5)},200),setTimeout(()=>{const J=W.createOscillator(),ce=W.createGain();J.connect(ce),ce.connect(W.destination),J.frequency.value=1320,J.type="sine",ce.gain.setValueAtTime(.6,W.currentTime),ce.gain.exponentialRampToValueAtTime(.01,W.currentTime+.8),J.start(W.currentTime),J.stop(W.currentTime+.8)},400)}catch(W){console.error("Beep failed:",W)}},[]),Y=()=>{if(N.current){const W=Math.ceil((N.current-Date.now())/1e3);D.current=Math.max(0,W)}m("paused"),Vi.stop(),N.current=null},H=()=>{const W=D.current??c;N.current=Date.now()+W*1e3,D.current=null,m("running")},Q=()=>{m("idle"),d(U),b(!1),Vi.stop(),N.current=null,D.current=null,E.current&&(clearInterval(E.current),E.current=null),S.current&&(clearTimeout(S.current),S.current=null)},ee=()=>{if(b(!1),f==="running"||f==="ready"){if(N.current){const W=Math.ceil((N.current-Date.now())/1e3);D.current=Math.max(0,W)}m("paused"),Vi.stop(),N.current=null}S.current&&(clearTimeout(S.current),S.current=null)};return w.useEffect(()=>{f==="idle"&&d(U)},[U,f]),w.useEffect(()=>(f==="running"?(N.current===null&&(N.current=Date.now()+c*1e3),E.current=setInterval(()=>{if(N.current===null)return;const W=Date.now(),F=Math.ceil((N.current-W)/1e3);F<=0?(d(0),m("finished"),E.current&&(clearInterval(E.current),E.current=null),N.current=null,be(),navigator.vibrate&&navigator.vibrate([200,100,200]),setTimeout(()=>{b(!1)},2e3)):d(F)},50)):E.current&&(clearInterval(E.current),E.current=null),()=>{E.current&&(clearInterval(E.current),E.current=null)}),[f,be]),y.jsxs(y.Fragment,{children:[!p&&y.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 mb-6 shadow-sm border border-blue-100",children:y.jsxs("div",{className:`${n?"grid grid-cols-10 gap-4":"flex"} items-center`,children:[n&&y.jsxs("div",{className:"col-span-2 flex flex-col gap-2",children:[y.jsxs("label",{className:"text-xs font-bold text-slate-700 flex items-center gap-1.5",children:[y.jsx(Zl,{className:"w-3.5 h-3.5 text-indigo-600"})," "]}),y.jsx("input",{type:"date",value:t||"",onChange:W=>e==null?void 0:e(W.target.value),className:"px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white"})]}),y.jsxs("div",{className:`${n?"col-span-8":"flex-1"} flex items-center justify-between gap-4`,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(z8,{className:"w-4 h-4 text-indigo-600"}),y.jsx("h3",{className:"text-xs font-bold text-slate-900",children:""})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("button",{onClick:j,className:"w-10 h-7 flex items-center justify-center bg-slate-100 hover:bg-slate-200 text-slate-700 rounded border border-slate-300 transition-colors text-xs font-medium touch-manipulation active:bg-slate-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:f!=="idle",children:"-1"}),y.jsx("button",{onClick:k,className:"w-10 h-7 flex items-center justify-center bg-slate-100 hover:bg-slate-200 text-slate-700 rounded border border-slate-300 transition-colors text-xs font-medium touch-manipulation active:bg-slate-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:f!=="idle",children:"-10"}),y.jsx("button",{onClick:()=>{if(f==="idle"){const W=r*60+s;if(W>0){const F=W-1;i(Math.floor(F/60)),l(F%60)}}},className:"w-10 h-7 flex items-center justify-center bg-slate-100 hover:bg-slate-200 text-slate-700 rounded border border-slate-300 transition-colors text-xs font-medium touch-manipulation active:bg-slate-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:f!=="idle",children:"-1"}),y.jsx("div",{className:"text-xl font-black text-indigo-700 px-2",children:P(U)}),y.jsx("button",{onClick:()=>{if(f==="idle"){const F=r*60+s+1;i(Math.floor(F/60)),l(F%60)}},className:"w-10 h-7 flex items-center justify-center bg-indigo-100 hover:bg-indigo-200 text-indigo-700 rounded border border-indigo-300 transition-colors text-xs font-medium touch-manipulation active:bg-indigo-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:f!=="idle",children:"+1"}),y.jsx("button",{onClick:q,className:"w-10 h-7 flex items-center justify-center bg-indigo-100 hover:bg-indigo-200 text-indigo-700 rounded border border-indigo-300 transition-colors text-xs font-medium touch-manipulation active:bg-indigo-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:f!=="idle",children:"+10"}),y.jsx("button",{onClick:C,className:"w-10 h-7 flex items-center justify-center bg-indigo-100 hover:bg-indigo-200 text-indigo-700 rounded border border-indigo-300 transition-colors text-xs font-medium touch-manipulation active:bg-indigo-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:f!=="idle",children:"+1"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:fe,className:"px-3 py-2 bg-green-600 hover:bg-green-700 text-white text-xs font-bold rounded-lg transition-colors flex items-center gap-1 shadow-md disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation active:bg-green-800",disabled:f==="running"||U<=0,title:"   ",children:[y.jsx(lC,{className:"w-3 h-3"}),""]}),y.jsxs("button",{onClick:$,className:"px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-xs font-bold rounded-lg transition-colors flex items-center gap-1 shadow-md disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation active:bg-indigo-800",disabled:f==="running"||!_,title:"30   ",children:[y.jsx(sC,{className:"w-3 h-3"}),"30"]}),y.jsxs("button",{onClick:M,className:"px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-xs font-bold rounded-lg transition-colors flex items-center gap-1 shadow-md disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation active:bg-indigo-800",disabled:f==="running"||!_,title:"60   ",children:[y.jsx(sC,{className:"w-3 h-3"}),"60"]})]})]})]})}),p&&y.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex flex-col items-center justify-center",children:[y.jsx("div",{className:`text-white font-black transition-all ${f==="finished"?"text-red-500 animate-pulse":""}`,style:{fontSize:"20rem",lineHeight:"1"},children:P(c)}),y.jsxs("div",{className:"mt-8 text-white/60 text-xl font-medium",children:[f==="ready"&&"...",f==="running"&&" ",f==="paused"&&"",f==="finished"&&"!"]}),y.jsxs("div",{className:"mt-16 flex gap-4",children:[(f==="running"||f==="ready")&&y.jsxs("button",{onClick:Y,className:"px-8 py-4 bg-yellow-500 hover:bg-yellow-600 text-white text-lg font-bold rounded-xl transition-colors flex items-center gap-3 shadow-lg touch-manipulation active:bg-yellow-700",disabled:f==="ready",children:[y.jsx(v8,{className:"w-6 h-6"}),""]}),f==="paused"&&y.jsxs("button",{onClick:H,className:"px-8 py-4 bg-green-500 hover:bg-green-600 text-white text-lg font-bold rounded-xl transition-colors flex items-center gap-3 shadow-lg touch-manipulation active:bg-green-700",children:[y.jsx(lC,{className:"w-6 h-6"}),""]}),y.jsxs("button",{onClick:Q,className:"px-8 py-4 bg-slate-600 hover:bg-slate-700 text-white text-lg font-bold rounded-xl transition-colors flex items-center gap-3 shadow-lg touch-manipulation active:bg-slate-800",children:[y.jsx(I8,{className:"w-6 h-6"}),""]}),y.jsxs("button",{onClick:ee,className:"px-8 py-4 bg-red-600 hover:bg-red-700 text-white text-lg font-bold rounded-xl transition-colors flex items-center gap-3 shadow-lg touch-manipulation active:bg-red-800",children:[y.jsx(ts,{className:"w-6 h-6"}),""]})]})]})]})},lR="ABCDEFGHJKMNPQRSTUVWXYZ23456789";function wY(){let t="";for(let e=0;e<4;e++)t+=lR[Math.floor(Math.random()*lR.length)];return t}function Iy(t,e=100){const n=new Set(t);for(let i=0;i<e;i++){const s=wY();if(!n.has(s))return s}return Date.now().toString(36).toUpperCase().slice(-4).padStart(4,"A")}const g5=({grade:t,onSubmit:e,onClose:n})=>{const[r,i]=w.useState(t||1),[s,l]=w.useState(""),[c,d]=w.useState(""),f=m=>{if(m.preventDefault(),!s.trim()){alert(" .");return}if(!c.trim()){alert("  .");return}const p=[],b=c.split(/[,\n]/).map(_=>_.trim()).filter(_=>_.length>0).map((_,A)=>{const E=Iy(p);return p.push(E),{id:`std_${Date.now()}_${A}`,name:_,accessCode:E}});if(b.length===0){alert(" 1   .");return}e(r,s.trim(),b)};return y.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:m=>m.stopPropagation(),children:[y.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white px-6 py-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:y.jsx(ey,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold",children:"  "}),y.jsx("p",{className:"text-sm text-indigo-100",children:"  "})]})]}),y.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:y.jsx(ts,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:f,className:"flex-1 overflow-y-auto flex flex-col",children:[y.jsx("div",{className:"flex-1 p-6",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:[" ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("select",{value:r,onChange:m=>i(Number(m.target.value)),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-lg bg-white",children:[1,2,3,4,5,6].map(m=>y.jsxs("option",{value:m,children:[m,""]},m))})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:[" ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",value:s,onChange:m=>l(m.target.value),placeholder:": 1, ",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-lg",autoFocus:!0})]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-bold text-slate-900 mb-2",children:["  ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("textarea",{value:c,onChange:m=>d(m.target.value),placeholder:`


`,className:"w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none h-64 resize-none leading-relaxed text-base"}),y.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[y.jsx(ha,{className:"w-3 h-3 inline mr-1"}),"  ",y.jsx("strong",{children:"()"}),"  (,)  ."]})]}),c.trim()&&y.jsxs("div",{className:"bg-indigo-50 rounded-xl p-3 border-2 border-indigo-100",children:[y.jsxs("h4",{className:"text-xs font-bold text-indigo-900 mb-2 uppercase tracking-wider",children:["   (",c.split(/[,\n]/).filter(m=>m.trim().length>0).length,")"]}),y.jsx("div",{className:"flex flex-wrap gap-1.5 max-h-32 overflow-y-auto",children:c.split(/[,\n]/).map(m=>m.trim()).filter(m=>m.length>0).map((m,p)=>y.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs bg-white text-slate-700 border border-indigo-200 font-medium",children:m},p))})]})]})}),y.jsxs("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-end gap-3 bg-slate-50",children:[y.jsx(wr,{variant:"secondary",onClick:n,type:"button",children:""}),y.jsx(wr,{type:"submit",children:" "})]})]})]})})},EY=({event:t,classes:e,existingData:n,onSave:r,onClose:i})=>{const[s,l]=w.useState(n),[c,d]=w.useState(new Set(e.map(E=>E.id))),f=E=>{d(S=>{const N=new Set(S);return N.has(E)?N.delete(E):N.add(E),N})},m=E=>{const S=e.find(D=>D.id===E);if(!S)return;(s[E]||[]).length===S.students.length?l(D=>({...D,[E]:[]})):l(D=>({...D,[E]:S.students.map(O=>O.id)}))},p=(E,S)=>{l(N=>{const D=N[E]||[],O=D.includes(S)?D.filter(L=>L!==S):[...D,S];return{...N,[E]:O}})},b=(E,S)=>{var N;return((N=s[E])==null?void 0:N.includes(S))||!1},_=()=>Object.values(s).reduce((E,S)=>E+S.length,0),A=()=>{r(s)};return y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:i,children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:E=>E.stopPropagation(),children:[y.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-6 py-4 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-lg font-bold",children:[t.name," -   "]}),y.jsxs("p",{className:"text-sm text-blue-100",children:["  (",e.length," )"]})]}),y.jsx("button",{onClick:i,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:y.jsx(ts,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:"   "}),y.jsx("p",{className:"text-xs text-slate-600",children:"     "})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"text-3xl font-black text-blue-600",children:[_(),""]}),y.jsx("div",{className:"text-xs text-slate-500",children:" "})]})]}),e.map(E=>{var D;const S=c.has(E.id),N=((D=s[E.id])==null?void 0:D.length)||0;return y.jsxs("div",{className:"border-2 border-slate-200 rounded-xl overflow-hidden",children:[y.jsxs("div",{className:"w-full bg-slate-50 px-4 py-3 flex items-center justify-between",children:[y.jsxs("button",{onClick:()=>f(E.id),className:"flex items-center gap-3 flex-1 hover:opacity-80 transition-opacity",children:[y.jsx("div",{className:"font-bold text-lg text-slate-900",children:E.name}),y.jsxs("div",{className:"text-sm text-slate-500",children:["(",E.students.length,")"]}),y.jsxs("div",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-sm font-bold",children:[N," "]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:O=>{O.stopPropagation(),m(E.id)},className:`text-xs px-3 py-1.5 rounded-md font-medium transition-colors ${N===E.students.length?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:N===E.students.length?" ":" "}),y.jsx("button",{onClick:()=>f(E.id),className:"p-1 hover:bg-slate-200 rounded transition-colors",children:S?y.jsx(TM,{className:"w-5 h-5 text-slate-400"}):y.jsx(Sv,{className:"w-5 h-5 text-slate-400"})})]})]}),S&&y.jsx("div",{className:"p-4 bg-white",children:y.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-1.5",children:E.students.map(O=>{const L=b(E.id,O.id);return y.jsxs("button",{type:"button",onClick:()=>p(E.id,O.id),className:`px-2 py-1.5 rounded-md border-2 transition-all font-medium text-xs flex items-center justify-center ${L?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-slate-700 border-slate-200 hover:border-blue-300 hover:bg-blue-50"}`,children:[y.jsx("span",{className:"truncate",children:O.name}),L&&y.jsx(Jg,{className:"w-3 h-3 ml-1 flex-shrink-0"})]},O.id)})})})]},E.id)}),_()===0&&y.jsx("div",{className:"bg-orange-50 rounded-lg p-3 border border-orange-200",children:y.jsx("p",{className:"text-sm text-orange-700",children:"  1   ."})})]})}),y.jsxs("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-between items-center bg-slate-50",children:[y.jsxs("div",{className:"text-sm text-slate-600",children:[" ",y.jsxs("span",{className:"font-bold text-blue-600",children:[_(),""]})," "]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx(wr,{variant:"secondary",onClick:i,type:"button",children:""}),y.jsx(wr,{onClick:A,type:"button",disabled:_()===0,children:""})]})]})]})})},SY=({event:t,classes:e,existingData:n,onSave:r,onClose:i})=>{const[s,l]=w.useState(n),[c,d]=w.useState({}),[f,m]=w.useState(new Set(e.map(L=>L.id)));w.useEffect(()=>{t.type==="PAIR"&&Object.entries(c).forEach(([L,V])=>{V.length===2&&A(L,V)})},[c,t.type]);const p=L=>{m(V=>{const U=new Set(V);return U.has(L)?U.delete(L):U.add(L),U})},b=(L,V)=>{d(U=>{const P=U[L]||[],C=P.includes(V)?P.filter(j=>j!==V):[...P,V];return{...U,[L]:C}})},_=L=>{const V=e.find(P=>P.id===L);if(!V)return;(c[L]||[]).length===V.students.length?d(P=>({...P,[L]:[]})):d(P=>({...P,[L]:V.students.map(C=>C.id)}))},A=(L,V)=>{const U=e.find(j=>j.id===L);if(!U)return;const P=V.map(j=>{var q;return(q=U.students.find(k=>k.id===j))==null?void 0:q.name}).filter(Boolean).join(","),C={id:`team_${Date.now()}_${Math.random()}`,classId:L,eventId:t.id,name:`${P} `,memberIds:V,score:0};l(j=>({...j,[L]:[...j[L]||[],C]})),d(j=>({...j,[L]:[]}))},E=L=>{const V=c[L]||[];if(V.length===0){alert(" .");return}A(L,V)},S=(L,V)=>{confirm("   ?")&&l(U=>({...U,[L]:(U[L]||[]).filter(P=>P.id!==V)}))},N=(L,V)=>{var U;return((U=c[L])==null?void 0:U.includes(V))||!1},D=()=>Object.values(s).reduce((L,V)=>L+V.length,0),O=()=>{r(s)};return y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:i,children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:L=>L.stopPropagation(),children:[y.jsxs("div",{className:`bg-gradient-to-r text-white px-6 py-4 flex items-center justify-between ${t.type==="PAIR"?"from-green-600 to-green-500":"from-purple-600 to-purple-500"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:y.jsx(ha,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsxs("h3",{className:"text-lg font-bold",children:[t.name," -  "]}),y.jsxs("p",{className:`text-sm ${t.type==="PAIR"?"text-green-100":"text-purple-100"}`,children:["  (",e.length," )  ",t.type==="PAIR"?"  (2)":" "]})]})]}),y.jsx("button",{onClick:i,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:y.jsx(ts,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:`rounded-lg p-4 border-2 flex items-center justify-between ${t.type==="PAIR"?"bg-green-50 border-green-200":"bg-purple-50 border-purple-200"}`,children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:"   "}),y.jsx("p",{className:"text-xs text-slate-600",children:t.type==="PAIR"?" 2    .":'    " "  .'})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:`text-3xl font-black ${t.type==="PAIR"?"text-green-600":"text-purple-600"}`,children:[D(),""]}),y.jsx("div",{className:"text-xs text-slate-500",children:" "})]})]}),e.map(L=>{var C;const V=f.has(L.id),U=s[L.id]||[],P=((C=c[L.id])==null?void 0:C.length)||0;return y.jsxs("div",{className:"border-2 border-slate-200 rounded-xl overflow-hidden",children:[y.jsx("button",{onClick:()=>p(L.id),className:"w-full bg-slate-50 hover:bg-slate-100 px-4 py-3 transition-colors",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"font-bold text-base text-slate-900",children:L.name}),y.jsxs("div",{className:"text-xs text-slate-500",children:[L.students.length,""]}),y.jsx("div",{className:"h-4 w-px bg-slate-300"}),y.jsxs("div",{className:`px-2 py-0.5 rounded text-xs font-bold ${t.type==="PAIR"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:[U.length,""]}),y.jsx("div",{className:"h-4 w-px bg-slate-300"}),y.jsx("div",{className:"flex-1 flex flex-wrap gap-1.5",onClick:j=>j.stopPropagation(),children:U.map((j,q)=>y.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-md border ${t.type==="PAIR"?"bg-green-50 border-green-200":"bg-purple-50 border-purple-200"}`,children:[y.jsx("span",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center font-bold text-[10px] ${t.type==="PAIR"?"bg-green-600 text-white":"bg-purple-600 text-white"}`,children:q+1}),y.jsx("span",{className:"text-xs font-medium text-slate-700",children:j.memberIds.map(k=>{const $=L.students.find(M=>M.id===k);return($==null?void 0:$.name)||"???"}).join(", ")}),y.jsx("button",{onClick:k=>{k.stopPropagation(),S(L.id,j.id)},className:"flex-shrink-0 p-0.5 text-red-500 hover:bg-red-100 rounded transition-colors",title:" ",children:y.jsx($a,{className:"w-3 h-3"})})]},j.id))}),V?y.jsx(TM,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}):y.jsx(Sv,{className:"w-5 h-5 text-slate-400 flex-shrink-0"})]})}),V&&y.jsx("div",{className:"p-4 bg-white space-y-4",children:y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("label",{className:"text-sm font-bold text-slate-900",children:[" ",t.type==="PAIR"&&y.jsx("span",{className:"ml-2 text-xs font-normal text-green-600",children:"(2    )"})]}),y.jsx("button",{onClick:()=>_(L.id),className:`text-xs px-2.5 py-1 rounded-md font-medium transition-colors ${P===L.students.length?(t.type==="PAIR","bg-red-100 text-red-700 hover:bg-red-200"):t.type==="PAIR"?"bg-green-600 text-white hover:bg-green-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:P===L.students.length?" ":" "})]}),P>0&&y.jsxs("span",{className:"text-xs text-slate-500",children:[P," "]})]}),y.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-1.5",children:L.students.map(j=>{const q=N(L.id,j.id);return y.jsxs("button",{type:"button",onClick:()=>b(L.id,j.id),className:`px-2 py-1.5 rounded-md border-2 transition-all font-medium text-xs flex items-center justify-center ${q?t.type==="PAIR"?"bg-green-600 text-white border-green-600 shadow-sm":"bg-purple-600 text-white border-purple-600 shadow-sm":"bg-white text-slate-700 border-slate-200 hover:border-slate-300"}`,children:[y.jsx("span",{className:"truncate",children:j.name}),q&&y.jsx(Jg,{className:"w-3 h-3 ml-1 flex-shrink-0"})]},j.id)})}),t.type==="TEAM"&&P>0&&y.jsxs(wr,{onClick:()=>E(L.id),className:"w-full mt-3",children:["  (",P,")"]})]})})]},L.id)})]})}),y.jsxs("div",{className:"border-t border-slate-200 px-6 py-4 flex justify-between items-center bg-slate-50",children:[y.jsxs("div",{className:"text-sm text-slate-600",children:[" ",y.jsxs("span",{className:`font-bold ${t.type==="PAIR"?"text-green-600":"text-purple-600"}`,children:[D(),""]})," "]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx(wr,{variant:"secondary",onClick:i,type:"button",children:""}),y.jsx(wr,{onClick:O,type:"button",children:""})]})]})]})})};var Go=SM();function AY(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return w.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const e0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Od(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function $S(t){return"nodeType"in t}function Lr(t){var e,n;return t?Od(t)?t:$S(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function FS(t){const{Document:e}=Lr(t);return t instanceof e}function xm(t){return Od(t)?!1:t instanceof Lr(t).HTMLElement}function y5(t){return t instanceof Lr(t).SVGElement}function Rd(t){return t?Od(t)?t.document:$S(t)?FS(t)?t:xm(t)||y5(t)?t.ownerDocument:document:document:document}const pa=e0?w.useLayoutEffect:w.useEffect;function t0(t){const e=w.useRef(t);return pa(()=>{e.current=t}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function TY(){const t=w.useRef(null),e=w.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=w.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Bh(t,e){e===void 0&&(e=[t]);const n=w.useRef(t);return pa(()=>{n.current!==t&&(n.current=t)},e),n}function _m(t,e){const n=w.useRef();return w.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Ny(t){const e=t0(t),n=w.useRef(null),r=w.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function Cy(t){const e=w.useRef();return w.useEffect(()=>{e.current=t},[t]),e.current}let o_={};function wm(t,e){return w.useMemo(()=>{if(e)return e;const n=o_[t]==null?0:o_[t]+1;return o_[t]=n,t+"-"+n},[t,e])}function v5(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,l)=>{const c=Object.entries(l);for(const[d,f]of c){const m=s[d];m!=null&&(s[d]=m+t*f)}return s},{...e})}}const Hu=v5(1),qh=v5(-1);function IY(t){return"clientX"in t&&"clientY"in t}function n0(t){if(!t)return!1;const{KeyboardEvent:e}=Lr(t.target);return e&&t instanceof e}function NY(t){if(!t)return!1;const{TouchEvent:e}=Lr(t.target);return e&&t instanceof e}function Oy(t){if(NY(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return IY(t)?{x:t.clientX,y:t.clientY}:null}const al=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[al.Translate.toString(t),al.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),cR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function CY(t){return t.matches(cR)?t:t.querySelector(cR)}const OY={display:"none"};function RY(t){let{id:e,value:n}=t;return qt.createElement("div",{id:e,style:OY},n)}function PY(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return qt.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function DY(){const[t,e]=w.useState("");return{announce:w.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const b5=w.createContext(null);function jY(t){const e=w.useContext(b5);w.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function MY(){const[t]=w.useState(()=>new Set),e=w.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[w.useCallback(r=>{let{type:i,event:s}=r;t.forEach(l=>{var c;return(c=l[i])==null?void 0:c.call(l,s)})},[t]),e]}const kY={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},VY={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function LY(t){let{announcements:e=VY,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=kY}=t;const{announce:s,announcement:l}=DY(),c=wm("DndLiveRegion"),[d,f]=w.useState(!1);if(w.useEffect(()=>{f(!0)},[]),jY(w.useMemo(()=>({onDragStart(p){let{active:b}=p;s(e.onDragStart({active:b}))},onDragMove(p){let{active:b,over:_}=p;e.onDragMove&&s(e.onDragMove({active:b,over:_}))},onDragOver(p){let{active:b,over:_}=p;s(e.onDragOver({active:b,over:_}))},onDragEnd(p){let{active:b,over:_}=p;s(e.onDragEnd({active:b,over:_}))},onDragCancel(p){let{active:b,over:_}=p;s(e.onDragCancel({active:b,over:_}))}}),[s,e])),!d)return null;const m=qt.createElement(qt.Fragment,null,qt.createElement(RY,{id:r,value:i.draggable}),qt.createElement(PY,{id:c,announcement:l}));return n?Go.createPortal(m,n):m}var kn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(kn||(kn={}));function Ry(){}function uR(t,e){return w.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function zY(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return w.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ga=Object.freeze({x:0,y:0});function x5(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function UY(t,e){const n=Oy(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function _5(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function BY(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function dR(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function w5(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function fR(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const qY=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=fR(e,e.left,e.top),s=[];for(const l of r){const{id:c}=l,d=n.get(c);if(d){const f=x5(fR(d),i);s.push({id:c,data:{droppableContainer:l,value:f}})}}return s.sort(_5)},$Y=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=dR(e),s=[];for(const l of r){const{id:c}=l,d=n.get(c);if(d){const f=dR(d),m=i.reduce((b,_,A)=>b+x5(f[A],_),0),p=Number((m/4).toFixed(4));s.push({id:c,data:{droppableContainer:l,value:p}})}}return s.sort(_5)};function FY(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),l=i-r,c=s-n;if(r<i&&n<s){const d=e.width*e.height,f=t.width*t.height,m=l*c,p=m/(d+f-m);return Number(p.toFixed(4))}return 0}const HY=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:l}=s,c=n.get(l);if(c){const d=FY(c,e);d>0&&i.push({id:l,data:{droppableContainer:s,value:d}})}}return i.sort(BY)};function GY(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function E5(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ga}function KY(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((l,c)=>({...l,top:l.top+t*c.y,bottom:l.bottom+t*c.y,left:l.left+t*c.x,right:l.right+t*c.x}),{...n})}}const YY=KY(1);function S5(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function WY(t,e,n){const r=S5(e);if(!r)return t;const{scaleX:i,scaleY:s,x:l,y:c}=r,d=t.left-l-(1-i)*parseFloat(n),f=t.top-c-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),m=i?t.width/i:t.width,p=s?t.height/s:t.height;return{width:m,height:p,top:f,right:d+m,bottom:f+p,left:d}}const XY={ignoreTransform:!1};function Pd(t,e){e===void 0&&(e=XY);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:m}=Lr(t).getComputedStyle(t);f&&(n=WY(n,f,m))}const{top:r,left:i,width:s,height:l,bottom:c,right:d}=n;return{top:r,left:i,width:s,height:l,bottom:c,right:d}}function hR(t){return Pd(t,{ignoreTransform:!0})}function QY(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function ZY(t,e){return e===void 0&&(e=Lr(t).getComputedStyle(t)),e.position==="fixed"}function JY(t,e){e===void 0&&(e=Lr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function r0(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(FS(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!xm(i)||y5(i)||n.includes(i))return n;const s=Lr(t).getComputedStyle(i);return i!==t&&JY(i,s)&&n.push(i),ZY(i,s)?n:r(i.parentNode)}return t?r(t):n}function A5(t){const[e]=r0(t,1);return e??null}function l_(t){return!e0||!t?null:Od(t)?t:$S(t)?FS(t)||t===Rd(t).scrollingElement?window:xm(t)?t:null:null}function T5(t){return Od(t)?t.scrollX:t.scrollLeft}function I5(t){return Od(t)?t.scrollY:t.scrollTop}function N1(t){return{x:T5(t),y:I5(t)}}var Qn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Qn||(Qn={}));function N5(t){return!e0||!t?!1:t===document.scrollingElement}function C5(t){const e={x:0,y:0},n=N5(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,c=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:l,isRight:c,maxScroll:r,minScroll:e}}const eW={x:.2,y:.2};function tW(t,e,n,r,i){let{top:s,left:l,right:c,bottom:d}=n;r===void 0&&(r=10),i===void 0&&(i=eW);const{isTop:f,isBottom:m,isLeft:p,isRight:b}=C5(t),_={x:0,y:0},A={x:0,y:0},E={height:e.height*i.y,width:e.width*i.x};return!f&&s<=e.top+E.height?(_.y=Qn.Backward,A.y=r*Math.abs((e.top+E.height-s)/E.height)):!m&&d>=e.bottom-E.height&&(_.y=Qn.Forward,A.y=r*Math.abs((e.bottom-E.height-d)/E.height)),!b&&c>=e.right-E.width?(_.x=Qn.Forward,A.x=r*Math.abs((e.right-E.width-c)/E.width)):!p&&l<=e.left+E.width&&(_.x=Qn.Backward,A.x=r*Math.abs((e.left+E.width-l)/E.width)),{direction:_,speed:A}}function nW(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:l}=window;return{top:0,left:0,right:s,bottom:l,width:s,height:l}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function O5(t){return t.reduce((e,n)=>Hu(e,N1(n)),ga)}function rW(t){return t.reduce((e,n)=>e+T5(n),0)}function iW(t){return t.reduce((e,n)=>e+I5(n),0)}function R5(t,e){if(e===void 0&&(e=Pd),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);A5(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const aW=[["x",["left","right"],rW],["y",["top","bottom"],iW]];class HS{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=r0(n),i=O5(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,l,c]of aW)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=c(r),m=i[s]-f;return this.rect[d]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function sW(t){const{EventTarget:e}=Lr(t);return t instanceof e?t:Rd(t)}function c_(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var qi;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(qi||(qi={}));function mR(t){t.preventDefault()}function oW(t){t.stopPropagation()}var ut;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ut||(ut={}));const P5={start:[ut.Space,ut.Enter],cancel:[ut.Esc],end:[ut.Space,ut.Enter,ut.Tab]},lW=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ut.Right:return{...n,x:n.x+25};case ut.Left:return{...n,x:n.x-25};case ut.Down:return{...n,y:n.y+25};case ut.Up:return{...n,y:n.y-25}}};class GS{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new vh(Rd(n)),this.windowListeners=new vh(Lr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(qi.Resize,this.handleCancel),this.windowListeners.add(qi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(qi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&R5(r),n(ga)}handleKeyDown(e){if(n0(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=P5,coordinateGetter:l=lW,scrollBehavior:c="smooth"}=i,{code:d}=e;if(s.end.includes(d)){this.handleEnd(e);return}if(s.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:f}=r.current,m=f?{x:f.left,y:f.top}:ga;this.referenceCoordinates||(this.referenceCoordinates=m);const p=l(e,{active:n,context:r.current,currentCoordinates:m});if(p){const b=qh(p,m),_={x:0,y:0},{scrollableAncestors:A}=r.current;for(const E of A){const S=e.code,{isTop:N,isRight:D,isLeft:O,isBottom:L,maxScroll:V,minScroll:U}=C5(E),P=nW(E),C={x:Math.min(S===ut.Right?P.right-P.width/2:P.right,Math.max(S===ut.Right?P.left:P.left+P.width/2,p.x)),y:Math.min(S===ut.Down?P.bottom-P.height/2:P.bottom,Math.max(S===ut.Down?P.top:P.top+P.height/2,p.y))},j=S===ut.Right&&!D||S===ut.Left&&!O,q=S===ut.Down&&!L||S===ut.Up&&!N;if(j&&C.x!==p.x){const k=E.scrollLeft+b.x,$=S===ut.Right&&k<=V.x||S===ut.Left&&k>=U.x;if($&&!b.y){E.scrollTo({left:k,behavior:c});return}$?_.x=E.scrollLeft-k:_.x=S===ut.Right?E.scrollLeft-V.x:E.scrollLeft-U.x,_.x&&E.scrollBy({left:-_.x,behavior:c});break}else if(q&&C.y!==p.y){const k=E.scrollTop+b.y,$=S===ut.Down&&k<=V.y||S===ut.Up&&k>=U.y;if($&&!b.x){E.scrollTo({top:k,behavior:c});return}$?_.y=E.scrollTop-k:_.y=S===ut.Down?E.scrollTop-V.y:E.scrollTop-U.y,_.y&&E.scrollBy({top:-_.y,behavior:c});break}}this.handleMove(e,Hu(qh(p,this.referenceCoordinates),_))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}GS.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=P5,onActivation:i}=e,{active:s}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const c=s.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function pR(t){return!!(t&&"distance"in t)}function gR(t){return!!(t&&"delay"in t)}class KS{constructor(e,n,r){var i;r===void 0&&(r=sW(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:l}=s;this.props=e,this.events=n,this.document=Rd(l),this.documentListeners=new vh(this.document),this.listeners=new vh(r),this.windowListeners=new vh(Lr(l)),this.initialCoordinates=(i=Oy(s))!=null?i:ga,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(qi.Resize,this.handleCancel),this.windowListeners.add(qi.DragStart,mR),this.windowListeners.add(qi.VisibilityChange,this.handleCancel),this.windowListeners.add(qi.ContextMenu,mR),this.documentListeners.add(qi.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(gR(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(pR(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(qi.Click,oW,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(qi.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:l,options:{activationConstraint:c}}=s;if(!i)return;const d=(n=Oy(e))!=null?n:ga,f=qh(i,d);if(!r&&c){if(pR(c)){if(c.tolerance!=null&&c_(f,c.tolerance))return this.handleCancel();if(c_(f,c.distance))return this.handleStart()}if(gR(c)&&c_(f,c.tolerance))return this.handleCancel();this.handlePending(c,f);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ut.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const cW={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class YS extends KS{constructor(e){const{event:n}=e,r=Rd(n.target);super(e,cW,r)}}YS.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const uW={move:{name:"mousemove"},end:{name:"mouseup"}};var C1;(function(t){t[t.RightClick=2]="RightClick"})(C1||(C1={}));class dW extends KS{constructor(e){super(e,uW,Rd(e.event.target))}}dW.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===C1.RightClick?!1:(r==null||r({event:n}),!0)}}];const u_={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class fW extends KS{constructor(e){super(e,u_)}static setup(){return window.addEventListener(u_.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(u_.move.name,e)};function e(){}}}fW.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var bh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(bh||(bh={}));var Py;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Py||(Py={}));function hW(t){let{acceleration:e,activator:n=bh.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:l=5,order:c=Py.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:m,delta:p,threshold:b}=t;const _=pW({delta:p,disabled:!s}),[A,E]=TY(),S=w.useRef({x:0,y:0}),N=w.useRef({x:0,y:0}),D=w.useMemo(()=>{switch(n){case bh.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case bh.DraggableRect:return i}},[n,i,d]),O=w.useRef(null),L=w.useCallback(()=>{const U=O.current;if(!U)return;const P=S.current.x*N.current.x,C=S.current.y*N.current.y;U.scrollBy(P,C)},[]),V=w.useMemo(()=>c===Py.TreeOrder?[...f].reverse():f,[c,f]);w.useEffect(()=>{if(!s||!f.length||!D){E();return}for(const U of V){if((r==null?void 0:r(U))===!1)continue;const P=f.indexOf(U),C=m[P];if(!C)continue;const{direction:j,speed:q}=tW(U,C,D,e,b);for(const k of["x","y"])_[k][j[k]]||(q[k]=0,j[k]=0);if(q.x>0||q.y>0){E(),O.current=U,A(L,l),S.current=q,N.current=j;return}}S.current={x:0,y:0},N.current={x:0,y:0},E()},[e,L,r,E,s,l,JSON.stringify(D),JSON.stringify(_),A,f,V,m,JSON.stringify(b)])}const mW={x:{[Qn.Backward]:!1,[Qn.Forward]:!1},y:{[Qn.Backward]:!1,[Qn.Forward]:!1}};function pW(t){let{delta:e,disabled:n}=t;const r=Cy(e);return _m(i=>{if(n||!r||!i)return mW;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Qn.Backward]:i.x[Qn.Backward]||s.x===-1,[Qn.Forward]:i.x[Qn.Forward]||s.x===1},y:{[Qn.Backward]:i.y[Qn.Backward]||s.y===-1,[Qn.Forward]:i.y[Qn.Forward]||s.y===1}}},[n,e,r])}function gW(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return _m(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function yW(t,e){return w.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...s]},[]),[t,e])}var $h;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})($h||($h={}));var O1;(function(t){t.Optimized="optimized"})(O1||(O1={}));const yR=new Map;function vW(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,l]=w.useState(null),{frequency:c,measure:d,strategy:f}=i,m=w.useRef(t),p=S(),b=Bh(p),_=w.useCallback(function(N){N===void 0&&(N=[]),!b.current&&l(D=>D===null?N:D.concat(N.filter(O=>!D.includes(O))))},[b]),A=w.useRef(null),E=_m(N=>{if(p&&!n)return yR;if(!N||N===yR||m.current!==t||s!=null){const D=new Map;for(let O of t){if(!O)continue;if(s&&s.length>0&&!s.includes(O.id)&&O.rect.current){D.set(O.id,O.rect.current);continue}const L=O.node.current,V=L?new HS(d(L),L):null;O.rect.current=V,V&&D.set(O.id,V)}return D}return N},[t,s,n,p,d]);return w.useEffect(()=>{m.current=t},[t]),w.useEffect(()=>{p||_()},[n,p]),w.useEffect(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),w.useEffect(()=>{p||typeof c!="number"||A.current!==null||(A.current=setTimeout(()=>{_(),A.current=null},c))},[c,p,_,...r]),{droppableRects:E,measureDroppableContainers:_,measuringScheduled:s!=null};function S(){switch(f){case $h.Always:return!1;case $h.BeforeDragging:return n;default:return!n}}}function WS(t,e){return _m(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function bW(t,e){return WS(t,e)}function xW(t){let{callback:e,disabled:n}=t;const r=t0(e),i=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return w.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function i0(t){let{callback:e,disabled:n}=t;const r=t0(e),i=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return w.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function _W(t){return new HS(Pd(t),t)}function vR(t,e,n){e===void 0&&(e=_W);const[r,i]=w.useState(null);function s(){i(d=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=d??n)!=null?f:null}const m=e(t);return JSON.stringify(d)===JSON.stringify(m)?d:m})}const l=xW({callback(d){if(t)for(const f of d){const{type:m,target:p}=f;if(m==="childList"&&p instanceof HTMLElement&&p.contains(t)){s();break}}}}),c=i0({callback:s});return pa(()=>{s(),t?(c==null||c.observe(t),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),l==null||l.disconnect())},[t]),r}function wW(t){const e=WS(t);return E5(t,e)}const bR=[];function EW(t){const e=w.useRef(t),n=_m(r=>t?r&&r!==bR&&t&&e.current&&t.parentNode===e.current.parentNode?r:r0(t):bR,[t]);return w.useEffect(()=>{e.current=t},[t]),n}function SW(t){const[e,n]=w.useState(null),r=w.useRef(t),i=w.useCallback(s=>{const l=l_(s.target);l&&n(c=>c?(c.set(l,N1(l)),new Map(c)):null)},[]);return w.useEffect(()=>{const s=r.current;if(t!==s){l(s);const c=t.map(d=>{const f=l_(d);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,N1(f)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),r.current=t}return()=>{l(t),l(s)};function l(c){c.forEach(d=>{const f=l_(d);f==null||f.removeEventListener("scroll",i)})}},[i,t]),w.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,l)=>Hu(s,l),ga):O5(t):ga,[t,e])}function xR(t,e){e===void 0&&(e=[]);const n=w.useRef(null);return w.useEffect(()=>{n.current=null},e),w.useEffect(()=>{const r=t!==ga;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?qh(t,n.current):ga}function AW(t){w.useEffect(()=>{if(!e0)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function TW(t,e){return w.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=l=>{s(l,e)},n},{}),[t,e])}function D5(t){return w.useMemo(()=>t?QY(t):null,[t])}const _R=[];function IW(t,e){e===void 0&&(e=Pd);const[n]=t,r=D5(n?Lr(n):null),[i,s]=w.useState(_R);function l(){s(()=>t.length?t.map(d=>N5(d)?r:new HS(e(d),d)):_R)}const c=i0({callback:l});return pa(()=>{c==null||c.disconnect(),l(),t.forEach(d=>c==null?void 0:c.observe(d))},[t]),i}function j5(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return xm(e)?e:t}function NW(t){let{measure:e}=t;const[n,r]=w.useState(null),i=w.useCallback(f=>{for(const{target:m}of f)if(xm(m)){r(p=>{const b=e(m);return p?{...p,width:b.width,height:b.height}:b});break}},[e]),s=i0({callback:i}),l=w.useCallback(f=>{const m=j5(f);s==null||s.disconnect(),m&&(s==null||s.observe(m)),r(m?e(m):null)},[e,s]),[c,d]=Ny(l);return w.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const CW=[{sensor:YS,options:{}},{sensor:GS,options:{}}],OW={current:{}},Wg={draggable:{measure:hR},droppable:{measure:hR,strategy:$h.WhileDragging,frequency:O1.Optimized},dragOverlay:{measure:Pd}};class xh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const RW={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ry},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Wg,measureDroppableContainers:Ry,windowRect:null,measuringScheduled:!1},M5={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ry,draggableNodes:new Map,over:null,measureDroppableContainers:Ry},Em=w.createContext(M5),k5=w.createContext(RW);function PW(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xh}}}function DW(t,e){switch(e.type){case kn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case kn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case kn.DragEnd:case kn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case kn.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new xh(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case kn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const l=new xh(t.droppable.containers);return l.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:l}}}case kn.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new xh(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function jW(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=w.useContext(Em),s=Cy(r),l=Cy(n==null?void 0:n.id);return w.useEffect(()=>{if(!e&&!r&&s&&l!=null){if(!n0(s)||document.activeElement===s.target)return;const c=i.get(l);if(!c)return;const{activatorNode:d,node:f}=c;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const m of[d.current,f.current]){if(!m)continue;const p=CY(m);if(p){p.focus();break}}})}},[r,e,i,l,s]),null}function V5(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function MW(t){return w.useMemo(()=>({draggable:{...Wg.draggable,...t==null?void 0:t.draggable},droppable:{...Wg.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Wg.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function kW(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=w.useRef(!1),{x:l,y:c}=typeof i=="boolean"?{x:i,y:i}:i;pa(()=>{if(!l&&!c||!e){s.current=!1;return}if(s.current||!r)return;const f=e==null?void 0:e.node.current;if(!f||f.isConnected===!1)return;const m=n(f),p=E5(m,r);if(l||(p.x=0),c||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const b=A5(f);b&&b.scrollBy({top:p.y,left:p.x})}},[e,l,c,r,n])}const a0=w.createContext({...ga,scaleX:1,scaleY:1});var ko;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ko||(ko={}));const VW=w.memo(function(e){var n,r,i,s;let{id:l,accessibility:c,autoScroll:d=!0,children:f,sensors:m=CW,collisionDetection:p=HY,measuring:b,modifiers:_,...A}=e;const E=w.useReducer(DW,void 0,PW),[S,N]=E,[D,O]=MY(),[L,V]=w.useState(ko.Uninitialized),U=L===ko.Initialized,{draggable:{active:P,nodes:C,translate:j},droppable:{containers:q}}=S,k=P!=null?C.get(P):null,$=w.useRef({initial:null,translated:null}),M=w.useMemo(()=>{var nt;return P!=null?{id:P,data:(nt=k==null?void 0:k.data)!=null?nt:OW,rect:$}:null},[P,k]),fe=w.useRef(null),[be,Y]=w.useState(null),[H,Q]=w.useState(null),ee=Bh(A,Object.values(A)),W=wm("DndDescribedBy",l),F=w.useMemo(()=>q.getEnabled(),[q]),X=MW(b),{droppableRects:J,measureDroppableContainers:ce,measuringScheduled:Ae}=vW(F,{dragging:U,dependencies:[j.x,j.y],config:X.droppable}),_e=gW(C,P),Ee=w.useMemo(()=>H?Oy(H):null,[H]),Je=ss(),le=bW(_e,X.draggable.measure);kW({activeNode:P!=null?C.get(P):null,config:Je.layoutShiftCompensation,initialRect:le,measure:X.draggable.measure});const Ne=vR(_e,X.draggable.measure,le),He=vR(_e?_e.parentElement:null),ye=w.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:q,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),wt=q.getNodeFor((n=ye.current.over)==null?void 0:n.id),ue=NW({measure:X.dragOverlay.measure}),xe=(r=ue.nodeRef.current)!=null?r:_e,Te=U?(i=ue.rect)!=null?i:Ne:null,Ce=!!(ue.nodeRef.current&&ue.rect),ze=wW(Ce?null:Ne),Oe=D5(xe?Lr(xe):null),Fe=EW(U?wt??_e:null),dt=IW(Fe),vt=V5(_,{transform:{x:j.x-ze.x,y:j.y-ze.y,scaleX:1,scaleY:1},activatorEvent:H,active:M,activeNodeRect:Ne,containerNodeRect:He,draggingNodeRect:Te,over:ye.current.over,overlayNodeRect:ue.rect,scrollableAncestors:Fe,scrollableAncestorRects:dt,windowRect:Oe}),Wt=Ee?Hu(Ee,j):null,ht=SW(Fe),rn=xR(ht),an=xR(ht,[Ne]),xn=Hu(vt,rn),Me=Te?YY(Te,vt):null,Vt=M&&Me?p({active:M,collisionRect:Me,droppableRects:J,droppableContainers:F,pointerCoordinates:Wt}):null,hr=w5(Vt,"id"),[mt,Fn]=w.useState(null),Et=Ce?vt:Hu(vt,an),Lt=GY(Et,(s=mt==null?void 0:mt.rect)!=null?s:null,Ne),Ft=w.useRef(null),Pt=w.useCallback((nt,Xt)=>{let{sensor:Qt,options:_n}=Xt;if(fe.current==null)return;const mr=C.get(fe.current);if(!mr)return;const Hn=nt.nativeEvent,dn=new Qt({active:fe.current,activeNode:mr,event:Hn,options:_n,context:ye,onAbort(fn){if(!C.get(fn))return;const{onDragAbort:gr}=ee.current,Cr={id:fn};gr==null||gr(Cr),D({type:"onDragAbort",event:Cr})},onPending(fn,pr,gr,Cr){if(!C.get(fn))return;const{onDragPending:Or}=ee.current,ni={id:fn,constraint:pr,initialCoordinates:gr,offset:Cr};Or==null||Or(ni),D({type:"onDragPending",event:ni})},onStart(fn){const pr=fe.current;if(pr==null)return;const gr=C.get(pr);if(!gr)return;const{onDragStart:Cr}=ee.current,ti={activatorEvent:Hn,active:{id:pr,data:gr.data,rect:$}};Go.unstable_batchedUpdates(()=>{Cr==null||Cr(ti),V(ko.Initializing),N({type:kn.DragStart,initialCoordinates:fn,active:pr}),D({type:"onDragStart",event:ti}),Y(Ft.current),Q(Hn)})},onMove(fn){N({type:kn.DragMove,coordinates:fn})},onEnd:Br(kn.DragEnd),onCancel:Br(kn.DragCancel)});Ft.current=dn;function Br(fn){return async function(){const{active:gr,collisions:Cr,over:ti,scrollAdjustedTranslate:Or}=ye.current;let ni=null;if(gr&&Or){const{cancelDrop:tr}=ee.current;ni={activatorEvent:Hn,active:gr,collisions:Cr,delta:Or,over:ti},fn===kn.DragEnd&&typeof tr=="function"&&await Promise.resolve(tr(ni))&&(fn=kn.DragCancel)}fe.current=null,Go.unstable_batchedUpdates(()=>{N({type:fn}),V(ko.Uninitialized),Fn(null),Y(null),Q(null),Ft.current=null;const tr=fn===kn.DragEnd?"onDragEnd":"onDragCancel";if(ni){const Rr=ee.current[tr];Rr==null||Rr(ni),D({type:tr,event:ni})}})}}},[C]),kc=w.useCallback((nt,Xt)=>(Qt,_n)=>{const mr=Qt.nativeEvent,Hn=C.get(_n);if(fe.current!==null||!Hn||mr.dndKit||mr.defaultPrevented)return;const dn={active:Hn};nt(Qt,Xt.options,dn)===!0&&(mr.dndKit={capturedBy:Xt.sensor},fe.current=_n,Pt(Qt,Xt))},[C,Pt]),as=yW(m,kc);AW(m),pa(()=>{Ne&&L===ko.Initializing&&V(ko.Initialized)},[Ne,L]),w.useEffect(()=>{const{onDragMove:nt}=ee.current,{active:Xt,activatorEvent:Qt,collisions:_n,over:mr}=ye.current;if(!Xt||!Qt)return;const Hn={active:Xt,activatorEvent:Qt,collisions:_n,delta:{x:xn.x,y:xn.y},over:mr};Go.unstable_batchedUpdates(()=>{nt==null||nt(Hn),D({type:"onDragMove",event:Hn})})},[xn.x,xn.y]),w.useEffect(()=>{const{active:nt,activatorEvent:Xt,collisions:Qt,droppableContainers:_n,scrollAdjustedTranslate:mr}=ye.current;if(!nt||fe.current==null||!Xt||!mr)return;const{onDragOver:Hn}=ee.current,dn=_n.get(hr),Br=dn&&dn.rect.current?{id:dn.id,rect:dn.rect.current,data:dn.data,disabled:dn.disabled}:null,fn={active:nt,activatorEvent:Xt,collisions:Qt,delta:{x:mr.x,y:mr.y},over:Br};Go.unstable_batchedUpdates(()=>{Fn(Br),Hn==null||Hn(fn),D({type:"onDragOver",event:fn})})},[hr]),pa(()=>{ye.current={activatorEvent:H,active:M,activeNode:_e,collisionRect:Me,collisions:Vt,droppableRects:J,draggableNodes:C,draggingNode:xe,draggingNodeRect:Te,droppableContainers:q,over:mt,scrollableAncestors:Fe,scrollAdjustedTranslate:xn},$.current={initial:Te,translated:Me}},[M,_e,Vt,Me,C,xe,Te,J,q,mt,Fe,xn]),hW({...Je,delta:j,draggingRect:Me,pointerCoordinates:Wt,scrollableAncestors:Fe,scrollableAncestorRects:dt});const Vc=w.useMemo(()=>({active:M,activeNode:_e,activeNodeRect:Ne,activatorEvent:H,collisions:Vt,containerNodeRect:He,dragOverlay:ue,draggableNodes:C,droppableContainers:q,droppableRects:J,over:mt,measureDroppableContainers:ce,scrollableAncestors:Fe,scrollableAncestorRects:dt,measuringConfiguration:X,measuringScheduled:Ae,windowRect:Oe}),[M,_e,Ne,H,Vt,He,ue,C,q,J,mt,ce,Fe,dt,X,Ae,Oe]),Si=w.useMemo(()=>({activatorEvent:H,activators:as,active:M,activeNodeRect:Ne,ariaDescribedById:{draggable:W},dispatch:N,draggableNodes:C,over:mt,measureDroppableContainers:ce}),[H,as,M,Ne,N,W,C,mt,ce]);return qt.createElement(b5.Provider,{value:O},qt.createElement(Em.Provider,{value:Si},qt.createElement(k5.Provider,{value:Vc},qt.createElement(a0.Provider,{value:Lt},f)),qt.createElement(jW,{disabled:(c==null?void 0:c.restoreFocus)===!1})),qt.createElement(LY,{...c,hiddenTextDescribedById:W}));function ss(){const nt=(be==null?void 0:be.autoScrollEnabled)===!1,Xt=typeof d=="object"?d.enabled===!1:d===!1,Qt=U&&!nt&&!Xt;return typeof d=="object"?{...d,enabled:Qt}:{enabled:Qt}}}),LW=w.createContext(null),wR="button",zW="Draggable";function UW(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=wm(zW),{activators:l,activatorEvent:c,active:d,activeNodeRect:f,ariaDescribedById:m,draggableNodes:p,over:b}=w.useContext(Em),{role:_=wR,roleDescription:A="draggable",tabIndex:E=0}=i??{},S=(d==null?void 0:d.id)===e,N=w.useContext(S?a0:LW),[D,O]=Ny(),[L,V]=Ny(),U=TW(l,e),P=Bh(n);pa(()=>(p.set(e,{id:e,key:s,node:D,activatorNode:L,data:P}),()=>{const j=p.get(e);j&&j.key===s&&p.delete(e)}),[p,e]);const C=w.useMemo(()=>({role:_,tabIndex:E,"aria-disabled":r,"aria-pressed":S&&_===wR?!0:void 0,"aria-roledescription":A,"aria-describedby":m.draggable}),[r,_,E,S,A,m.draggable]);return{active:d,activatorEvent:c,activeNodeRect:f,attributes:C,isDragging:S,listeners:r?void 0:U,node:D,over:b,setNodeRef:O,setActivatorNodeRef:V,transform:N}}function L5(){return w.useContext(k5)}const BW="Droppable",qW={timeout:25};function $W(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=wm(BW),{active:l,dispatch:c,over:d,measureDroppableContainers:f}=w.useContext(Em),m=w.useRef({disabled:n}),p=w.useRef(!1),b=w.useRef(null),_=w.useRef(null),{disabled:A,updateMeasurementsFor:E,timeout:S}={...qW,...i},N=Bh(E??r),D=w.useCallback(()=>{if(!p.current){p.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{f(Array.isArray(N.current)?N.current:[N.current]),_.current=null},S)},[S]),O=i0({callback:D,disabled:A||!l}),L=w.useCallback((C,j)=>{O&&(j&&(O.unobserve(j),p.current=!1),C&&O.observe(C))},[O]),[V,U]=Ny(L),P=Bh(e);return w.useEffect(()=>{!O||!V.current||(O.disconnect(),p.current=!1,O.observe(V.current))},[V,O]),w.useEffect(()=>(c({type:kn.RegisterDroppable,element:{id:r,key:s,disabled:n,node:V,rect:b,data:P}}),()=>c({type:kn.UnregisterDroppable,key:s,id:r})),[r]),w.useEffect(()=>{n!==m.current.disabled&&(c({type:kn.SetDroppableDisabled,id:r,key:s,disabled:n}),m.current.disabled=n)},[r,s,n,c]),{active:l,rect:b,isOver:(d==null?void 0:d.id)===r,node:V,over:d,setNodeRef:U}}function FW(t){let{animation:e,children:n}=t;const[r,i]=w.useState(null),[s,l]=w.useState(null),c=Cy(n);return!n&&!r&&c&&i(c),pa(()=>{if(!s)return;const d=r==null?void 0:r.key,f=r==null?void 0:r.props.id;if(d==null||f==null){i(null);return}Promise.resolve(e(f,s)).then(()=>{i(null)})},[e,r,s]),qt.createElement(qt.Fragment,null,n,r?w.cloneElement(r,{ref:l}):null)}const HW={x:0,y:0,scaleX:1,scaleY:1};function GW(t){let{children:e}=t;return qt.createElement(Em.Provider,{value:M5},qt.createElement(a0.Provider,{value:HW},e))}const KW={position:"fixed",touchAction:"none"},YW=t=>n0(t)?"transform 250ms ease":void 0,WW=w.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:l,rect:c,style:d,transform:f,transition:m=YW}=t;if(!c)return null;const p=i?f:{...f,scaleX:1,scaleY:1},b={...KW,width:c.width,height:c.height,top:c.top,left:c.left,transform:al.Transform.toString(p),transformOrigin:i&&r?UY(r,c):void 0,transition:typeof m=="function"?m(r):m,...d};return qt.createElement(n,{className:l,style:b,ref:e},s)}),XW=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:s,className:l}=t;if(s!=null&&s.active)for(const[c,d]of Object.entries(s.active))d!==void 0&&(i[c]=n.node.style.getPropertyValue(c),n.node.style.setProperty(c,d));if(s!=null&&s.dragOverlay)for(const[c,d]of Object.entries(s.dragOverlay))d!==void 0&&r.node.style.setProperty(c,d);return l!=null&&l.active&&n.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[d,f]of Object.entries(i))n.node.style.setProperty(d,f);l!=null&&l.active&&n.node.classList.remove(l.active)}},QW=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:al.Transform.toString(e)},{transform:al.Transform.toString(n)}]},ZW={duration:250,easing:"ease",keyframes:QW,sideEffects:XW({styles:{active:{opacity:"0"}}})};function JW(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return t0((s,l)=>{if(e===null)return;const c=n.get(s);if(!c)return;const d=c.node.current;if(!d)return;const f=j5(l);if(!f)return;const{transform:m}=Lr(l).getComputedStyle(l),p=S5(m);if(!p)return;const b=typeof e=="function"?e:eX(e);return R5(d,i.draggable.measure),b({active:{id:s,data:c.data,node:d,rect:i.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:l,rect:i.dragOverlay.measure(f)},droppableContainers:r,measuringConfiguration:i,transform:p})})}function eX(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...ZW,...t};return s=>{let{active:l,dragOverlay:c,transform:d,...f}=s;if(!e)return;const m={x:c.rect.left-l.rect.left,y:c.rect.top-l.rect.top},p={scaleX:d.scaleX!==1?l.rect.width*d.scaleX/c.rect.width:1,scaleY:d.scaleY!==1?l.rect.height*d.scaleY/c.rect.height:1},b={x:d.x-m.x,y:d.y-m.y,...p},_=i({...f,active:l,dragOverlay:c,transform:{initial:d,final:b}}),[A]=_,E=_[_.length-1];if(JSON.stringify(A)===JSON.stringify(E))return;const S=r==null?void 0:r({active:l,dragOverlay:c,...f}),N=c.node.animate(_,{duration:e,easing:n,fill:"forwards"});return new Promise(D=>{N.onfinish=()=>{S==null||S(),D()}})}}let ER=0;function tX(t){return w.useMemo(()=>{if(t!=null)return ER++,ER},[t])}const nX=qt.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:l,wrapperElement:c="div",className:d,zIndex:f=999}=t;const{activatorEvent:m,active:p,activeNodeRect:b,containerNodeRect:_,draggableNodes:A,droppableContainers:E,dragOverlay:S,over:N,measuringConfiguration:D,scrollableAncestors:O,scrollableAncestorRects:L,windowRect:V}=L5(),U=w.useContext(a0),P=tX(p==null?void 0:p.id),C=V5(l,{activatorEvent:m,active:p,activeNodeRect:b,containerNodeRect:_,draggingNodeRect:S.rect,over:N,overlayNodeRect:S.rect,scrollableAncestors:O,scrollableAncestorRects:L,transform:U,windowRect:V}),j=WS(b),q=JW({config:r,draggableNodes:A,droppableContainers:E,measuringConfiguration:D}),k=j?S.setRef:void 0;return qt.createElement(GW,null,qt.createElement(FW,{animation:q},p&&P?qt.createElement(WW,{key:P,id:p.id,ref:k,as:c,activatorEvent:m,adjustScale:e,className:d,transition:s,rect:j,style:{zIndex:f,...i},transform:C},n):null))});function XS(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function rX(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function pg(t){return t!==null&&t>=0}function iX(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function aX(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const gg={scaleX:1,scaleY:1},sX=t=>{var e;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:s,index:l}=t;const c=(e=n[i])!=null?e:r;if(!c)return null;const d=oX(n,l,i);if(l===i){const f=n[s];return f?{x:i<s?f.left+f.width-(c.left+c.width):f.left-c.left,y:0,...gg}:null}return l>i&&l<=s?{x:-c.width-d,y:0,...gg}:l<i&&l>=s?{x:c.width+d,y:0,...gg}:{x:0,y:0,...gg}};function oX(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return!r||!i&&!s?0:n<e?i?r.left-(i.left+i.width):s.left-(r.left+r.width):s?s.left-(r.left+r.width):r.left-(i.left+i.width)}const z5=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=XS(e,r,n),l=e[i],c=s[i];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},U5="Sortable",B5=qt.createContext({activeIndex:-1,containerId:U5,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:z5,disabled:{draggable:!1,droppable:!1}});function lX(t){let{children:e,id:n,items:r,strategy:i=z5,disabled:s=!1}=t;const{active:l,dragOverlay:c,droppableRects:d,over:f,measureDroppableContainers:m}=L5(),p=wm(U5,n),b=c.rect!==null,_=w.useMemo(()=>r.map(U=>typeof U=="object"&&"id"in U?U.id:U),[r]),A=l!=null,E=l?_.indexOf(l.id):-1,S=f?_.indexOf(f.id):-1,N=w.useRef(_),D=!iX(_,N.current),O=S!==-1&&E===-1||D,L=aX(s);pa(()=>{D&&A&&m(_)},[D,_,A,m]),w.useEffect(()=>{N.current=_},[_]);const V=w.useMemo(()=>({activeIndex:E,containerId:p,disabled:L,disableTransforms:O,items:_,overIndex:S,useDragOverlay:b,sortedRects:rX(_,d),strategy:i}),[E,p,L.draggable,L.droppable,O,_,S,d,b,i]);return qt.createElement(B5.Provider,{value:V},e)}const cX=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return XS(n,r,i).indexOf(e)},uX=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:l,previousItems:c,previousContainerId:d,transition:f}=t;return!f||!r||c!==s&&i===l?!1:n?!0:l!==i&&e===d},dX={duration:200,easing:"ease"},q5="transform",fX=al.Transition.toString({property:q5,duration:0,easing:"linear"}),hX={roleDescription:"sortable"};function mX(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,l]=w.useState(null),c=w.useRef(n);return pa(()=>{if(!e&&n!==c.current&&r.current){const d=i.current;if(d){const f=Pd(r.current,{ignoreTransform:!0}),m={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(m.x||m.y)&&l(m)}}n!==c.current&&(c.current=n)},[e,n,r,i]),w.useEffect(()=>{s&&l(null)},[s]),s}function pX(t){let{animateLayoutChanges:e=uX,attributes:n,disabled:r,data:i,getNewIndex:s=cX,id:l,strategy:c,resizeObserverConfig:d,transition:f=dX}=t;const{items:m,containerId:p,activeIndex:b,disabled:_,disableTransforms:A,sortedRects:E,overIndex:S,useDragOverlay:N,strategy:D}=w.useContext(B5),O=gX(r,_),L=m.indexOf(l),V=w.useMemo(()=>({sortable:{containerId:p,index:L,items:m},...i}),[p,i,L,m]),U=w.useMemo(()=>m.slice(m.indexOf(l)),[m,l]),{rect:P,node:C,isOver:j,setNodeRef:q}=$W({id:l,data:V,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:U,...d}}),{active:k,activatorEvent:$,activeNodeRect:M,attributes:fe,setNodeRef:be,listeners:Y,isDragging:H,over:Q,setActivatorNodeRef:ee,transform:W}=UW({id:l,data:V,attributes:{...hX,...n},disabled:O.draggable}),F=AY(q,be),X=!!k,J=X&&!A&&pg(b)&&pg(S),ce=!N&&H,Ae=ce&&J?W:null,Ee=J?Ae??(c??D)({rects:E,activeNodeRect:M,activeIndex:b,overIndex:S,index:L}):null,Je=pg(b)&&pg(S)?s({id:l,items:m,activeIndex:b,overIndex:S}):L,le=k==null?void 0:k.id,Ne=w.useRef({activeId:le,items:m,newIndex:Je,containerId:p}),He=m!==Ne.current.items,ye=e({active:k,containerId:p,isDragging:H,isSorting:X,id:l,index:L,items:m,newIndex:Ne.current.newIndex,previousItems:Ne.current.items,previousContainerId:Ne.current.containerId,transition:f,wasDragging:Ne.current.activeId!=null}),wt=mX({disabled:!ye,index:L,node:C,rect:P});return w.useEffect(()=>{X&&Ne.current.newIndex!==Je&&(Ne.current.newIndex=Je),p!==Ne.current.containerId&&(Ne.current.containerId=p),m!==Ne.current.items&&(Ne.current.items=m)},[X,Je,p,m]),w.useEffect(()=>{if(le===Ne.current.activeId)return;if(le!=null&&Ne.current.activeId==null){Ne.current.activeId=le;return}const xe=setTimeout(()=>{Ne.current.activeId=le},50);return()=>clearTimeout(xe)},[le]),{active:k,activeIndex:b,attributes:fe,data:V,rect:P,index:L,newIndex:Je,items:m,isOver:j,isSorting:X,isDragging:H,listeners:Y,node:C,overIndex:S,over:Q,setNodeRef:F,setActivatorNodeRef:ee,setDroppableNodeRef:q,setDraggableNodeRef:be,transform:wt??Ee,transition:ue()};function ue(){if(wt||He&&Ne.current.newIndex===L)return fX;if(!(ce&&!n0($)||!f)&&(X||ye))return al.Transition.toString({...f,property:q5})}}function gX(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Dy(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const yX=[ut.Down,ut.Right,ut.Up,ut.Left],vX=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:l,scrollableAncestors:c}}=e;if(yX.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];s.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const b=i.get(p.id);if(b)switch(t.code){case ut.Down:r.top<b.top&&d.push(p);break;case ut.Up:r.top>b.top&&d.push(p);break;case ut.Left:r.left>b.left&&d.push(p);break;case ut.Right:r.left<b.left&&d.push(p);break}});const f=$Y({collisionRect:r,droppableRects:i,droppableContainers:d});let m=w5(f,"id");if(m===(l==null?void 0:l.id)&&f.length>1&&(m=f[1].id),m!=null){const p=s.get(n.id),b=s.get(m),_=b?i.get(b.id):null,A=b==null?void 0:b.node.current;if(A&&_&&p&&b){const S=r0(A).some((U,P)=>c[P]!==U),N=$5(p,b),D=bX(p,b),O=S||!N?{x:0,y:0}:{x:D?r.width-_.width:0,y:D?r.height-_.height:0},L={x:_.left,y:_.top};return O.x&&O.y?L:qh(L,O)}}}};function $5(t,e){return!Dy(t)||!Dy(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function bX(t,e){return!Dy(t)||!Dy(e)||!$5(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const xX=({event:t,onCopy:e,onDelete:n,onClick:r})=>{const{attributes:i,listeners:s,setNodeRef:l,transform:c,transition:d,isDragging:f}=pX({id:t.id}),m={transform:al.Transform.toString(c),transition:d,opacity:f?.5:1};return y.jsxs("div",{ref:l,style:m,onClick:()=>r==null?void 0:r(t),className:`inline-flex items-center gap-2 bg-white/50 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-indigo-200 hover:bg-white/70 transition-colors cursor-pointer ${f?"ring-2 ring-indigo-500 shadow-lg":""}`,title:"  /  ",children:[y.jsx("button",{...i,...s,className:"cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600 transition-colors",title:"  ",children:y.jsx(s8,{className:"w-4 h-4"})}),y.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold ${t.type==="TEAM"?"bg-purple-200 text-purple-800":t.type==="PAIR"?"bg-green-200 text-green-800":"bg-blue-200 text-blue-800"}`,children:t.type==="TEAM"?"":t.type==="PAIR"?"":""}),y.jsx("span",{className:"text-sm font-bold text-indigo-900",children:t.name}),y.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[y.jsx("button",{onClick:p=>{p.stopPropagation(),e(t)},className:"text-indigo-600/70 hover:text-indigo-700 hover:bg-indigo-200/50 rounded p-0.5 transition-colors",title:"",children:y.jsx(IM,{className:"w-3.5 h-3.5"})}),y.jsx("button",{onClick:p=>{p.stopPropagation(),n(t.id)},className:"text-red-600/70 hover:text-red-700 hover:bg-red-200/50 rounded p-0.5 transition-colors",title:"",children:y.jsx($a,{className:"w-3.5 h-3.5"})})]})]})},_X=({date:t,classes:e,events:n,onClose:r})=>{const{user:i}=Pc(),[s,l]=w.useState(new Set),[c,d]=w.useState(!1),[f,m]=w.useState(null),p=(E,S)=>{var O;const N=(O=E.results)==null?void 0:O[S];return!N||(N.date||" ")!==t?null:N.score||0},b=n.filter(E=>e.some(S=>p(S,E.id)!==null)),_=E=>{const S=new Set(s);S.has(E)?S.delete(E):S.add(E),l(S)},A=async()=>{if(!(i!=null&&i.uid)){m("    .");return}d(!0),m(null);try{await qS(i.uid,e),m(" !"),setTimeout(()=>m(null),3e3)}catch(E){console.error(" :",E),m("  ."),setTimeout(()=>m(null),3e3)}finally{d(!1)}};return y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900",children:[t,"  "]}),y.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[b.length,"  "]})]}),y.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"",children:y.jsx(ts,{className:"w-5 h-5 text-slate-500"})})]}),y.jsx("div",{className:"flex-1 overflow-auto p-6",children:b.length===0?y.jsx("div",{className:"text-center py-12 text-slate-500",children:"    ."}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-50",children:[y.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider border border-slate-200",children:""}),b.map(E=>y.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-600 uppercase tracking-wider border border-slate-200",children:E.name},E.id))]})}),y.jsx("tbody",{children:e.map(E=>{const S=s.has(E.id);return y.jsxs(qt.Fragment,{children:[y.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",children:[y.jsx("td",{onClick:()=>_(E.id),className:"px-4 py-3 font-medium text-slate-900 border border-slate-200",children:y.jsxs("div",{className:"flex items-center gap-2",children:[S?y.jsx(Sv,{className:"w-4 h-4 text-slate-400"}):y.jsx(AE,{className:"w-4 h-4 text-slate-400"}),E.name]})}),b.map(N=>{const D=p(E,N.id);return y.jsx("td",{className:"px-4 py-3 text-center border border-slate-200",children:D!==null?y.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-yellow-100 text-yellow-800",children:[D,""]}):y.jsx("span",{className:"text-slate-400",children:"-"})},N.id)})]}),S&&b.some(N=>{var O;const D=(O=E.results)==null?void 0:O[N.id];return D&&(D.studentScores||D.teams)})&&E.students.map(N=>y.jsxs("tr",{className:"bg-slate-100",children:[y.jsx("td",{className:"px-4 py-2 text-sm text-slate-700 border border-slate-200 pl-12",children:N.name}),b.map(D=>{var V;const O=(V=E.results)==null?void 0:V[D.id];if(((O==null?void 0:O.date)||" ")!==t)return y.jsx("td",{className:"px-4 py-2 text-center text-sm border border-slate-200",children:y.jsx("span",{className:"text-slate-400",children:"-"})},D.id);if(O!=null&&O.studentScores){const U=O.studentScores[N.id]||0;return y.jsx("td",{className:"px-4 py-2 text-center text-sm border border-slate-200",children:y.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[U,""]})},D.id)}if(O!=null&&O.teams){const U=O.teams.find(P=>{var C;return(C=P.memberIds)==null?void 0:C.includes(N.id)});if(U)return y.jsx("td",{className:"px-4 py-2 text-center text-sm border border-slate-200",children:y.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[" ",U.score,""]})},D.id)}return y.jsx("td",{className:"px-4 py-2 text-center text-sm border border-slate-200",children:y.jsx("span",{className:"text-slate-400",children:"-"})},D.id)})]},`${E.id}-${N.id}`))]},E.id)})})]})})}),y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200 bg-slate-50",children:[y.jsx("div",{className:"flex-1",children:f&&y.jsx("p",{className:`text-sm font-medium ${f.startsWith("")?"text-green-600":"text-red-600"}`,children:f})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{onClick:A,disabled:c,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[y.jsx(IE,{className:"w-4 h-4"}),c?" ...":""]}),y.jsx("button",{onClick:r,className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:""})]})]})]})})},wX=({date:t,sessionNumber:e,records:n,events:r,getStudentName:i,getEventName:s,onClose:l})=>y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900",children:[t," - ",e,"  "]}),y.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[n.length," "]})]}),y.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"",children:y.jsx(ts,{className:"w-5 h-5 text-slate-500"})})]}),y.jsx("div",{className:"flex-1 overflow-auto p-6",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:""}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:""}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:""}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:""})]})}),y.jsx("tbody",{className:"divide-y divide-slate-200",children:n.map(c=>y.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[y.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:c.createdAt?new Date(c.createdAt).toLocaleTimeString("ko-KR"):"-"}),y.jsx("td",{className:"px-4 py-3 text-sm font-medium text-slate-900",children:i(c.studentId)}),y.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:s(c.eventId)}),y.jsx("td",{className:"px-4 py-3",children:y.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-green-100 text-green-800",children:[c.score,""]})})]},c.id))})]})})}),y.jsx("div",{className:"flex justify-end px-6 py-4 border-t border-slate-200 bg-slate-50",children:y.jsx("button",{onClick:l,className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:""})})]})}),EX=({competitionId:t,grade:e,events:n,classes:r,mode:i="practice"})=>{const{user:s}=Pc(),[l,c]=w.useState([]),[d,f]=w.useState(!0),[m,p]=w.useState(null),[b,_]=w.useState(null),[A,E]=w.useState(null),S=r.flatMap(C=>C.students.map(j=>({...j,className:C.name,classId:C.id}))),N=async()=>{f(!0);try{if(i==="practice"){const C=`grade_${e}`;console.log("    :",{competitionId:t,gradeId:C});const j=await l5(t,C);console.log("   :",j.length);const q=j.filter(k=>k.mode==="practice");console.log("   :",q.length),q.sort((k,$)=>new Date($.date).getTime()-new Date(k.date).getTime()),c(q)}else console.log("   -  "),c([])}catch(C){console.error("   :",C)}finally{f(!1)}},D=async(C,j)=>{if(!confirm(`${C} ${j}   ?

    .`))return;const q=`${C}|${j}`;E(q);try{const k=await c5(t,e,C,j);console.log(` ${k}    `),await N()}catch(k){console.error("    :",k),alert("  .")}finally{E(null)}},O=async C=>{if(!(s!=null&&s.uid)){alert("   .");return}if(confirm(`${C}   ?

    .`)){E(C);try{await u5(s.uid,t,e,C),console.log(` ${C}    `),await N()}catch(j){console.error("    :",j),alert("  .")}finally{E(null)}}};w.useEffect(()=>{console.log(" useEffect :",{competitionId:t,grade:e,mode:i,classCount:r.length}),N()},[t,e,i,r]);const L=i==="practice"?Array.from(l.reduce((C,j)=>{const q=`${j.date}|${j.sessionNumber}`;C.has(q)||C.set(q,{date:j.date,sessionNumber:j.sessionNumber,count:0,records:[]});const k=C.get(q);return k.count++,k.records.push(j),C},new Map).values()).sort((C,j)=>{const q=new Date(j.date).getTime()-new Date(C.date).getTime();return q!==0?q:C.sessionNumber-j.sessionNumber}):[],V=i==="competition"?Array.from(new Set(r.flatMap(C=>Object.values(C.results||{}).map(j=>j.date||" ")))).sort((C,j)=>C===" "?1:j===" "?-1:new Date(C).getTime()-new Date(j).getTime()):[],U=C=>{const j=S.find(q=>q.id===C);return j?`${j.name} (${j.className})`:"  "},P=C=>{const j=n.find(q=>q.id===C);return j?j.name:"  "};return d?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsx("div",{className:"text-gray-500",children:"  ..."})}):y.jsxs("div",{className:"space-y-6 p-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:i==="practice"?y.jsxs(y.Fragment,{children:[y.jsx(Eh,{className:"w-6 h-6 text-green-600"}),"  "]}):y.jsxs(y.Fragment,{children:[y.jsx(el,{className:"w-6 h-6 text-yellow-600"}),"  "]})}),y.jsx("p",{className:"text-slate-500 mt-1",children:i==="practice"?` ${L.length} `:` ${V.length} `})]}),y.jsx("button",{onClick:N,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:""})]}),i==="competition"?V.length===0?y.jsxs("div",{className:"bg-white rounded-lg p-12 text-center border border-slate-200",children:[y.jsx(Zl,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),y.jsx("p",{className:"text-slate-500",children:" ."})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(C=>{const j=r.reduce((k,$)=>k+Object.values($.results||{}).filter(M=>M.date===C).length,0),q=A===C;return y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 hover:shadow-md hover:border-yellow-400 transition-all relative",children:y.jsxs("div",{className:"flex items-start justify-between gap-3",children:[y.jsxs("div",{onClick:()=>!q&&p(C),className:"flex items-start gap-3 flex-1 cursor-pointer",children:[y.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:y.jsx(Zl,{className:"w-6 h-6 text-yellow-700"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:C}),y.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[j,"  "]}),y.jsx("p",{className:"text-xs text-yellow-700 font-medium mt-2",children:"   "})]})]}),y.jsx("button",{onClick:k=>{k.stopPropagation(),O(C)},disabled:q,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0","aria-label":"",children:q?y.jsx(iC,{className:"w-5 h-5 animate-spin"}):y.jsx($a,{className:"w-5 h-5"})})]})},C)})}):L.length===0?y.jsxs("div",{className:"bg-white rounded-lg p-12 text-center border border-slate-200",children:[y.jsx(Zl,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),y.jsx("p",{className:"text-slate-500",children:" ."})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(C=>{const j=`${C.date}|${C.sessionNumber}`,q=A===j;return y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 hover:shadow-md hover:border-green-400 transition-all relative",children:y.jsxs("div",{className:"flex items-start justify-between gap-3",children:[y.jsxs("div",{onClick:()=>!q&&_({date:C.date,sessionNumber:C.sessionNumber}),className:"flex items-start gap-3 flex-1 cursor-pointer",children:[y.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:y.jsx(Zl,{className:"w-6 h-6 text-green-700"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:C.date}),y.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[C.sessionNumber," - ",C.count," "]}),y.jsx("p",{className:"text-xs text-green-700 font-medium mt-2",children:"   "})]})]}),y.jsx("button",{onClick:k=>{k.stopPropagation(),D(C.date,C.sessionNumber)},disabled:q,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0","aria-label":"",children:q?y.jsx(iC,{className:"w-5 h-5 animate-spin"}):y.jsx($a,{className:"w-5 h-5"})})]})},j)})}),m&&y.jsx(_X,{date:m,classes:r,events:n,onClose:()=>p(null)}),b&&y.jsx(wX,{date:b.date,sessionNumber:b.sessionNumber,records:l.filter(C=>C.date===b.date&&C.sessionNumber===b.sessionNumber),events:n,getStudentName:U,getEventName:P,onClose:()=>_(null)})]})};function R1(t){if(t.length===0)return{totalRecords:0,practiceCount:0,competitionCount:0,bestScore:0,bestPracticeScore:0,bestCompetitionScore:0,averageScore:0,recentTrend:"stable",growthRate:0};const e=[...t].sort((_,A)=>A.date.localeCompare(_.date)),n=t.filter(_=>_.mode==="practice"),r=t.filter(_=>_.mode==="competition"),i=t.map(_=>_.score),s=n.map(_=>_.score),l=r.map(_=>_.score),d=i.reduce((_,A)=>_+A,0)/i.length,f=e.slice(0,5),m=e.slice(5,10);let p=0,b="stable";if(f.length>0&&m.length>0){const _=f.reduce((E,S)=>E+S.score,0)/f.length,A=m.reduce((E,S)=>E+S.score,0)/m.length;A>0&&(p=(_-A)/A*100),p>5?b="up":p<-5&&(b="down")}return{totalRecords:t.length,practiceCount:n.length,competitionCount:r.length,bestScore:i.length>0?Math.max(...i):0,bestPracticeScore:s.length>0?Math.max(...s):0,bestCompetitionScore:l.length>0?Math.max(...l):0,averageScore:Math.round(d*10)/10,recentTrend:b,growthRate:Math.round(p*10)/10}}const SX=({student:t,stats:e,loading:n=!1,onViewDetail:r})=>{const i=()=>{if(!e)return y.jsx(aC,{className:"w-4 h-4 text-slate-400"});switch(e.recentTrend){case"up":return y.jsx(Eh,{className:"w-4 h-4 text-green-500"});case"down":return y.jsx(q8,{className:"w-4 h-4 text-red-500"});default:return y.jsx(aC,{className:"w-4 h-4 text-slate-400"})}},s=()=>{if(!e)return"text-slate-500";switch(e.recentTrend){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-slate-500"}},l=()=>!e||e.growthRate===0?"-":`${e.growthRate>0?"+":""}${e.growthRate}%`;return y.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl overflow-hidden hover:border-indigo-300 hover:shadow-lg transition-all group",children:[y.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 px-4 py-3 border-b border-indigo-200",children:y.jsx("h4",{className:"font-bold text-slate-900 truncate",children:t.name})}),y.jsx("div",{className:"p-4 space-y-3",children:n?y.jsx("div",{className:"flex items-center justify-center py-4",children:y.jsx("div",{className:"w-6 h-6 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})}):e?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-sm text-slate-600",children:""}),y.jsxs("div",{className:`flex items-center gap-1 font-bold ${s()}`,children:[i(),y.jsx("span",{children:l()})]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-sm text-slate-600",children:""}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(el,{className:"w-4 h-4 text-amber-500"}),y.jsxs("span",{className:"font-bold text-slate-900",children:[e.bestScore,""]})]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-sm text-slate-600",children:" "}),y.jsxs("span",{className:"text-sm text-slate-700",children:[e.totalRecords,"",y.jsxs("span",{className:"text-slate-400 ml-1",children:["( ",e.competitionCount," /  ",e.practiceCount,")"]})]})]}),t.accessCode&&y.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-100",children:[y.jsxs("span",{className:"text-sm text-slate-600 flex items-center gap-1",children:[y.jsx(u8,{className:"w-3.5 h-3.5"}),""]}),y.jsx("span",{className:"font-mono font-bold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded",children:t.accessCode})]})]}):y.jsx("div",{className:"text-center py-4 text-slate-500 text-sm",children:" "})}),r&&y.jsxs("button",{onClick:r,className:"w-full py-2.5 bg-slate-50 hover:bg-indigo-50 border-t border-slate-200 text-sm text-slate-600 hover:text-indigo-600 transition-colors flex items-center justify-center gap-1",children:[" ",y.jsx(n8,{className:"w-3.5 h-3.5"})]})]})},AX=({classes:t,events:e,userId:n,onShowStudentDetail:r,onUpdateClasses:i})=>{const[s,l]=w.useState("all"),[c,d]=w.useState("all"),[f,m]=w.useState(new Map),[p,b]=w.useState(new Set),[_,A]=w.useState(!1),[E,S]=w.useState(!1),[N,D]=w.useState(!1),[O,L]=w.useState(null),[V,U]=w.useState(!1),[P,C]=w.useState(null),j=async()=>{U(!0),C(null);try{let H=0;for(const Q of t){const ee=Q.students.filter(W=>W.accessCode);ee.length>0&&(await I1(n,Q.id,Q.name,Q.grade,ee),H+=ee.length,console.log(` ${Q.name}: ${ee.length} `))}C({synced:H}),console.log(`  ${H}   `)}catch(H){console.error("   :",H),alert("  .")}finally{U(!1)}},q=async()=>{if(confirm(`      ?
(      )`)){D(!0),L(null);try{const H=await p5(n,t,e);L(H),H.migrated>0&&(m(new Map),M.forEach(({student:Q})=>{fe(Q.id)}))}catch(H){console.error("  :",H),alert("  .")}finally{D(!1)}}},[k,$]=w.useState(!1);w.useEffect(()=>{if(!i||k)return;const H=[];let Q=0;if(t.forEach(W=>{W.students.forEach(F=>{F.accessCode?H.push(F.accessCode):Q++})}),Q===0){$(!0);return}console.log(` accessCode   ${Q} ,   ...`);const ee=t.map(W=>({...W,students:W.students.map(F=>{if(!F.accessCode){const X=Iy(H);return H.push(X),console.log(`   ${F.name}: ${X}`),{...F,accessCode:X}}return F})}));$(!0),i(ee),ee.forEach(W=>{I1(n,W.id,W.name,W.grade,W.students).then(()=>console.log(` ${W.name} accessCodes  `)).catch(F=>console.error(` ${W.name} accessCodes  :`,F))}),console.log(" accessCode   ")},[t,i,k,n]);const M=w.useMemo(()=>{let H=[];if(s==="all")t.forEach(Q=>{Q.students.forEach(ee=>{H.push({student:ee,classId:Q.id,className:Q.name})})});else{const Q=t.find(ee=>ee.id===s);Q&&Q.students.forEach(ee=>{H.push({student:ee,classId:Q.id,className:Q.name})})}return H},[t,s]),fe=async H=>{if(!p.has(H)){b(Q=>new Set(Q).add(H));try{const Q=await f5(n,H,{eventId:c!=="all"?c:void 0}),ee=Q.length>0?R1(Q):null;m(W=>{const F=new Map(W);return F.set(H,ee),F})}catch(Q){console.error(`  ${H}   :`,Q),m(ee=>{const W=new Map(ee);return W.set(H,null),W})}finally{b(Q=>{const ee=new Set(Q);return ee.delete(H),ee})}}},be=async()=>{A(!0),m(new Map);for(const{student:H}of M)await fe(H.id);A(!1)};w.useEffect(()=>{M.forEach(({student:H})=>{f.has(H.id)||fe(H.id)})},[M,c]),w.useEffect(()=>{m(new Map),M.forEach(({student:H})=>{fe(H.id)})},[c]);const Y=w.useMemo(()=>{let H=M.length,Q=0,ee=0,W=0,F=0;return M.forEach(({student:X})=>{const J=f.get(X.id);J&&J.totalRecords>0&&(Q++,ee+=J.totalRecords,J.growthRate!==0&&(W+=J.growthRate,F++))}),{totalStudents:H,studentsWithRecords:Q,totalRecords:ee,avgGrowthRate:F>0?Math.round(W/F*10)/10:0}},[M,f]);return y.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6 animate-in fade-in duration-300",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[y.jsx(Eh,{className:"w-7 h-7 text-indigo-600"})," "]}),y.jsx("p",{className:"text-slate-500 mt-1",children:"    "})]}),y.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[y.jsxs("button",{onClick:q,disabled:N,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors flex items-center gap-2 disabled:opacity-50",title:"      ",children:[y.jsx(e8,{className:`w-4 h-4 ${N?"animate-pulse":""}`}),N?" ...":" "]}),y.jsxs("button",{onClick:j,disabled:V,className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors flex items-center gap-2 disabled:opacity-50",title:"       ",children:[y.jsx($w,{className:`w-4 h-4 ${V?"animate-spin":""}`}),V?" ...":" "]}),y.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[y.jsx(CM,{className:"w-4 h-4"})," "]})]})]}),(O||P)&&y.jsxs("div",{className:"space-y-2",children:[O&&y.jsx("div",{className:`p-4 rounded-lg ${O.migrated>0?"bg-green-50 border border-green-200":"bg-amber-50 border border-amber-200"}`,children:y.jsx("p",{className:`text-sm font-medium ${O.migrated>0?"text-green-700":"text-amber-700"}`,children:O.migrated>0?` ${O.migrated}     .`:`   . (: ${O.skipped})`})}),P&&y.jsx("div",{className:"p-4 rounded-lg bg-emerald-50 border border-emerald-200",children:y.jsxs("p",{className:"text-sm font-medium text-emerald-700",children:[" ",P.synced,"   .    ."]})})]}),y.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:y.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[y.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(ha,{className:"w-4 h-4 text-slate-500"}),y.jsxs("select",{value:s,onChange:H=>l(H.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[y.jsx("option",{value:"all",children:" "}),t.map(H=>y.jsx("option",{value:H.id,children:H.name},H.id))]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(i8,{className:"w-4 h-4 text-slate-500"}),y.jsxs("select",{value:c,onChange:H=>d(H.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[y.jsx("option",{value:"all",children:" "}),e.map(H=>y.jsx("option",{value:H.id,children:H.name},H.id))]})]}),y.jsx("button",{onClick:be,disabled:_,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50",title:"",children:y.jsx($w,{className:`w-5 h-5 ${_?"animate-spin":""}`})})]}),y.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-500",children:" "}),y.jsxs("span",{className:"font-bold text-slate-900",children:[Y.studentsWithRecords,"/",Y.totalStudents,""]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-500",children:" "}),y.jsxs("span",{className:"font-bold text-slate-900",children:[Y.totalRecords,""]})]}),Y.avgGrowthRate!==0&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-500",children:" "}),y.jsxs("span",{className:`font-bold ${Y.avgGrowthRate>0?"text-green-600":"text-red-600"}`,children:[Y.avgGrowthRate>0?"+":"",Y.avgGrowthRate,"%"]})]})]})]})}),M.length===0?y.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-12 text-center",children:[y.jsx(TE,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-2",children:" "}),y.jsx("p",{className:"text-slate-500",children:"   ."})]}):y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:M.map(({student:H,classId:Q,className:ee})=>y.jsx(SX,{student:H,stats:f.get(H.id)||null,loading:p.has(H.id),onViewDetail:r?()=>r(H,Q):void 0},H.id))}),E&&y.jsx(TX,{classes:s==="all"?t:t.filter(H=>H.id===s),onClose:()=>S(!1)})]})},TX=({classes:t,onClose:e})=>{const n=()=>{window.print()},r=t.flatMap(i=>i.students.map(s=>({...s,className:i.name})));return y.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:i=>i.stopPropagation(),children:[y.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white px-6 py-4 flex items-center justify-between print:hidden",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold",children:"   "}),y.jsxs("p",{className:"text-sm text-indigo-100",children:[" ",r.length,""]})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:""})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 print:grid-cols-4",children:r.map(i=>y.jsxs("div",{className:"border-2 border-slate-300 rounded-lg p-4 text-center print:border-black print:break-inside-avoid",children:[y.jsx("p",{className:"text-xs text-slate-500 mb-1 print:text-black",children:i.className}),y.jsx("p",{className:"font-bold text-lg text-slate-900 mb-2 print:text-black",children:i.name}),y.jsx("div",{className:"bg-indigo-50 border-2 border-indigo-200 rounded-lg py-2 px-3 print:bg-white print:border-black",children:y.jsx("p",{className:"font-mono text-2xl font-bold text-indigo-600 tracking-wider print:text-black",children:i.accessCode||"----"})}),y.jsx("p",{className:"text-xs text-slate-400 mt-2 print:text-black",children:"   "})]},i.id))})}),y.jsxs("div",{className:"border-t border-slate-200 px-6 py-4 bg-slate-50 flex justify-end gap-3 print:hidden",children:[y.jsxs("button",{onClick:n,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[y.jsx(CM,{className:"w-4 h-4"}),""]}),y.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:""})]})]})})},IX=({grade:t,classes:e,events:n,gradeConfig:r,onUpdateClasses:i,onUpdateConfig:s,onUpdateEvents:l,competitionId:c,userId:d,onClassManagementClick:f,onShowStudentPage:m})=>{const[p,b]=w.useState("SETTINGS"),[_,A]=w.useState(!1),[E,S]=w.useState("INDIVIDUAL"),[N,D]=w.useState(new Date().toISOString().split("T")[0]),[O,L]=w.useState(null),[V,U]=w.useState(null),[P,C]=w.useState(null),[j,q]=w.useState(null),[k,$]=w.useState([]),M=zY(uR(YS),uR(GS,{coordinateGetter:vX}));w.useEffect(()=>{if(!(!r||r.dateEvents)&&r.events&&Object.keys(r.events).length>0){const ue=new Date().toISOString().split("T")[0];console.log("     :",{grade:t,today:ue,eventCount:Object.keys(r.events).length}),s({...r,dateEvents:{[ue]:r.events}})}},[r,t,s]);const fe=w.useMemo(()=>e.filter(ue=>ue.grade===t),[e,t]),be=w.useMemo(()=>{var ze,Oe;if(!r)return[];const ue=((ze=r.dateEvents)==null?void 0:ze[N])||r.events||{},xe=n.filter(Fe=>{var dt;return(dt=ue[Fe.id])==null?void 0:dt.selected}),Ce=(((Oe=r.customEventsByDate)==null?void 0:Oe[N])||[]).filter(Fe=>{var dt;return(dt=ue[Fe.id])==null?void 0:dt.selected});return[...xe,...Ce]},[n,r,N]);w.useEffect(()=>{const ue=be.map(xe=>xe.id);if(ue.join(","),console.log("baseSelectedEvents changed:",ue),k.length===0&&ue.length>0)console.log("Initializing order:",ue),$(ue);else if(ue.length>0&&k.length>0){const xe=ue.filter(Ce=>!k.includes(Ce));xe.length>0&&(console.log("Adding new events:",xe),$(Ce=>[...Ce,...xe]));const Te=k.filter(Ce=>ue.includes(Ce));Te.length!==k.length&&(console.log("Removing deleted events"),$(Te))}},[be.length]);const Y=w.useMemo(()=>{if(k.length===0)return be;const ue=k.map(xe=>be.find(Te=>Te.id===xe)).filter(Boolean);return console.log(" activeEvents updated:",{selectedEventOrder:JSON.stringify(k),orderedIds:JSON.stringify(ue.map(xe=>xe.id))}),ue},[be,k]),H=w.useCallback(async(ue,xe,Te)=>{try{const Ce={id:`cls_${Date.now()}`,grade:ue,name:xe,students:Te,results:{}},{createClass:ze}=await wh(async()=>{const{createClass:Oe}=await Promise.resolve().then(()=>Uh);return{createClass:Oe}},void 0);await ze(d,c,Ce),A(!1)}catch(Ce){console.error("   :",Ce),alert("  .  .")}},[d,c]),Q=ue=>{ue.type==="INDIVIDUAL"?U(ue):C(ue)},ee=ue=>{var xn,Me,Vt,hr,mt,Fn;console.log(" [handleCopyEvent]   !! v2:",{originalEventId:ue.id,originalEventName:ue.name,selectedDate:N,currentCustomEvents:((Me=(xn=r.customEventsByDate)==null?void 0:xn[N])==null?void 0:Me.length)||0});const xe=ue.name.replace(/\s*\d+$/,"").trim(),Te=((Vt=r.customEventsByDate)==null?void 0:Vt[N])||[],Ce=[...n,...Te],ze=new RegExp(`^${xe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(\\s+\\d+)?$`),Oe=Ce.filter(Et=>ze.test(Et.name));let Fe=0;Oe.forEach(Et=>{const Lt=Et.name.match(/(\d+)$/);if(Lt){const Ft=parseInt(Lt[1]);Ft>Fe&&(Fe=Ft)}});const dt=Fe===0&&Oe.length===1?`${xe} 2`:`${xe} ${Fe+1}`,vt={...ue,id:`evt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:dt},Wt=((hr=r.dateEvents)==null?void 0:hr[N])||{},ht=Wt[ue.id]||r.events[ue.id]||{targetParticipants:0},rn={...r,dateEvents:{...r.dateEvents,[N]:{...Wt,[vt.id]:{selected:!0,targetParticipants:ht.targetParticipants}}},customEventsByDate:{...r.customEventsByDate,[N]:[...Te,vt]}};console.log(" [handleCopyEvent] onUpdateConfig :",{newEventId:vt.id,newEventName:vt.name,hasCustomEventsByDate:!!rn.customEventsByDate,customEventsByDateKeys:Object.keys(rn.customEventsByDate||{}),customEventsForDate:(Fn=(mt=rn.customEventsByDate)==null?void 0:mt[N])==null?void 0:Fn.map(Et=>Et.name)}),s(rn);const an=e.map(Et=>{if(Et.grade!==t)return Et;const Lt=Et.results[ue.id];if(!Lt)return Et;let Ft={score:0,date:N};return ue.type==="INDIVIDUAL"?(Ft.participantIds=Lt.participantIds||[],Ft.studentScores={},(Lt.participantIds||[]).forEach(Pt=>{Ft.studentScores[Pt]=0})):Ft.teams=(Lt.teams||[]).map(Pt=>({...Pt,id:`team_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,eventId:vt.id,score:0})),{...Et,results:{...Et.results,[vt.id]:Ft}}});i(an)},W=ue=>{var Fe,dt,vt,Wt,ht,rn;const xe=((Fe=r.dateEvents)==null?void 0:Fe[N])||{},Te=xe[ue]||r.events[ue]||{selected:!1,targetParticipants:0},Ce=n.find(an=>an.id===ue)||((vt=(dt=r.customEventsByDate)==null?void 0:dt[N])==null?void 0:vt.find(an=>an.id===ue)),ze=!Te.selected,Oe=((ht=(Wt=r.customEventsByDate)==null?void 0:Wt[N])==null?void 0:ht.some(an=>an.id===ue))||!1;if(!ze&&Oe){console.log("   :",ue);const xn=(((rn=r.customEventsByDate)==null?void 0:rn[N])||[]).filter(mt=>mt.id!==ue),{[ue]:Me,...Vt}=xe;s({...r,dateEvents:{...r.dateEvents,[N]:Vt},customEventsByDate:{...r.customEventsByDate,[N]:xn}});const hr=e.map(mt=>{if(mt.grade!==t)return mt;const{[ue]:Fn,...Et}=mt.results||{};return{...mt,results:Et}});(async()=>{try{const{saveCompetitionResults:mt}=await wh(async()=>{const{saveCompetitionResults:Fn}=await Promise.resolve().then(()=>Uh);return{saveCompetitionResults:Fn}},void 0);await mt(d,hr.filter(Fn=>Fn.grade===t)),console.log("    Firestore  ")}catch(mt){console.error("     :",mt)}})(),i(hr);return}if(s({...r,dateEvents:{...r.dateEvents,[N]:{...xe,[ue]:{...Te,selected:ze,targetParticipants:Te.targetParticipants||0}}}}),!!ze&&Ce){if(fe.length===0){alert("  .");return}Q(Ce)}},F=ue=>{console.log("Drag started:",ue.active.id),q(ue.active.id)},X=ue=>{const{active:xe,over:Te}=ue;if(console.log(" Drag ended:",{active:xe.id,over:Te==null?void 0:Te.id,currentOrder:JSON.stringify(k)}),q(null),!Te||xe.id===Te.id){console.log(" No change needed");return}const Ce=k.indexOf(xe.id),ze=k.indexOf(Te.id);if(console.log(" Indices:",{oldIndex:Ce,newIndex:ze,from:xe.id,to:Te.id}),Ce!==-1&&ze!==-1&&Ce!==ze){const Oe=XS([...k],Ce,ze);console.log(" Setting new order:",{old:JSON.stringify(k),new:JSON.stringify(Oe)}),$(Oe)}else console.log(" Invalid indices or no change")},J=()=>{if(console.log("Drag cancelled"),q(null),fe.length===0){alert("  .");return}event.type==="INDIVIDUAL"?U(event):C(event)},ce=ue=>{const xe=V==null?void 0:V.id;if(!xe)return;const Te=e.map(Ce=>{const ze=ue[Ce.id]||[];if(ze.length===0&&!Ce.results[xe])return Ce;const Oe=Ce.results[xe]||{score:0,studentScores:{}},Fe=ze.reduce((dt,vt)=>{var Wt;return dt+(((Wt=Oe.studentScores)==null?void 0:Wt[vt])||0)},0);return{...Ce,results:{...Ce.results,[xe]:{...Oe,participantIds:ze,score:Fe}}}});i(Te),U(null)},Ae=ue=>{const xe=P==null?void 0:P.id;if(!xe)return;const Te=e.map(Ce=>{const ze=ue[Ce.id]||[];if(ze.length===0&&!Ce.results[xe])return Ce;const Oe=Ce.results[xe]||{score:0},Fe=ze.reduce((dt,vt)=>dt+vt.score,0);return{...Ce,results:{...Ce.results,[xe]:{...Oe,teams:ze,score:Fe}}}});i(Te),C(null)},_e=(ue,xe)=>{var ze;const Te=((ze=r.dateEvents)==null?void 0:ze[N])||{},Ce=Te[ue]||r.events[ue]||{selected:!1,targetParticipants:0};s({...r,dateEvents:{...r.dateEvents,[N]:{...Te,[ue]:{...Ce,targetParticipants:xe}}}})},Ee=ue=>{let xe=0;return Y.forEach(Te=>{const Ce=ue.results[Te.id];Ce&&(xe+=Ce.score)}),xe},Je=()=>{const ue=[{id:"SETTINGS",label:" ",icon:cC},{id:"RECORDS",label:" ",icon:QB},{id:"RESULTS",label:" ",icon:el},{id:"HISTORY",label:" ",icon:l8},{id:"GROWTH",label:" ",icon:TE}];return y.jsx("div",{className:"flex flex-wrap items-center justify-between border-b border-slate-200 bg-white px-4 md:px-6 sticky top-0 z-20 gap-2",children:y.jsx("div",{className:"flex overflow-x-auto no-scrollbar",children:ue.map(xe=>y.jsxs("button",{onClick:()=>b(xe.id),className:`flex items-center gap-2 px-4 md:px-6 py-3 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${p===xe.id?"border-indigo-600 text-indigo-700":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[y.jsx(xe.icon,{className:`w-4 h-4 ${p===xe.id?"text-indigo-600":"text-slate-400"}`}),xe.label]},xe.id))})})},le=()=>{var rn,an,xn;const ue=((rn=r.dateEvents)==null?void 0:rn[N])||r.events||{},xe=((an=r.customEventsByDate)==null?void 0:an[N])||[],Te=[...n,...xe],Ce=Te.filter(Me=>Me.type==="INDIVIDUAL"),ze=Te.filter(Me=>Me.type==="PAIR"),Oe=Te.filter(Me=>Me.type==="TEAM"),Fe=Ce.filter(Me=>{var Vt;return(Vt=ue[Me.id])==null?void 0:Vt.selected}).length,dt=ze.filter(Me=>{var Vt;return(Vt=ue[Me.id])==null?void 0:Vt.selected}).length,vt=Oe.filter(Me=>{var Vt;return(Vt=ue[Me.id])==null?void 0:Vt.selected}).length;Te.filter(Me=>{var Vt;return(Vt=ue[Me.id])==null?void 0:Vt.selected});const Wt=[{id:"INDIVIDUAL",label:"",count:Fe,total:Ce.length},{id:"PAIR",label:"",count:dt,total:ze.length},{id:"TEAM",label:"",count:vt,total:Oe.length}],ht=Me=>{var Fn;const hr=(((Fn=r.dateEvents)==null?void 0:Fn[N])||{})[Me.id]||r.events[Me.id]||{selected:!1,targetParticipants:0},mt=hr.selected;return y.jsx("div",{className:`rounded-lg border-2 p-4 transition-all ${mt?"border-indigo-600 bg-indigo-50/30":"border-slate-200 bg-white hover:border-slate-300"}`,children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("button",{onClick:()=>W(Me.id),className:`mt-0.5 p-1 rounded-md flex-shrink-0 transition-colors ${mt?"bg-indigo-600 text-white":"bg-slate-100 text-slate-300 hover:text-slate-400"}`,children:mt?y.jsx(M8,{className:"w-4 h-4"}):y.jsx(V8,{className:"w-4 h-4"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("h4",{className:`font-bold text-base truncate ${mt?"text-indigo-900":"text-slate-700"}`,children:Me.name}),y.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-bold uppercase flex-shrink-0 ${Me.type==="TEAM"?"bg-purple-100 text-purple-700":Me.type==="PAIR"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:Me.type==="TEAM"?"":Me.type==="PAIR"?"":""})]}),Me.description&&y.jsx("p",{className:"text-xs text-slate-500 mb-2",children:Me.description}),mt&&y.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[y.jsx("label",{className:"text-[10px] font-bold text-indigo-800 whitespace-nowrap",children:" "}),y.jsx("input",{type:"number",min:"0",value:hr.targetParticipants||"",onChange:Et=>_e(Me.id,parseInt(Et.target.value)||0),className:"w-14 px-2 py-0.5 text-center text-xs border border-indigo-200 rounded focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"0"}),y.jsx("span",{className:"text-[10px] text-slate-400",children:""})]})]})]})},Me.id)};return y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 px-6 py-3 border-b border-indigo-200",children:y.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[y.jsx("span",{className:"text-lg",children:""}),y.jsx("input",{type:"date",value:N,onChange:Me=>D(Me.target.value),className:"px-3 py-1.5 text-sm font-medium border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white"})]}),Y.length>0&&y.jsx("div",{className:"h-6 w-px bg-indigo-300 hidden sm:block"}),Y.length>0&&y.jsxs("div",{className:"flex flex-wrap items-center gap-2 flex-1 min-w-0",children:[y.jsx("span",{className:"text-sm font-bold text-slate-700 flex-shrink-0",children:" :"}),y.jsxs(VW,{sensors:M,collisionDetection:qY,onDragStart:F,onDragEnd:X,onDragCancel:J,children:[y.jsx(lX,{items:k,strategy:sX,children:y.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(Me=>y.jsx(xX,{event:Me,onCopy:ee,onDelete:W,onClick:Q},Me.id))})}),y.jsx(nX,{children:j?y.jsx("div",{className:"inline-flex items-center gap-2 bg-white/70 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-indigo-300 shadow-lg rotate-2 opacity-90",children:y.jsx("span",{className:"text-sm font-bold text-indigo-900",children:(xn=Y.find(Me=>Me.id===j))==null?void 0:xn.name})}):null})]})]})]})}),y.jsx("div",{className:"flex border-b border-slate-200 bg-white px-6",children:Wt.map(Me=>y.jsxs("button",{onClick:()=>S(Me.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 transition-colors whitespace-nowrap ${E===Me.id?"border-indigo-600 text-indigo-700":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[y.jsx("span",{children:Me.label}),y.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${E===Me.id?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-500"}`,children:[Me.count,"/",Me.total]})]},Me.id))}),y.jsx("div",{className:"flex-1 overflow-auto p-8 bg-slate-50",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h3",{className:"text-xl font-bold text-slate-900",children:[E==="INDIVIDUAL"&&" ",E==="PAIR"&&" ",E==="TEAM"&&" "]}),y.jsxs("p",{className:"text-slate-500 mt-1",children:[E==="INDIVIDUAL"&&"    .",E==="PAIR"&&"2     .",E==="TEAM"&&"    ."]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[E==="INDIVIDUAL"&&Ce.map(ht),E==="PAIR"&&ze.map(ht),E==="TEAM"&&Oe.map(ht)]})]})})]})},Ne=()=>fe.length===0?y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12",children:[y.jsx(ha,{className:"w-12 h-12 text-slate-300 mb-4"}),y.jsx("p",{className:"text-slate-500 font-medium",children:"  ."}),y.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"     ."})]}):Y.length===0?y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12",children:[y.jsx(cC,{className:"w-12 h-12 text-slate-300 mb-4"}),y.jsx("p",{className:"text-slate-500 font-medium",children:"  ."}),y.jsx("button",{onClick:()=>b("SETTINGS"),className:"text-indigo-600 font-semibold mt-2 hover:underline",children:"   "})]}):y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsx("div",{className:"flex-shrink-0 p-6 bg-slate-50 border-b border-slate-200",children:y.jsx(_Y,{showDatePicker:!1})}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50",children:y.jsx("div",{className:"max-w-full mx-auto",children:y.jsx(bY,{classes:fe,activeEvents:Y,onUpdateClasses:i,selectedDate:N,competitionId:c,userId:d,grade:t,onEditParticipants:(ue,xe)=>{console.log(" [onEditParticipants] :",{eventId:ue,classId:xe});const Te=Y.find(Ce=>Ce.id===ue)||n.find(Ce=>Ce.id===ue);console.log(" [onEditParticipants]  event:",Te),Te&&Te.type==="INDIVIDUAL"?U(Te):Te&&(Te.type==="PAIR"||Te.type==="TEAM")&&C(Te)}})})})]}),He=()=>y.jsx("div",{className:"flex-1 overflow-auto",children:y.jsx(EX,{competitionId:c,userId:d,grade:t,events:n,classes:fe,mode:"competition",gradeConfig:r})}),ye=()=>{const ue=[...fe].sort((ze,Oe)=>Ee(Oe)-Ee(ze)),xe=ue.slice(0,3),Te=ue.slice(3),Ce=(ze,Oe)=>{const Fe=Ee(ze),dt=Oe===1?"h-96":Oe===2?"h-80":"h-72",vt=Oe===1?"from-yellow-400 to-yellow-600":Oe===2?"from-slate-300 to-slate-500":"from-orange-400 to-orange-600",Wt=Oe===1?"from-yellow-50 to-yellow-100":Oe===2?"from-slate-50 to-slate-100":"from-orange-50 to-orange-100";return y.jsxs("div",{className:"flex flex-col items-center flex-1",children:[y.jsxs("div",{className:`w-24 h-24 rounded-full bg-gradient-to-br ${vt} shadow-2xl flex items-center justify-center mb-4 relative transform hover:scale-110 transition-transform`,children:[y.jsx("span",{className:"text-5xl",children:Oe===1?"":Oe===2?"":""}),y.jsx("div",{className:`absolute -bottom-2 w-16 h-8 bg-gradient-to-br ${vt} opacity-30 blur-xl rounded-full`})]}),y.jsxs("div",{className:`text-2xl font-black mb-2 ${Oe===1?"text-yellow-600":Oe===2?"text-slate-600":"text-orange-600"}`,children:[Oe,""]}),y.jsxs("div",{className:`${dt} w-full bg-gradient-to-b ${Wt} rounded-t-2xl shadow-xl border-4 ${Oe===1?"border-yellow-400":Oe===2?"border-slate-300":"border-orange-400"} p-6 flex flex-col justify-between transition-all hover:shadow-2xl`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h3",{className:`text-2xl font-black mb-2 ${Oe===1?"text-yellow-900":Oe===2?"text-slate-800":"text-orange-900"}`,children:ze.name}),y.jsxs("p",{className:"text-sm text-slate-600",children:[" ",ze.students.length,""]})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Score"}),y.jsx("div",{className:`text-5xl font-black tracking-tight ${Oe===1?"text-yellow-700":Oe===2?"text-slate-700":"text-orange-700"}`,children:Fe}),y.jsx("div",{className:"text-xs text-slate-500 mt-1",children:""})]}),y.jsxs("div",{className:"mt-4 space-y-1.5 overflow-hidden",children:[Y.slice(0,3).map(ht=>{var an;const rn=((an=ze.results[ht.id])==null?void 0:an.score)||0;return y.jsxs("div",{className:"flex justify-between gap-2 text-xs",children:[y.jsx("span",{className:"text-slate-600 truncate min-w-0 flex-1",children:ht.name}),y.jsxs("span",{className:"font-bold text-slate-800 flex-shrink-0",children:[rn,""]})]},ht.id)}),Y.length>3&&y.jsxs("div",{className:"text-center text-[10px] text-slate-400 pt-1",children:["+",Y.length-3," "]})]})]})]})};return y.jsx("div",{className:"max-w-7xl mx-auto p-8 animate-in fade-in duration-300",children:ue.length===0?y.jsx("div",{className:"p-12 text-center bg-white rounded-2xl border border-slate-200 shadow-sm",children:y.jsx("p",{className:"text-slate-400",children:" ."})}):y.jsxs("div",{className:"space-y-12",children:[xe.length>0&&y.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-16 max-w-5xl mx-auto items-end",children:[xe.length>=2?Ce(xe[1],2):y.jsx("div",{}),xe.length>=1&&Ce(xe[0],1),xe.length>=3?Ce(xe[2],3):y.jsx("div",{})]}),Te.length>0&&y.jsxs("div",{children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h4",{className:"text-xl font-bold text-slate-700 mb-2",children:"  "}),y.jsx("p",{className:"text-sm text-slate-500",children:"4 "})]}),y.jsx("div",{className:"space-y-3",children:Te.map((ze,Oe)=>{const Fe=Oe+4,dt=Ee(ze);return y.jsx("div",{className:"bg-white rounded-xl p-5 border border-slate-200 shadow-sm hover:shadow-md transition-all",children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[y.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-xl bg-slate-50 text-slate-600 text-xl font-bold",children:Fe}),y.jsxs("div",{className:"flex-1 w-full text-center md:text-left",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-baseline gap-2 mb-3",children:[y.jsx("h4",{className:"text-xl font-bold text-slate-900",children:ze.name}),y.jsxs("span",{className:"text-sm text-slate-500",children:[" ",ze.students.length,""]})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 text-sm",children:Y.map(vt=>{const Wt=ze.results[vt.id],ht=(Wt==null?void 0:Wt.score)||0;return y.jsxs("div",{className:"bg-slate-50 p-2 rounded border border-slate-100",children:[y.jsx("span",{className:"text-slate-500 text-xs truncate block",children:vt.name}),y.jsxs("span",{className:"font-bold text-slate-800",children:[ht,""]})]},vt.id)})})]}),y.jsxs("div",{className:"text-center flex-shrink-0 w-full md:w-auto border-t md:border-t-0 pt-4 md:pt-0 border-slate-100",children:[y.jsx("span",{className:"block text-xs font-bold text-indigo-500 uppercase tracking-wider mb-1",children:"Total"}),y.jsx("span",{className:"text-3xl font-black text-slate-900 tracking-tight",children:dt}),y.jsx("span",{className:"text-sm text-slate-500 ml-1",children:""})]})]})},ze.id)})})]})]})})},wt=()=>y.jsx(AX,{classes:fe,events:n,userId:d,onShowStudentDetail:(ue,xe)=>{ue.accessCode&&m?m(ue.accessCode):console.log("  :",ue.name,xe,"(accessCode )")},onUpdateClasses:ue=>{i(ue)}});return y.jsxs("div",{className:"flex-1 bg-slate-50 h-full overflow-hidden flex flex-col",children:[Je(),y.jsxs("div",{className:"flex-1 overflow-auto bg-slate-50 scroll-smooth",children:[p==="SETTINGS"&&le(),p==="RECORDS"&&Ne(),p==="HISTORY"&&He(),p==="RESULTS"&&ye(),p==="GROWTH"&&wt()]}),V&&y.jsx(EY,{event:V,classes:fe,existingData:fe.reduce((ue,xe)=>{var Ce;const Te=((Ce=xe.results[V.id])==null?void 0:Ce.participantIds)||[];return{...ue,[xe.id]:Te}},{}),onSave:ce,onClose:()=>U(null)}),P&&y.jsx(SY,{event:P,classes:fe,existingData:fe.reduce((ue,xe)=>{var Ce;const Te=((Ce=xe.results[P.id])==null?void 0:Ce.teams)||[];return{...ue,[xe.id]:Te}},{}),onSave:Ae,onClose:()=>C(null)}),_&&y.jsx(g5,{grade:t,onSubmit:H,onClose:()=>A(!1)})]})},NX=()=>{const{signInWithGoogle:t}=Pc();return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center p-3 sm:p-4",children:y.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-6 sm:p-8",children:[y.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[y.jsx("div",{className:"inline-block bg-indigo-600 p-3 sm:p-4 rounded-full mb-3 sm:mb-4",children:y.jsx(el,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})}),y.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900 mb-2",children:"  "}),y.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"     "})]}),y.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-slate-200 hover:border-indigo-300 hover:bg-indigo-50 text-slate-700 font-semibold py-3 px-6 rounded-lg transition-all",children:[y.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google  "]}),y.jsx("p",{className:"text-xs text-slate-500 text-center mt-6",children:"        "})]})})};function CX({children:t}){const{user:e,loading:n}=Pc(),[r,i]=w.useState(null),[s,l]=w.useState(!1),[c,d]=w.useState(!0),[f,m]=w.useState(!1);w.useEffect(()=>{(async()=>{if(!e||n){d(!1),i(!0);return}console.log(" [PrivacyConsentGuard]    ..."),d(!0);try{const A=await o5(e.uid,T1);A?(console.log(" [PrivacyConsentGuard]   :",A),i(!0),l(!1)):(console.log(" [PrivacyConsentGuard]    -  "),i(!1),l(!0))}catch(A){console.error(" [PrivacyConsentGuard]   :",A),i(!1),l(!0)}finally{d(!1)}})()},[e==null?void 0:e.uid,n]);const p=async _=>{if(!e)throw console.error(" [PrivacyConsentGuard] user "),new Error("  .");console.log(" [PrivacyConsentGuard]   :",_);try{await BS({teacherId:e.uid,teacherEmail:e.email||"",consentType:"teacher",version:_.version,termsAgreed:_.termsAgreed,dataCollectionAgreed:_.dataCollectionAgreed,marketingAgreed:_.marketingAgreed}),console.log(" [PrivacyConsentGuard]   "),i(!0),l(!1)}catch(A){throw console.error(" [PrivacyConsentGuard]   :",A),A}},b=()=>{console.log(" [PrivacyConsentGuard]   "),m(!0),l(!1)};return c?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-500 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-700 font-semibold",children:"   ..."})]})}):f?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"  "}),y.jsxs("p",{className:"text-gray-600 leading-relaxed",children:["   ",y.jsx("br",{}),"   ."]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{onClick:()=>{m(!1),l(!0)},className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg transition-colors",children:" "}),y.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors",children:" "})]})]})}):!r&&e&&!n?y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 flex items-center justify-center",children:[y.jsx("div",{className:"text-center",children:y.jsxs("div",{className:"mb-8",children:[y.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"!"}),y.jsxs("p",{className:"text-gray-600",children:["    ",y.jsx("br",{})," ."]})]})}),y.jsx(X3,{isOpen:s,onClose:null,onAgree:p,onDisagree:b,canClose:!1})]}):y.jsx(y.Fragment,{children:t})}function OX(){const[t,e]=w.useState(navigator.onLine);return w.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t}const RX=()=>OX()?null:y.jsxs("div",{className:"fixed bottom-4 left-4 z-50 flex items-center gap-2 bg-amber-500 text-white px-4 py-2 rounded-lg shadow-lg animate-pulse",children:[y.jsx(X8,{size:18}),y.jsx("span",{className:"text-sm font-medium",children:" "})]}),PX=({classData:t,onClose:e,onUpdateStudents:n,onShowStudentRecord:r})=>{const[i,s]=w.useState(t.students),[l,c]=w.useState(null),[d,f]=w.useState(""),[m,p]=w.useState(""),[b,_]=w.useState(!1);w.useEffect(()=>{const O=i.filter(L=>!L.accessCode);if(O.length>0){console.log(` accessCode   ${O.length} ,   ...`);const L=i.filter(U=>U.accessCode).map(U=>U.accessCode),V=i.map(U=>{if(!U.accessCode){const P=Iy(L);return L.push(P),console.log(`   ${U.name}: ${P}`),{...U,accessCode:P}}return U});s(V),n(t.id,V),console.log(` ${O.length}  accessCode  `)}},[]);const A=O=>{c(O.id),f(O.name)},E=O=>{if(!d.trim()){alert("  .");return}const L=i.map(V=>V.id===O?{...V,name:d.trim()}:V);s(L),n(t.id,L),c(null),f("")},S=()=>{c(null),f("")},N=O=>{const L=i.find(V=>V.id===O);if(L&&confirm(`"${L.name}"  ?`)){const V=i.filter(U=>U.id!==O);s(V),n(t.id,V)}},D=()=>{if(!m.trim()){alert("  .");return}const O=i.filter(U=>U.accessCode).map(U=>U.accessCode),L={id:`std_${Date.now()}`,name:m.trim(),accessCode:Iy(O)},V=[...i,L];s(V),n(t.id,V),p(""),_(!1)};return y.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:e,children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:O=>O.stopPropagation(),children:[y.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-500 text-white px-6 py-4 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-lg font-bold",children:[t.grade," ",t.name,"  "]}),y.jsxs("p",{className:"text-sm text-purple-100",children:[" ",i.length,""]})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:y.jsx(ts,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[i.map(O=>y.jsx("div",{className:"bg-slate-50 border-2 border-slate-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:l===O.id?y.jsxs("div",{className:"space-y-2",children:[y.jsx("input",{type:"text",value:d,onChange:L=>f(L.target.value),onKeyDown:L=>{L.key==="Enter"&&E(O.id),L.key==="Escape"&&S()},className:"w-full px-2 py-1 border-2 border-purple-500 rounded-md focus:ring-2 focus:ring-purple-500 outline-none text-sm",autoFocus:!0}),y.jsxs("div",{className:"flex gap-1",children:[y.jsxs("button",{onClick:()=>E(O.id),className:"flex-1 px-2 py-1 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-xs flex items-center justify-center gap-1",children:[y.jsx(Jg,{className:"w-3 h-3"}),""]}),y.jsx("button",{onClick:S,className:"flex-1 px-2 py-1 bg-slate-300 text-slate-700 rounded-md hover:bg-slate-400 text-xs",children:""})]})]}):y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"font-medium text-slate-900 flex-1 truncate",children:O.name}),y.jsxs("div",{className:"flex gap-1",children:[r&&y.jsx("button",{onClick:()=>r(O.id),className:"p-1.5 text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"  ",children:y.jsx($B,{className:"w-3.5 h-3.5"})}),y.jsx("button",{onClick:()=>A(O),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:" ",children:y.jsx(NM,{className:"w-3.5 h-3.5"})}),y.jsx("button",{onClick:()=>N(O.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:" ",children:y.jsx($a,{className:"w-3.5 h-3.5"})})]})]})},O.id)),b?y.jsx("div",{className:"bg-green-50 border-2 border-green-300 rounded-lg p-4",children:y.jsxs("div",{className:"space-y-2",children:[y.jsx("input",{type:"text",value:m,onChange:O=>p(O.target.value),onKeyDown:O=>{O.key==="Enter"&&D(),O.key==="Escape"&&(_(!1),p(""))},placeholder:" ",className:"w-full px-2 py-1 border-2 border-green-500 rounded-md focus:ring-2 focus:ring-green-500 outline-none text-sm",autoFocus:!0}),y.jsxs("div",{className:"flex gap-1",children:[y.jsxs("button",{onClick:D,className:"flex-1 px-2 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-xs flex items-center justify-center gap-1",children:[y.jsx(Jg,{className:"w-3 h-3"}),""]}),y.jsx("button",{onClick:()=>{_(!1),p("")},className:"flex-1 px-2 py-1 bg-slate-300 text-slate-700 rounded-md hover:bg-slate-400 text-xs",children:""})]})]})}):y.jsxs("button",{onClick:()=>_(!0),className:"bg-green-50 border-2 border-dashed border-green-300 rounded-lg p-4 hover:bg-green-100 hover:border-green-400 transition-colors flex items-center justify-center gap-2 text-green-700 font-medium",children:[y.jsx(ey,{className:"w-5 h-5"}),y.jsx("span",{children:" "})]})]})}),y.jsx("div",{className:"border-t border-slate-200 px-6 py-4 bg-slate-50 flex justify-end",children:y.jsx(wr,{variant:"secondary",onClick:e,children:""})})]})})},DX=({competitionId:t,allClasses:e,onClose:n,onAddClass:r,onDeleteClass:i,onUpdateStudents:s,onShowStudentRecord:l})=>{const[c,d]=w.useState(1),[f,m]=w.useState(!1),[p,b]=w.useState(null),_=e.filter(S=>S.grade===c),A=S=>{confirm(`"${S.grade} ${S.name}"() ?

      .`)&&i(S.id)},E=S=>{b(S)};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-[1200px] h-[85vh] overflow-hidden flex flex-col",onClick:S=>S.stopPropagation(),children:[y.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white px-6 py-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:y.jsx(ha,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold",children:" "}),y.jsx("p",{className:"text-sm text-indigo-100",children:"    "})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors text-sm font-medium",children:[y.jsx(ey,{className:"w-4 h-4"}),"  "]}),y.jsx("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:y.jsx(ts,{className:"w-5 h-5"})})]})]}),y.jsx("div",{className:"border-b border-slate-200 bg-slate-50",children:y.jsx("div",{className:"flex overflow-x-auto",children:[1,2,3,4,5,6].map(S=>{const N=e.filter(D=>D.grade===S).length;return y.jsxs("button",{onClick:()=>d(S),className:`flex-shrink-0 px-6 py-3 font-medium transition-colors border-b-2 ${c===S?"border-indigo-600 text-indigo-600 bg-white":"border-transparent text-slate-600 hover:text-slate-900 hover:bg-slate-100"}`,children:[S,"",N>0&&y.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-indigo-100 text-indigo-700 rounded-full",children:N})]},S)})})}),y.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-6",children:_.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-full text-center py-12",children:[y.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:y.jsx(ha,{className:"w-10 h-10 text-slate-400"})}),y.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"  "}),y.jsx("p",{className:"text-sm text-slate-500 mb-4",children:'  "  "    '}),y.jsxs(wr,{onClick:()=>m(!0),children:[y.jsx(ey,{className:"w-4 h-4 mr-2"})," "]})]}):y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(S=>y.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl overflow-hidden hover:border-indigo-300 hover:shadow-lg transition-all group",children:[y.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 p-4 border-b border-indigo-200",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"font-bold text-lg text-slate-900",children:[S.grade,""]}),y.jsx("span",{className:"font-bold text-lg text-slate-900",children:S.name}),y.jsxs("span",{className:"text-sm text-slate-600 flex items-center gap-1",children:[y.jsx(ha,{className:"w-3.5 h-3.5"}),S.students.length,""]})]}),y.jsx("button",{onClick:N=>{N.stopPropagation(),A(S)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:" ",children:y.jsx($a,{className:"w-4 h-4"})})]})}),y.jsx("div",{onClick:()=>E(S),className:"p-3 cursor-pointer hover:bg-slate-50 transition-colors flex items-center justify-center",children:y.jsx("span",{className:"text-sm text-slate-600",children:"   "})})]},S.id))})}),y.jsxs("div",{className:"border-t border-slate-200 px-6 py-4 bg-slate-50 flex justify-between items-center",children:[y.jsxs("p",{className:"text-sm text-slate-600",children:[" ",y.jsx("strong",{className:"text-indigo-600",children:e.length})," ,"," ",y.jsx("strong",{className:"text-indigo-600",children:e.reduce((S,N)=>S+N.students.length,0)})," "]}),y.jsx(wr,{variant:"secondary",onClick:n,children:""})]})]})}),f&&y.jsx(g5,{onSubmit:(S,N,D)=>{r(S,N,D),m(!1)},onClose:()=>m(!1)}),p&&y.jsx(PX,{classData:p,onClose:()=>b(null),onUpdateStudents:s,onShowStudentRecord:l})]})};function F5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=F5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Rt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=F5(t))&&(r&&(r+=" "),r+=e);return r}var jX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function QS(t){if(typeof t!="string")return!1;var e=jX;return e.includes(t)}var MX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function H5(t){if(typeof t!="string")return!1;var e=MX;return e.includes(t)}function G5(t){return typeof t=="string"&&t.startsWith("data-")}function Qa(t){var e=Object.entries(t).filter(n=>{var[r]=n;return H5(r)||G5(r)});return Object.fromEntries(e)}function s0(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Qa(e)}return typeof t=="object"&&!Array.isArray(t)?Qa(t):null}function Nr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return H5(r)||G5(r)||QS(r)});return Object.fromEntries(e)}function kX(t){return t==null?null:w.isValidElement(t)?Nr(t.props):typeof t=="object"&&!Array.isArray(t)?Nr(t):null}var VX=["children","width","height","viewBox","className","style","title","desc"];function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P1.apply(null,arguments)}function LX(t,e){if(t==null)return{};var n,r,i=zX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZS=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:d,desc:f}=t,m=LX(t,VX),p=s||{width:r,height:i,x:0,y:0},b=Rt("recharts-surface",l);return w.createElement("svg",P1({},Nr(m),{className:b,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),w.createElement("title",null,d),w.createElement("desc",null,f),n)}),UX=["children","className"];function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D1.apply(null,arguments)}function BX(t,e){if(t==null)return{};var n,r,i=qX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Us=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=BX(t,UX),s=Rt("recharts-layer",r);return w.createElement("g",D1({className:s},Nr(i),{ref:e}),n)}),K5=w.createContext(null),$X=()=>w.useContext(K5);function Bt(t){return function(){return t}}const Y5=Math.cos,jy=Math.sin,va=Math.sqrt,My=Math.PI,o0=2*My,j1=Math.PI,M1=2*j1,Hl=1e-6,FX=M1-Hl;function W5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function HX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return W5;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class GX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?W5:HX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=r-e,f=i-n,m=l-e,p=c-n,b=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Hl)if(!(Math.abs(p*d-f*m)>Hl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,A=i-c,E=d*d+f*f,S=_*_+A*A,N=Math.sqrt(E),D=Math.sqrt(b),O=s*Math.tan((j1-Math.acos((E+b-S)/(2*N*D)))/2),L=O/D,V=O/N;Math.abs(L-1)>Hl&&this._append`L${e+L*m},${n+L*p}`,this._append`A${s},${s},0,0,${+(p*_>m*A)},${this._x1=e+V*d},${this._y1=n+V*f}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,m=n+d,p=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Hl||Math.abs(this._y1-m)>Hl)&&this._append`L${f},${m}`,r&&(b<0&&(b=b%M1+M1),b>FX?this._append`A${r},${r},0,1,${p},${e-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:b>Hl&&this._append`A${r},${r},0,${+(b>=j1)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function JS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new GX(e)}function eA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function X5(t){this._context=t}X5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function l0(t){return new X5(t)}function Q5(t){return t[0]}function Z5(t){return t[1]}function J5(t,e){var n=Bt(!0),r=null,i=l0,s=null,l=JS(c);t=typeof t=="function"?t:t===void 0?Q5:Bt(t),e=typeof e=="function"?e:e===void 0?Z5:Bt(e);function c(d){var f,m=(d=eA(d)).length,p,b=!1,_;for(r==null&&(s=i(_=l())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(p,f,d),+e(p,f,d));if(_)return s=null,_+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Bt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Bt(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Bt(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),c):r},c}function yg(t,e,n){var r=null,i=Bt(!0),s=null,l=l0,c=null,d=JS(f);t=typeof t=="function"?t:t===void 0?Q5:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Z5:Bt(+n);function f(p){var b,_,A,E=(p=eA(p)).length,S,N=!1,D,O=new Array(E),L=new Array(E);for(s==null&&(c=l(D=d())),b=0;b<=E;++b){if(!(b<E&&i(S=p[b],b,p))===N)if(N=!N)_=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),A=b-1;A>=_;--A)c.point(O[A],L[A]);c.lineEnd(),c.areaEnd()}N&&(O[b]=+t(S,b,p),L[b]=+e(S,b,p),c.point(r?+r(S,b,p):O[b],n?+n(S,b,p):L[b]))}if(D)return c=null,D+""||null}function m(){return J5().defined(i).curve(l).context(s)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Bt(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Bt(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Bt(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Bt(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Bt(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Bt(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Bt(!!p),f):i},f.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),f):l},f.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),f):s},f}class e6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function KX(t){return new e6(t,!0)}function YX(t){return new e6(t,!1)}const tA={draw(t,e){const n=va(e/My);t.moveTo(n,0),t.arc(0,0,n,0,o0)}},WX={draw(t,e){const n=va(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},t6=va(1/3),XX=t6*2,QX={draw(t,e){const n=va(e/XX),r=n*t6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ZX={draw(t,e){const n=va(e),r=-n/2;t.rect(r,r,n,n)}},JX=.8908130915292852,n6=jy(My/10)/jy(7*My/10),eQ=jy(o0/10)*n6,tQ=-Y5(o0/10)*n6,nQ={draw(t,e){const n=va(e*JX),r=eQ*n,i=tQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=o0*s/5,c=Y5(l),d=jy(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},d_=va(3),rQ={draw(t,e){const n=-va(e/(d_*3));t.moveTo(0,n*2),t.lineTo(-d_*n,-n),t.lineTo(d_*n,-n),t.closePath()}},Li=-.5,zi=va(3)/2,k1=1/va(12),iQ=(k1/2+1)*3,aQ={draw(t,e){const n=va(e/iQ),r=n/2,i=n*k1,s=r,l=n*k1+n,c=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,d),t.lineTo(Li*r-zi*i,zi*r+Li*i),t.lineTo(Li*s-zi*l,zi*s+Li*l),t.lineTo(Li*c-zi*d,zi*c+Li*d),t.lineTo(Li*r+zi*i,Li*i-zi*r),t.lineTo(Li*s+zi*l,Li*l-zi*s),t.lineTo(Li*c+zi*d,Li*d-zi*c),t.closePath()}};function sQ(t,e){let n=null,r=JS(i);t=typeof t=="function"?t:Bt(t||tA),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function ky(){}function Vy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function r6(t){this._context=t}r6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oQ(t){return new r6(t)}function i6(t){this._context=t}i6.prototype={areaStart:ky,areaEnd:ky,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lQ(t){return new i6(t)}function a6(t){this._context=t}a6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cQ(t){return new a6(t)}function s6(t){this._context=t}s6.prototype={areaStart:ky,areaEnd:ky,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function uQ(t){return new s6(t)}function SR(t){return t<0?-1:1}function AR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(SR(s)+SR(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function TR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function f_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function Ly(t){this._context=t}Ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:f_(this,this._t0,TR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,f_(this,TR(this,n=AR(this,t,e)),n);break;default:f_(this,this._t0,n=AR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function o6(t){this._context=new l6(t)}(o6.prototype=Object.create(Ly.prototype)).point=function(t,e){Ly.prototype.point.call(this,e,t)};function l6(t){this._context=t}l6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function dQ(t){return new Ly(t)}function fQ(t){return new o6(t)}function c6(t){this._context=t}c6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=IR(t),i=IR(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function IR(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function hQ(t){return new c6(t)}function c0(t,e){this._context=t,this._t=e}c0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function mQ(t){return new c0(t,.5)}function pQ(t){return new c0(t,0)}function gQ(t){return new c0(t,1)}function md(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function V1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function yQ(t,e){return t[e]}function vQ(t){const e=[];return e.key=t,e}function bQ(){var t=Bt([]),e=V1,n=md,r=yQ;function i(s){var l=Array.from(t.apply(this,arguments),vQ),c,d=l.length,f=-1,m;for(const p of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+r(p,l[c].key,f,s)]).data=p;for(c=0,m=eA(e(l));c<d;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Bt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?V1:typeof s=="function"?s:Bt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??md,i):n},i}function xQ(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}md(t,e)}}function _Q(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}md(t,e)}}function wQ(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,d=0,f=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,b=m[r-1][1]||0,_=(p-b)/2,A=0;A<c;++A){var E=t[e[A]],S=E[r][1]||0,N=E[r-1][1]||0;_+=S-N}d+=p,f+=_*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,md(t,e)}}var h_={},m_={},NR;function EQ(){return NR||(NR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(m_)),m_}var p_={},CR;function u6(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(p_)),p_}var g_={},OR;function nA(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(g_)),g_}var y_={},v_={},RR;function SQ(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(v_)),v_}var PR;function rA(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SQ(),n=nA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=i[c];f?p==="\\"&&c+1<l?(c++,d+=i[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,s.push(d),d=""):d+=p:p==="["?(m=!0,d&&(s.push(d),d="")):p==="."?d&&(s.push(d),d=""):d+=p,c++}return d&&s.push(d),s}t.toPath=r})(y_)),y_}var DR;function iA(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EQ(),n=u6(),r=nA(),i=rA();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?s(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function l(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||e.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}t.get=s})(h_)),h_}var b_,jR;function AQ(){return jR||(jR=1,b_=iA().get),b_}var TQ=AQ();const u0=es(TQ);var Hi=t=>t===0?0:t>0?1:-1,Yi=t=>typeof t=="number"&&t!=+t,Bs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,qe=t=>(typeof t=="number"||t instanceof Number)&&!Yi(t),Wi=t=>qe(t)||typeof t=="string",IQ=0,Fh=t=>{var e=++IQ;return"".concat(t||"").concat(e)},sl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(e)&&typeof e!="string")return r;var s;if(Bs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Yi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},d6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Xr(t,e,n){return qe(t)&&qe(e)?t+n*(e-t):e}function f6(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):u0(r,e))===n)}var Jn=t=>t===null||typeof t>"u",Sm=t=>Jn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function NQ(t){return t!=null}function Dd(){}var CQ=["type","size","sizeType"];function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L1.apply(null,arguments)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){OQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OQ(t,e,n){return(e=RQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RQ(t){var e=PQ(t,"string");return typeof e=="symbol"?e:e+""}function PQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DQ(t,e){if(t==null)return{};var n,r,i=jQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var h6={symbolCircle:tA,symbolCross:WX,symbolDiamond:QX,symbolSquare:ZX,symbolStar:nQ,symbolTriangle:rQ,symbolWye:aQ},MQ=Math.PI/180,kQ=t=>{var e="symbol".concat(Sm(t));return h6[e]||tA},VQ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*MQ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},LQ=(t,e)=>{h6["symbol".concat(Sm(t))]=e},aA=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=DQ(t,CQ),s=kR(kR({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=kQ(l),_=sQ().type(b).size(VQ(n,r,l)),A=_();if(A!==null)return A},{className:d,cx:f,cy:m}=s,p=Nr(s);return qe(f)&&qe(m)&&qe(n)?w.createElement("path",L1({},p,{className:Rt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};aA.registerSymbol=LQ;var m6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,sA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{QS(i)&&(r[i]=(s=>n[i](n,s)))}),r},zQ=(t,e,n)=>r=>(t(e,n,r),null),p6=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];QS(i)&&typeof s=="function"&&(r||(r={}),r[i]=zQ(s,e,n))}),r};function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){BQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BQ(t,e,n){return(e=qQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qQ(t){var e=$Q(t,"string");return typeof e=="symbol"?e:e+""}function $Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dr(t,e){var n=UQ({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(null,arguments)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return(e=GQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=KQ(t,"string");return typeof e=="symbol"?e:e+""}function KQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bi=32,YQ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function WQ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Bi/2,s=Bi/6,l=Bi/3,c=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var f;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:Bi,y2:i,className:"recharts-legend-icon"})}if(d==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Bi,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return w.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Bi/8,"h").concat(Bi,"v").concat(Bi*3/4,"h").concat(-Bi,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var m=FQ({},e);return delete m.legendIcon,w.cloneElement(e.legendIcon,m)}return w.createElement(aA,{fill:c,cx:i,cy:i,size:Bi,sizeType:"diameter",type:d})}function XQ(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,c={x:0,y:0,width:Bi,height:Bi},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,p)=>{var b=m.formatter||i,_=Rt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var A=m.inactive?s:m.color,E=b?b(m.value,m,p):m.value;return w.createElement("li",zy({className:_,style:d,key:"legend-item-".concat(p)},p6(t,m,p)),w.createElement(ZS,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(E," legend icon")},w.createElement(WQ,{data:m,iconType:l,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},E))})}var QQ=t=>{var e=dr(t,YQ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(XQ,zy({},e,{payload:n})))},x_={},__={},zR;function ZQ(){return zR||(zR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(__)),__}var w_={},UR;function g6(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(w_)),w_}var E_={},S_={},A_={},BR;function JQ(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(A_)),A_}var qR;function oA(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JQ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(S_)),S_}var T_={},$R;function eZ(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(T_)),T_}var FR;function tZ(){return FR||(FR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oA(),n=eZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(E_)),E_}var I_={},N_={},HR;function nZ(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(N_)),N_}var C_={},O_={},R_={},P_={},GR;function y6(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(P_)),P_}var D_={},KR;function v6(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(D_)),D_}var j_={},YR;function b6(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(j_)),j_}var WR;function rZ(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y6(),n=v6(),r=b6();function i(m,p,b){return typeof b!="function"?i(m,p,()=>{}):s(m,p,function _(A,E,S,N,D,O){const L=b(A,E,S,N,D,O);return L!==void 0?!!L:s(A,E,_,O)},new Map)}function s(m,p,b,_){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,b,_);case"function":return Object.keys(p).length>0?s(m,{...p},b,_):r.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function l(m,p,b,_){if(p==null)return!0;if(Array.isArray(p))return d(m,p,b,_);if(p instanceof Map)return c(m,p,b,_);if(p instanceof Set)return f(m,p,b,_);const A=Object.keys(p);if(m==null)return A.length===0;if(A.length===0)return!0;if(_!=null&&_.has(p))return _.get(p)===m;_==null||_.set(p,m);try{for(let E=0;E<A.length;E++){const S=A[E];if(!n.isPrimitive(m)&&!(S in m)||p[S]===void 0&&m[S]!==void 0||p[S]===null&&m[S]!==null||!b(m[S],p[S],S,m,p,_))return!1}return!0}finally{_==null||_.delete(p)}}function c(m,p,b,_){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[A,E]of p.entries()){const S=m.get(A);if(b(S,E,A,m,p,_)===!1)return!1}return!0}function d(m,p,b,_){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const A=new Set;for(let E=0;E<p.length;E++){const S=p[E];let N=!1;for(let D=0;D<m.length;D++){if(A.has(D))continue;const O=m[D];let L=!1;if(b(O,S,E,m,p,_)&&(L=!0),L){A.add(D),N=!0;break}}if(!N)return!1}return!0}function f(m,p,b,_){return p.size===0?!0:m instanceof Set?d([...m],[...p],b,_):!1}t.isMatchWith=i,t.isSetMatch=f})(R_)),R_}var XR;function x6(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rZ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(O_)),O_}var M_={},k_={},V_={},QR;function iZ(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(V_)),V_}var L_={},ZR;function _6(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(L_)),L_}var z_={},JR;function w6(){return JR||(JR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",b="[object ArrayBuffer]",_="[object Object]",A="[object Error]",E="[object DataView]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]",L="[object BigUint64Array]",V="[object Int8Array]",U="[object Int16Array]",P="[object Int32Array]",C="[object BigInt64Array]",j="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=A,t.float32ArrayTag=j,t.float64ArrayTag=q,t.functionTag=p,t.int16ArrayTag=U,t.int32ArrayTag=P,t.int8ArrayTag=V,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=D,t.uint32ArrayTag=O,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=N})(z_)),z_}var U_={},eP;function aZ(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(U_)),U_}var tP;function E6(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iZ(),n=_6(),r=w6(),i=v6(),s=aZ();function l(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,b,_=new Map,A=void 0){const E=A==null?void 0:A(m,p,b,_);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const S=new Array(m.length);_.set(m,S);for(let N=0;N<m.length;N++)S[N]=c(m[N],N,b,_,A);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;_.set(m,S);for(const[N,D]of m)S.set(N,c(D,N,b,_,A));return S}if(m instanceof Set){const S=new Set;_.set(m,S);for(const N of m)S.add(c(N,void 0,b,_,A));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,S);for(let N=0;N<m.length;N++)S[N]=c(m[N],N,b,_,A);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,S),d(S,m,b,_,A),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return _.set(m,S),d(S,m,b,_,A),S}if(typeof Blob<"u"&&m instanceof Blob){const S=new Blob([m],{type:m.type});return _.set(m,S),d(S,m,b,_,A),S}if(m instanceof Error){const S=new m.constructor;return _.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,d(S,m,b,_,A),S}if(m instanceof Boolean){const S=new Boolean(m.valueOf());return _.set(m,S),d(S,m,b,_,A),S}if(m instanceof Number){const S=new Number(m.valueOf());return _.set(m,S),d(S,m,b,_,A),S}if(m instanceof String){const S=new String(m.valueOf());return _.set(m,S),d(S,m,b,_,A),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return _.set(m,S),d(S,m,b,_,A),S}return m}function d(m,p,b=m,_,A){const E=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<E.length;S++){const N=E[S],D=Object.getOwnPropertyDescriptor(m,N);(D==null||D.writable)&&(m[N]=c(p[N],N,b,_,A))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(k_)),k_}var nP;function sZ(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(M_)),M_}var rP;function oZ(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x6(),n=sZ();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(C_)),C_}var B_={},q_={},$_={},iP;function lZ(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E6(),n=w6();function r(i,s){return e.cloneDeepWith(i,(l,c,d,f)=>{const m=s==null?void 0:s(l,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})($_)),$_}var aP;function cZ(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(q_)),q_}var F_={},H_={},sP;function S6(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(H_)),H_}var G_={},oP;function uZ(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(G_)),G_}var lP;function dZ(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u6(),n=S6(),r=uZ(),i=rA();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=s})(F_)),F_}var cP;function fZ(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x6(),n=nA(),r=cZ(),i=iA(),s=dZ();function l(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?s.has(f,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(B_)),B_}var uP;function hZ(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g6(),n=nZ(),r=oZ(),i=fZ();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(I_)),I_}var dP;function mZ(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZQ(),n=g6(),r=tZ(),i=hZ();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(x_)),x_}var K_,fP;function pZ(){return fP||(fP=1,K_=mZ().uniqBy),K_}var gZ=pZ();const hP=es(gZ);function A6(t,e,n){return e===!0?hP(t,n):typeof e=="function"?hP(t,e):t}var Y_={exports:{}},W_={},X_={exports:{}},Q_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP;function yZ(){if(mP)return Q_;mP=1;var t=xd();function e(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,b){var _=b(),A=r({inst:{value:_,getSnapshot:b}}),E=A[0].inst,S=A[1];return s(function(){E.value=_,E.getSnapshot=b,d(E)&&S({inst:E})},[p,_,b]),i(function(){return d(E)&&S({inst:E}),p(function(){d(E)&&S({inst:E})})},[p]),l(_),_}function d(p){var b=p.getSnapshot;p=p.value;try{var _=b();return!n(p,_)}catch{return!0}}function f(p,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Q_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Q_}var pP;function vZ(){return pP||(pP=1,X_.exports=yZ()),X_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP;function bZ(){if(gP)return W_;gP=1;var t=xd(),e=vZ();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return W_.useSyncExternalStoreWithSelector=function(f,m,p,b,_){var A=s(null);if(A.current===null){var E={hasValue:!1,value:null};A.current=E}else E=A.current;A=c(function(){function N(U){if(!D){if(D=!0,O=U,U=b(U),_!==void 0&&E.hasValue){var P=E.value;if(_(P,U))return L=P}return L=U}if(P=L,r(O,U))return P;var C=b(U);return _!==void 0&&_(P,C)?(O=U,P):(O=U,L=C)}var D=!1,O,L,V=p===void 0?null:p;return[function(){return N(m())},V===null?void 0:function(){return N(V())}]},[m,p,b,_]);var S=i(f,A[0],A[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},W_}var yP;function xZ(){return yP||(yP=1,Y_.exports=bZ()),Y_.exports}var _Z=xZ(),lA=w.createContext(null),wZ=t=>t,bn=()=>{var t=w.useContext(lA);return t?t.store.dispatch:wZ},Xg=()=>{},EZ=()=>Xg,SZ=(t,e)=>t===e;function Ve(t){var e=w.useContext(lA);return _Z.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:EZ,e?e.store.getState:Xg,e?e.store.getState:Xg,e?t:Xg,SZ)}function AZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function TZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function IZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var vP=t=>Array.isArray(t)?t:[t];function NZ(t){const e=Array.isArray(t[0])?t[0]:t;return IZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function CZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var OZ=class{constructor(t){this.value=t}deref(){return this.value}},RZ=typeof WeakRef<"u"?WeakRef:OZ,PZ=0,bP=1;function vg(){return{s:PZ,v:void 0,o:null,p:null}}function T6(t,e={}){let n=vg();const{resultEqualityCheck:r}=e;let i,s=0;function l(){var p;let c=n;const{length:d}=arguments;for(let b=0,_=d;b<_;b++){const A=arguments[b];if(typeof A=="function"||typeof A=="object"&&A!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const S=E.get(A);S===void 0?(c=vg(),E.set(A,c)):c=S}else{let E=c.p;E===null&&(c.p=E=new Map);const S=E.get(A);S===void 0?(c=vg(),E.set(A,c)):c=S}}const f=c;let m;if(c.s===bP)m=c.v;else if(m=t.apply(null,arguments),s++,r){const b=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;b!=null&&r(b,m)&&(m=b,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new RZ(m):m}return f.s=bP,f.v=m,m}return l.clearCache=()=>{n=vg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function DZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),AZ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:b=[],argsMemoize:_=T6,argsMemoizeOptions:A=[]}=m,E=vP(b),S=vP(A),N=NZ(i),D=p(function(){return s++,f.apply(null,arguments)},...E),O=_(function(){l++;const V=CZ(N,arguments);return c=D.apply(null,V),c},...S);return Object.assign(O,{resultFunc:f,memoizedResultFunc:D,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var de=DZ(T6),jZ=Object.assign((t,e=de)=>{TZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>jZ}),Z_={},J_={},ew={},xP;function MZ(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(ew)),ew}var tw={},nw={},_P;function I6(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(nw)),nw}var wP;function kZ(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(tw)),tw}var EP;function VZ(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MZ(),n=kZ(),r=rA();function i(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const f=(_,A)=>{let E=_;for(let S=0;S<A.length&&E!=null;++S)E=E[A[S]];return E},m=(_,A)=>A==null||_==null?A:typeof _=="object"&&"key"in _?Object.hasOwn(A,_.key)?A[_.key]:f(A,_.path):typeof _=="function"?_(A):Array.isArray(_)?f(A,_):typeof A=="object"?A[_]:A,p=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:p.map(A=>m(A,_))})).slice().sort((_,A)=>{for(let E=0;E<p.length;E++){const S=e.compareValues(_.criteria[E],A.criteria[E],c[E]);if(S!==0)return S}return 0}).map(_=>_.original)}t.orderBy=i})(J_)),J_}var rw={},SP;function LZ(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<s?l(m,d+1):i.push(m)}};return l(n,0),i}t.flatten=e})(rw)),rw}var iw={},AP;function N6(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S6(),n=oA(),r=y6(),i=b6();function s(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=s})(iw)),iw}var TP;function zZ(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VZ(),n=LZ(),r=N6();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Z_)),Z_}var aw,IP;function UZ(){return IP||(IP=1,aw=zZ().sortBy),aw}var BZ=UZ();const d0=es(BZ);var C6=t=>t.legend.settings,qZ=t=>t.legend.size,$Z=t=>t.legend.payload,FZ=de([$Z,C6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?d0(r,n):r});function HZ(){return Ve(FZ)}var bg=1;function O6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>bg||Math.abs(l.left-e.left)>bg||Math.abs(l.top-e.top)>bg||Math.abs(l.width-e.width)>bg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function or(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var GZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",NP=GZ,sw=()=>Math.random().toString(36).substring(7).split("").join("."),KZ={INIT:`@@redux/INIT${sw()}`,REPLACE:`@@redux/REPLACE${sw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sw()}`},Uy=KZ;function cA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function R6(t,e,n){if(typeof t!="function")throw new Error(or(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(or(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(or(1));return n(R6)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((S,N)=>{l.set(N,S)}))}function m(){if(d)throw new Error(or(3));return i}function p(S){if(typeof S!="function")throw new Error(or(4));if(d)throw new Error(or(5));let N=!0;f();const D=c++;return l.set(D,S),function(){if(N){if(d)throw new Error(or(6));N=!1,f(),l.delete(D),s=null}}}function b(S){if(!cA(S))throw new Error(or(7));if(typeof S.type>"u")throw new Error(or(8));if(typeof S.type!="string")throw new Error(or(17));if(d)throw new Error(or(9));try{d=!0,i=r(i,S)}finally{d=!1}return(s=l).forEach(D=>{D()}),S}function _(S){if(typeof S!="function")throw new Error(or(10));r=S,b({type:Uy.REPLACE})}function A(){const S=p;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(or(11));function D(){const L=N;L.next&&L.next(m())}return D(),{unsubscribe:S(D)}},[NP](){return this}}}return b({type:Uy.INIT}),{dispatch:b,subscribe:p,getState:m,replaceReducer:_,[NP]:A}}function YZ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Uy.INIT})>"u")throw new Error(or(12));if(typeof n(void 0,{type:Uy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(or(13))})}function P6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{YZ(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],b=n[p],_=l[p],A=b(_,c);if(typeof A>"u")throw c&&c.type,new Error(or(14));f[p]=A,d=d||A!==_}return d=d||r.length!==Object.keys(l).length,d?f:l}}function By(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function WZ(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(or(15))};const l={getState:i.getState,dispatch:(d,...f)=>s(d,...f)},c=t.map(d=>d(l));return s=By(...c)(i.dispatch),{...i,dispatch:s}}}function D6(t){return cA(t)&&"type"in t&&typeof t.type=="string"}var j6=Symbol.for("immer-nothing"),CP=Symbol.for("immer-draftable"),Ei=Symbol.for("immer-state");function ua(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Hh=Object.getPrototypeOf;function Ac(t){return!!t&&!!t[Ei]}function qs(t){var e;return t?M6(t)||Array.isArray(t)||!!t[CP]||!!((e=t.constructor)!=null&&e[CP])||Am(t)||h0(t):!1}var XZ=Object.prototype.constructor.toString(),OP=new WeakMap;function M6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=OP.get(n);return r===void 0&&(r=Function.toString.call(n),OP.set(n,r)),r===XZ}function qy(t,e,n=!0){f0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function f0(t){const e=t[Ei];return e?e.type_:Array.isArray(t)?1:Am(t)?2:h0(t)?3:0}function z1(t,e){return f0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function k6(t,e,n){const r=f0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function QZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Am(t){return t instanceof Map}function h0(t){return t instanceof Set}function Gl(t){return t.copy_||t.base_}function U1(t,e){if(Am(t))return new Map(t);if(h0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=M6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ei];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Hh(t),r)}else{const r=Hh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function uA(t,e=!1){return m0(t)||Ac(t)||!qs(t)||(f0(t)>1&&Object.defineProperties(t,{set:xg,add:xg,clear:xg,delete:xg}),Object.freeze(t),e&&Object.values(t).forEach(n=>uA(n,!0))),t}function ZZ(){ua(2)}var xg={value:ZZ};function m0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var JZ={};function Tc(t){const e=JZ[t];return e||ua(0,t),e}var Gh;function V6(){return Gh}function eJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function RP(t,e){e&&(Tc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function B1(t){q1(t),t.drafts_.forEach(tJ),t.drafts_=null}function q1(t){t===Gh&&(Gh=t.parent_)}function PP(t){return Gh=eJ(Gh,t)}function tJ(t){const e=t[Ei];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ei].modified_&&(B1(e),ua(4)),qs(t)&&(t=$y(e,t),e.parent_||Fy(e,t)),e.patches_&&Tc("Patches").generateReplacementPatches_(n[Ei].base_,t,e.patches_,e.inversePatches_)):t=$y(e,n,[]),B1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==j6?t:void 0}function $y(t,e,n){if(m0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Ei];if(!i)return qy(e,(s,l)=>jP(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Fy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),qy(l,(d,f)=>jP(t,i,s,d,f,n,c),r),Fy(t,s,!1),n&&t.patches_&&Tc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function jP(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=m0(i);if(!(c&&!l)){if(Ac(i)){const d=s&&e&&e.type_!==3&&!z1(e.assigned_,r)?s.concat(r):void 0,f=$y(t,i,d);if(k6(n,r,f),Ac(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(qs(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;$y(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Am(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Fy(t,i)}}}function Fy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&uA(e,n)}function nJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:V6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=dA;n&&(i=[r],s=Kh);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var dA={get(t,e){if(e===Ei)return t;const n=Gl(t);if(!z1(n,e))return rJ(t,n,e);const r=n[e];return t.finalized_||!qs(r)?r:r===ow(t.base_,e)?(lw(t),t.copy_[e]=F1(r,t)):r},has(t,e){return e in Gl(t)},ownKeys(t){return Reflect.ownKeys(Gl(t))},set(t,e,n){const r=L6(Gl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=ow(Gl(t),e),s=i==null?void 0:i[Ei];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(QZ(n,i)&&(n!==void 0||z1(t.base_,e)))return!0;lw(t),$1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ow(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,lw(t),$1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Gl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ua(11)},getPrototypeOf(t){return Hh(t.base_)},setPrototypeOf(){ua(12)}},Kh={};qy(dA,(t,e)=>{Kh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Kh.deleteProperty=function(t,e){return Kh.set.call(this,t,e,void 0)};Kh.set=function(t,e,n){return dA.set.call(this,t[0],e,n,t[0])};function ow(t,e){const n=t[Ei];return(n?Gl(n):t)[e]}function rJ(t,e,n){var i;const r=L6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function L6(t,e){if(!(e in t))return;let n=Hh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Hh(n)}}function $1(t){t.modified_||(t.modified_=!0,t.parent_&&$1(t.parent_))}function lw(t){t.copy_||(t.copy_=U1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var iJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...f){return l.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&ua(6),r!==void 0&&typeof r!="function"&&ua(7);let i;if(qs(e)){const s=PP(this),l=F1(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?B1(s):q1(s)}return RP(s,r),DP(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===j6&&(i=void 0),this.autoFreeze_&&uA(i,!0),r){const s=[],l=[];Tc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else ua(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){qs(t)||ua(8),Ac(t)&&(t=Ds(t));const e=PP(this),n=F1(t,void 0);return n[Ei].isManual_=!0,q1(e),n}finishDraft(t,e){const n=t&&t[Ei];(!n||!n.isManual_)&&ua(9);const{scope_:r}=n;return RP(r,e),DP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Tc("Patches").applyPatches_;return Ac(t)?r(t,e):this.produce(t,i=>r(i,e))}};function F1(t,e){const n=Am(t)?Tc("MapSet").proxyMap_(t,e):h0(t)?Tc("MapSet").proxySet_(t,e):nJ(t,e);return(e?e.scope_:V6()).drafts_.push(n),n}function Ds(t){return Ac(t)||ua(10,t),z6(t)}function z6(t){if(!qs(t)||m0(t))return t;const e=t[Ei];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=U1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=U1(t,!0);return qy(n,(i,s)=>{k6(n,i,z6(s))},r),e&&(e.finalized_=!1),n}var H1=new iJ,U6=H1.produce,aJ=H1.setUseStrictIteration.bind(H1);function B6(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var sJ=B6(),oJ=B6,lJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?By:By.apply(null,arguments)};function Xi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(_i(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>D6(r)&&r.type===t,n}var q6=class ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ah.prototype)}static get[Symbol.species](){return ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ah(...e[0].concat(this)):new ah(...e.concat(this))}};function MP(t){return qs(t)?U6(t,()=>{}):t}function _g(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function cJ(t){return typeof t=="boolean"}var uJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new q6;return n&&(cJ(n)?l.push(sJ):l.push(oJ(n.extraArgument))),l},$6="RTK_autoBatch",Vn=()=>t=>({payload:t,meta:{[$6]:!0}}),kP=t=>e=>{setTimeout(e,t)},F6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:kP(10):t.type==="callback"?t.queueNotification:kP(t.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),b=r.subscribe(p);return c.add(m),()=>{b(),c.delete(m)}},dispatch(m){var p;try{return i=!((p=m==null?void 0:m.meta)!=null&&p[$6]),s=!i,s&&(l||(l=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},dJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new q6(t);return r&&i.push(F6(typeof r=="object"?r:void 0)),i};function fJ(t){const e=uJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(cA(n))c=P6(n);else throw new Error(_i(1));let d;typeof r=="function"?d=r(e):d=e();let f=By;i&&(f=lJ({trace:!1,...typeof i=="object"&&i}));const m=WZ(...d),p=dJ(m);let b=typeof l=="function"?l(p):p();const _=f(...b);return R6(c,s,_)}function H6(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(_i(28));if(c in e)throw new Error(_i(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}aJ(!1);function hJ(t){return typeof t=="function"}function mJ(t,e){let[n,r,i]=H6(e),s;if(hJ(t))s=()=>MP(t());else{const c=MP(t);s=()=>c}function l(c=s(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(Ac(m)){const _=p(m,d);return _===void 0?m:_}else{if(qs(m))return U6(m,b=>p(b,d));{const b=p(m,d);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},c)}return l.getInitialState=s,l}var pJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",gJ=(t=21)=>{let e="",n=t;for(;n--;)e+=pJ[Math.random()*64|0];return e},yJ=Symbol.for("rtk-slice-createasyncthunk");function vJ(t,e){return`${t}/${e}`}function bJ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[yJ];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(_i(11));const c=(typeof i.reducers=="function"?i.reducers(_J()):i.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(L,V){const U=typeof L=="string"?L:L.type;if(!U)throw new Error(_i(12));if(U in f.sliceCaseReducersByType)throw new Error(_i(13));return f.sliceCaseReducersByType[U]=V,m},addMatcher(L,V){return f.sliceMatchers.push({matcher:L,reducer:V}),m},exposeAction(L,V){return f.actionCreators[L]=V,m},exposeCaseReducer(L,V){return f.sliceCaseReducersByName[L]=V,m}};d.forEach(L=>{const V=c[L],U={reducerName:L,type:vJ(s,L),createNotation:typeof i.reducers=="function"};EJ(V)?AJ(U,V,m,e):wJ(U,V,m)});function p(){const[L={},V=[],U=void 0]=typeof i.extraReducers=="function"?H6(i.extraReducers):[i.extraReducers],P={...L,...f.sliceCaseReducersByType};return mJ(i.initialState,C=>{for(let j in P)C.addCase(j,P[j]);for(let j of f.sliceMatchers)C.addMatcher(j.matcher,j.reducer);for(let j of V)C.addMatcher(j.matcher,j.reducer);U&&C.addDefaultCase(U)})}const b=L=>L,_=new Map,A=new WeakMap;let E;function S(L,V){return E||(E=p()),E(L,V)}function N(){return E||(E=p()),E.getInitialState()}function D(L,V=!1){function U(C){let j=C[L];return typeof j>"u"&&V&&(j=_g(A,U,N)),j}function P(C=b){const j=_g(_,V,()=>new WeakMap);return _g(j,C,()=>{const q={};for(const[k,$]of Object.entries(i.selectors??{}))q[k]=xJ($,C,()=>_g(A,C,N),V);return q})}return{reducerPath:L,getSelectors:P,get selectors(){return P(U)},selectSlice:U}}const O={name:s,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...D(l),injectInto(L,{reducerPath:V,...U}={}){const P=V??l;return L.inject({reducerPath:P,reducer:S},U),{...O,...D(P,!0)}}};return O}}function xJ(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var ei=bJ();function _J(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function wJ({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!SJ(r))throw new Error(_i(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Xi(t,l):Xi(t))}function EJ(t){return t._reducerDefinitionType==="asyncThunk"}function SJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function AJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(_i(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:m}=n,p=i(t,s,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:l||wg,pending:c||wg,rejected:d||wg,settled:f||wg})}function wg(){}var TJ="task",G6="listener",K6="completed",fA="cancelled",IJ=`task-${fA}`,NJ=`task-${K6}`,G1=`${G6}-${fA}`,CJ=`${G6}-${K6}`,p0=class{constructor(t){Mx(this,"name","TaskAbortError");Mx(this,"message");this.code=t,this.message=`${TJ} ${fA} (reason: ${t})`}},hA=(t,e)=>{if(typeof t!="function")throw new TypeError(_i(32))},Hy=()=>{},Y6=(t,e=Hy)=>(t.catch(e),t),W6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),dc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},fc=t=>{if(t.aborted){const{reason:e}=t;throw new p0(e)}};function X6(t,e){let n=Hy;return new Promise((r,i)=>{const s=()=>i(new p0(t.reason));if(t.aborted){s();return}n=W6(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Hy})}var OJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof p0?"cancelled":"rejected",error:n}}finally{e==null||e()}},Gy=t=>e=>Y6(X6(t,e).then(n=>(fc(t),n))),Q6=t=>{const e=Gy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Gu}=Object,VP={},g0="listenerMiddleware",RJ=(t,e)=>{const n=r=>W6(t,()=>dc(r,t.reason));return(r,i)=>{hA(r);const s=new AbortController;n(s);const l=OJ(async()=>{fc(t),fc(s.signal);const c=await r({pause:Gy(s.signal),delay:Q6(s.signal),signal:s.signal});return fc(s.signal),c},()=>dc(s,NJ));return i!=null&&i.autoJoin&&e.push(l.catch(Hy)),{result:Gy(t)(l),cancel(){dc(s,IJ)}}}},PJ=(t,e)=>{const n=async(r,i)=>{fc(e);let s=()=>{};const c=[new Promise((d,f)=>{let m=t({predicate:r,effect:(p,b)=>{b.unsubscribe(),d([p,b.getState(),b.getOriginalState()])}});s=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await X6(e,Promise.race(c));return fc(e),d}finally{s()}};return(r,i)=>Y6(n(r,i))},Z6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Xi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(_i(21));return hA(s),{predicate:i,type:e,effect:s}},J6=Gu(t=>{const{type:e,predicate:n,effect:r}=Z6(t);return{id:gJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_i(22))}}},{withTypes:()=>J6}),LP=(t,e)=>{const{type:n,effect:r,predicate:i}=Z6(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},K1=t=>{t.pending.forEach(e=>{dc(e,G1)})},DJ=(t,e)=>()=>{for(const n of e.keys())K1(n);t.clear()},zP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},eV=Gu(Xi(`${g0}/add`),{withTypes:()=>eV}),jJ=Xi(`${g0}/removeAll`),tV=Gu(Xi(`${g0}/remove`),{withTypes:()=>tV}),MJ=(...t)=>{console.error(`${g0}/error`,...t)},Tm=(t={})=>{const e=new Map,n=new Map,r=_=>{const A=n.get(_)??0;n.set(_,A+1)},i=_=>{const A=n.get(_)??1;A===1?n.delete(_):n.set(_,A-1)},{extra:s,onError:l=MJ}=t;hA(l);const c=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),A=>{_.unsubscribe(),A!=null&&A.cancelActive&&K1(_)}),d=_=>{const A=LP(e,_)??J6(_);return c(A)};Gu(d,{withTypes:()=>d});const f=_=>{const A=LP(e,_);return A&&(A.unsubscribe(),_.cancelActive&&K1(A)),!!A};Gu(f,{withTypes:()=>f});const m=async(_,A,E,S)=>{const N=new AbortController,D=PJ(d,N.signal),O=[];try{_.pending.add(N),r(_),await Promise.resolve(_.effect(A,Gu({},E,{getOriginalState:S,condition:(L,V)=>D(L,V).then(Boolean),take:D,delay:Q6(N.signal),pause:Gy(N.signal),extra:s,signal:N.signal,fork:RJ(N.signal,O),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((L,V,U)=>{L!==N&&(dc(L,G1),U.delete(L))})},cancel:()=>{dc(N,G1),_.pending.delete(N)},throwIfCancelled:()=>{fc(N.signal)}})))}catch(L){L instanceof p0||zP(l,L,{raisedBy:"effect"})}finally{await Promise.all(O),dc(N,CJ),i(_),_.pending.delete(N)}},p=DJ(e,n);return{middleware:_=>A=>E=>{if(!D6(E))return A(E);if(eV.match(E))return d(E.payload);if(jJ.match(E)){p();return}if(tV.match(E))return f(E.payload);let S=_.getState();const N=()=>{if(S===VP)throw new Error(_i(23));return S};let D;try{if(D=A(E),e.size>0){const O=_.getState(),L=Array.from(e.values());for(const V of L){let U=!1;try{U=V.predicate(E,O,S)}catch(P){U=!1,zP(l,P,{raisedBy:"predicate"})}U&&m(V,E,_,N)}}}finally{S=VP}return D},startListening:d,stopListening:f,clearListeners:p}};function _i(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nV=ei({name:"chartLayout",initialState:kJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:VJ,setLayout:LJ,setChartSize:zJ,setScale:UJ}=nV.actions,BJ=nV.reducer;function rV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){qJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qJ(t,e,n){return(e=$J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=FJ(t,"string");return typeof e=="symbol"?e:e+""}function FJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kr(t,e,n){return Jn(t)||Jn(e)?n:Wi(e)?u0(t,e,n):typeof e=="function"?e(t):n}var HJ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&qe(t[s]))return zu(zu({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&qe(t[l]))return zu(zu({},t),{},{[l]:t[l]+(i||0)})}return t},hl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",iV=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,s,l=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate));return i||l.push(e),s||l.push(n),l},aV=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:b,axisType:_}=t;if(!l)return null;var A=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/A:0;if(E=_==="angleAxis"&&s&&s.length>=2?Hi(s[0]-s[1])*2*E:E,p||b){var S=(p||b||[]).map((N,D)=>{var O=r?r.indexOf(N):N;return{coordinate:l(O)+E,value:N,offset:E,index:D}});return S.filter(N=>!Yi(N.coordinate))}return d&&f?f.map((N,D)=>({coordinate:l(N)+E,value:N,index:D,offset:E})):l.ticks&&m!=null?l.ticks(m).map((N,D)=>({coordinate:l(N)+E,value:N,offset:E,index:D})):l.domain().map((N,D)=>({coordinate:l(N)+E,value:r?r[N]:N,index:D,offset:E}))},BP=1e-4,GJ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-BP,s=Math.max(r[0],r[1])+BP,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},KJ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,l=0;l<e;++l){var c=Yi(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},YJ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var l=Yi(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},WJ={sign:KJ,expand:xQ,none:md,silhouette:_Q,wiggle:wQ,positive:YJ},XJ=(t,e,n)=>{var r=WJ[n],i=bQ().keys(e).value((s,l)=>Number(kr(s,l,0))).order(V1).offset(r);return i(t)};function qP(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jn(i[e.dataKey])){var c=f6(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=kr(i,Jn(l)?e.dataKey:l);return Jn(d)?null:e.scale(d)}var QJ=t=>{var e=t.flat(2).filter(qe);return[Math.min(...e),Math.max(...e)]},ZJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],JJ=(t,e,n)=>{if(t!=null)return ZJ(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:l}=s,c=l.reduce((d,f)=>{var m=rV(f,e,n),p=QJ(m);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},$P=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ky=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=d0(e,m=>m.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];s=Math.min((d.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function HP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return zu(zu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function sV(t,e){if(t)return String(t);if(typeof e=="string")return e}var eee=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},tee=(t,e)=>e==="centric"?t.angle:t.radius,Xs=t=>t.layout.width,Qs=t=>t.layout.height,nee=t=>t.layout.scale,oV=t=>t.layout.margin,y0=de(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),v0=de(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),ree="data-recharts-item-index",iee="data-recharts-item-data-key",Im=60;function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){aee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aee(t,e,n){return(e=see(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function see(t){var e=oee(t,"string");return typeof e=="symbol"?e:e+""}function oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lee=t=>t.brush.height;function cee(t){var e=v0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Im;return n+i}return n},0)}function uee(t){var e=v0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Im;return n+i}return n},0)}function dee(t){var e=y0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function fee(t){var e=y0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var fr=de([Xs,Qs,oV,lee,cee,uee,dee,fee,C6,qZ],(t,e,n,r,i,s,l,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Eg(Eg({},p),m),_=b.bottom;b.bottom+=r,b=HJ(b,d,f);var A=t-b.left-b.right,E=e-b.top-b.bottom;return Eg(Eg({brushBottom:_},b),{},{width:Math.max(A,0),height:Math.max(E,0)})}),hee=de(fr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),lV=de(Xs,Qs,(t,e)=>({x:0,y:0,width:t,height:e})),mee=w.createContext(null),zr=()=>w.useContext(mee)!=null,b0=t=>t.brush,x0=de([b0,fr,oV],(t,e,n)=>({height:t.height,x:qe(t.x)?t.x:e.left,y:qe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:qe(t.width)?t.width:e.width})),cw={},uw={},dw={},KP;function pee(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{f&&m(),E()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},A=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{A(),l=void 0,c=null},S=()=>{m()},N=function(...D){if(i!=null&&i.aborted)return;l=this,c=D;const O=b==null;_(),d&&O&&m()};return N.schedule=_,N.cancel=E,N.flush=S,i==null||i.addEventListener("abort",E,{once:!0}),N}t.debounce=e})(dw)),dw}var YP;function gee(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pee();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const b=e.debounce(function(...E){m=r.apply(this,E),p=null},i,{edges:f}),_=function(...E){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,E),p=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,E),m)},A=()=>(b.flush(),m);return _.cancel=b.cancel,_.flush=A,_}t.debounce=n})(uw)),uw}var WP;function yee(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gee();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(cw)),cw}var fw,XP;function vee(){return XP||(XP=1,fw=yee().throttle),fw}var bee=vee();const xee=es(bee);var Yy=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},cV=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=Bs(r)?t:Number(r),d=Bs(i)?e:Number(i);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},_ee={width:0,height:0,overflow:"visible"},wee={width:0,overflowX:"visible"},Eee={height:0,overflowY:"visible"},See={},Aee=t=>{var{width:e,height:n}=t,r=Bs(e),i=Bs(n);return r&&i?_ee:r?wee:i?Eee:See};function Tee(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function un(t){return Number.isFinite(t)}function Za(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y1.apply(null,arguments)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iee(t,e,n){return(e=Nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=Cee(t,"string");return typeof e=="symbol"?e:e+""}function Cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uV=w.createContext({width:-1,height:-1});function Oee(t){return Za(t.width)&&Za(t.height)}function dV(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return Oee(i)?w.createElement(uV.Provider,{value:i},e):null}var mA=()=>w.useContext(uV),Ree=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:b,onResize:_,style:A={}}=t,E=w.useRef(null),S=w.useRef();S.current=_,w.useImperativeHandle(e,()=>E.current);var[N,D]=w.useState({containerWidth:r.width,containerHeight:r.height}),O=w.useCallback((C,j)=>{D(q=>{var k=Math.round(C),$=Math.round(j);return q.containerWidth===k&&q.containerHeight===$?q:{containerWidth:k,containerHeight:$}})},[]);w.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Dd;var C=$=>{var M,{width:fe,height:be}=$[0].contentRect;O(fe,be),(M=S.current)===null||M===void 0||M.call(S,fe,be)};m>0&&(C=xee(C,m,{trailing:!0,leading:!1}));var j=new ResizeObserver(C),{width:q,height:k}=E.current.getBoundingClientRect();return O(q,k),j.observe(E.current),()=>{j.disconnect()}},[O,m]);var{containerWidth:L,containerHeight:V}=N;Yy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:U,calculatedHeight:P}=cV(L,V,{width:i,height:s,aspect:n,maxHeight:d});return Yy(U!=null&&U>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,P,i,s,l,c,n),w.createElement("div",{id:p?"".concat(p):void 0,className:Rt("recharts-responsive-container",b),style:ZP(ZP({},A),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:E},w.createElement("div",{style:Aee({width:i,height:s})},w.createElement(dV,{width:U,height:P},f)))}),Pee=w.forwardRef((t,e)=>{var n=mA();if(Za(n.width)&&Za(n.height))return t.children;var{width:r,height:i}=Tee({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=cV(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return qe(s)&&qe(l)?w.createElement(dV,{width:s,height:l},t.children):w.createElement(Ree,Y1({},t,{width:r,height:i,ref:e}))});function fV(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Nm=()=>{var t,e=zr(),n=Ve(hee),r=Ve(x0),i=(t=Ve(b0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Dee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hV=()=>{var t;return(t=Ve(fr))!==null&&t!==void 0?t:Dee},pA=()=>Ve(Xs),gA=()=>Ve(Qs),jee=()=>Ve(t=>t.layout.margin),Yt=t=>t.layout.layoutType,_0=()=>Ve(Yt),Mee=()=>{var t=_0();return t!==void 0},w0=t=>{var e=bn(),n=zr(),{width:r,height:i}=t,s=mA(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),w.useEffect(()=>{!n&&Za(l)&&Za(c)&&e(zJ({width:l,height:c}))},[e,n,l,c]),null},kee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},mV=ei({name:"legend",initialState:kee,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Vn()},removeLegendPayload:{reducer(t,e){var n=Ds(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Vn()}}}),{setLegendSize:JP,setLegendSettings:Vee,addLegendPayload:Lee,removeLegendPayload:zee}=mV.actions,Uee=mV.reducer,Bee=["contextPayload"];function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1.apply(null,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){qee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qee(t,e,n){return(e=$ee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=Fee(t,"string");return typeof e=="symbol"?e:e+""}function Fee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hee(t,e){if(t==null)return{};var n,r,i=Gee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kee(t){return t.value}function Yee(t){var{contextPayload:e}=t,n=Hee(t,Bee),r=A6(e,t.payloadUniqBy,Kee),i=pd(pd({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(QQ,i)}function Wee(t,e,n,r,i,s){var{layout:l,align:c,verticalAlign:d}=e,f,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&l==="vertical"?f={left:((r||0)-s.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?m={top:((i||0)-s.height)/2}:m=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),pd(pd({},f),m)}function Xee(t){var e=bn();return w.useEffect(()=>{e(Vee(t))},[e,t]),null}function Qee(t){var e=bn();return w.useEffect(()=>(e(JP(t)),()=>{e(JP({width:0,height:0}))}),[e,t]),null}function Zee(t,e,n,r){return t==="vertical"&&qe(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var Jee={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function pV(t){var e=dr(t,Jee),n=HZ(),r=$X(),i=jee(),{width:s,height:l,wrapperStyle:c,portal:d}=e,[f,m]=O6([n]),p=pA(),b=gA();if(p==null||b==null)return null;var _=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),A=Zee(e.layout,l,s,_),E=d?c:pd(pd({position:"absolute",width:(A==null?void 0:A.width)||s||"auto",height:(A==null?void 0:A.height)||l||"auto"},Wee(c,e,i,p,b,f)),c),S=d??r;if(S==null||n==null)return null;var N=w.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:m},w.createElement(Xee,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),w.createElement(Qee,{width:f.width,height:f.height}),w.createElement(Yee,W1({},e,A,{margin:i,chartWidth:p,chartHeight:b,contextPayload:n})));return Go.createPortal(N,S)}pV.displayName="Legend";function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(null,arguments)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ete(t,e,n){return(e=tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=nte(t,"string");return typeof e=="symbol"?e:e+""}function nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rte(t){return Array.isArray(t)&&Wi(t[0])&&Wi(t[1])?t.join(" ~ "):t}var ite=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:b=!1}=t,_=()=>{if(s&&s.length){var V={padding:0,margin:0},U=(c?d0(s,c):s).map((P,C)=>{if(P.type==="none")return null;var j=P.formatter||l||rte,{value:q,name:k}=P,$=q,M=k;if(j){var fe=j(q,k,P,C,s);if(Array.isArray(fe))[$,M]=fe;else if(fe!=null)$=fe;else return null}var be=hw({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:be},Wi(M)?w.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Wi(M)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},$),w.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:V},U)}return null},A=hw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=hw({margin:0},i),S=!Jn(m),N=S?m:"",D=Rt("recharts-default-tooltip",d),O=Rt("recharts-tooltip-label",f);S&&p&&s!==void 0&&s!==null&&(N=p(m,s));var L=b?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",X1({className:D,style:A},L),w.createElement("p",{className:O,style:E},w.isValidElement(N)?N:"".concat(N)),_())},Kf="recharts-tooltip-wrapper",ate={visibility:"hidden"};function ste(t){var{coordinate:e,translateX:n,translateY:r}=t;return Rt(Kf,{["".concat(Kf,"-right")]:qe(n)&&e&&qe(e.x)&&n>=e.x,["".concat(Kf,"-left")]:qe(n)&&e&&qe(e.x)&&n<e.x,["".concat(Kf,"-bottom")]:qe(r)&&e&&qe(e.y)&&r>=e.y,["".concat(Kf,"-top")]:qe(r)&&e&&qe(e.y)&&r<e.y})}function nD(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(s&&qe(s[r]))return s[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var b=d[r];if(b==null)return 0;if(l[r]){var _=m,A=b;return _<A?Math.max(p,b):Math.max(m,b)}if(f==null)return 0;var E=p+c,S=b+f;return E>S?Math.max(m,b):Math.max(p,b)}function ote(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function lte(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,m,p;return l.height>0&&l.width>0&&n?(m=nD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=nD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=ote({translateX:m,translateY:p,useTranslate3d:c})):f=ate,{cssProperties:f,cssClasses:ste({translateX:m,translateY:p,coordinate:n})}}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){Q1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q1(t,e,n){return(e=cte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dte extends w.PureComponent{constructor(){super(...arguments),Q1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Q1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:b,viewBox:_,wrapperStyle:A,lastBoundingBox:E,innerRef:S,hasPortalFromProps:N}=this.props,{cssClasses:D,cssProperties:O}=lte({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:_}),L=N?{}:Sg(Sg({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),V=Sg(Sg({},L),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},A);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:V,ref:S},s)}}var fte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jd={devToolsEnabled:!1,isSsr:fte()},gV=()=>{var t;return(t=Ve(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Z1(){return Z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z1.apply(null,arguments)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hte(t,e,n){return(e=mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=pte(t,"string");return typeof e=="symbol"?e:e+""}function pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sD={curveBasisClosed:lQ,curveBasisOpen:cQ,curveBasis:oQ,curveBumpX:KX,curveBumpY:YX,curveLinearClosed:uQ,curveLinear:l0,curveMonotoneX:dQ,curveMonotoneY:fQ,curveNatural:hQ,curveStep:mQ,curveStepAfter:gQ,curveStepBefore:pQ},Wy=t=>un(t.x)&&un(t.y),oD=t=>t.base!=null&&Wy(t.base)&&Wy(t),Yf=t=>t.x,Wf=t=>t.y,gte=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Sm(t));return(n==="curveMonotone"||n==="curveBump")&&e?sD["".concat(n).concat(e==="vertical"?"Y":"X")]:sD[n]||l0},yte=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=gte(e,i),c=s?n.filter(Wy):n,d;if(Array.isArray(r)){var f=n.map((_,A)=>aD(aD({},_),{},{base:r[A]}));i==="vertical"?d=yg().y(Wf).x1(Yf).x0(_=>_.base.x):d=yg().x(Yf).y1(Wf).y0(_=>_.base.y);var m=d.defined(oD).curve(l),p=s?f.filter(oD):f;return m(p)}i==="vertical"&&qe(r)?d=yg().y(Wf).x1(Yf).x0(r):qe(r)?d=yg().x(Yf).y1(Wf).y0(r):d=J5().x(Yf).y(Wf);var b=d.defined(Wy).curve(l);return b(c)},yV=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?yte(t):r;return w.createElement("path",Z1({},Qa(t),sA(t),{className:Rt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},vte=["x","y","top","left","width","height","className"];function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(null,arguments)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xte(t,e,n){return(e=_te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=wte(t,"string");return typeof e=="symbol"?e:e+""}function wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ete(t,e){if(t==null)return{};var n,r,i=Ste(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ste(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ate=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Tte=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,d=Ete(t,vte),f=bte({x:e,y:n,top:r,left:i,width:s,height:l},d);return!qe(e)||!qe(n)||!qe(s)||!qe(l)||!qe(r)||!qe(i)?null:w.createElement("path",J1({},Nr(f),{className:Rt("recharts-cross",c),d:Ate(e,n,s,l,r,i)}))};function Ite(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){Nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nte(t,e,n){return(e=Cte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cte(t){var e=Ote(t,"string");return typeof e=="symbol"?e:e+""}function Ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),vV=(t,e,n)=>t.map(r=>"".concat(Rte(r)," ").concat(e,"ms ").concat(n)).join(","),Pte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Yh=(t,e)=>Object.keys(e).reduce((n,r)=>uD(uD({},n),{},{[r]:t(r,e[r])}),{});function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return(e=jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=Mte(t,"string");return typeof e=="symbol"?e:e+""}function Mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xy=(t,e,n)=>t+(e-t)*n,eE=t=>{var{from:e,to:n}=t;return e!==n},bV=(t,e,n)=>{var r=Yh((i,s)=>{if(eE(s)){var[l,c]=t(s.from,s.to,s.velocity);return Mn(Mn({},s),{},{from:l,velocity:c})}return s},e);return n<1?Yh((i,s)=>eE(s)?Mn(Mn({},s),{},{velocity:Xy(s.velocity,r[i].velocity,n),from:Xy(s.from,r[i].from,n)}):s,e):bV(t,r,n-1)};function kte(t,e,n,r,i,s){var l,c=r.reduce((b,_)=>Mn(Mn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>Yh((b,_)=>_.from,c),f=()=>!Object.values(c).filter(eE).length,m=null,p=b=>{l||(l=b);var _=b-l,A=_/n.dt;c=bV(n,c,A),i(Mn(Mn(Mn({},t),e),d())),l=b,f()||(m=s.setTimeout(p))};return()=>(m=s.setTimeout(p),()=>{var b;(b=m)===null||b===void 0||b()})}function Vte(t,e,n,r,i,s,l){var c=null,d=i.reduce((p,b)=>Mn(Mn({},p),{},{[b]:[t[b],e[b]]}),{}),f,m=p=>{f||(f=p);var b=(p-f)/r,_=Yh((E,S)=>Xy(...S,n(b)),d);if(s(Mn(Mn(Mn({},t),e),_)),b<1)c=l.setTimeout(m);else{var A=Yh((E,S)=>Xy(...S,n(1)),d);s(Mn(Mn(Mn({},t),e),A))}};return()=>(c=l.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const Lte=(t,e,n,r,i,s)=>{var l=Pte(t,e);return n==null?()=>(i(Mn(Mn({},t),e)),()=>{}):n.isStepper===!0?kte(t,e,n,l,i,s):Vte(t,e,n,r,l,i,s)};var Qy=1e-4,xV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],_V=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),fD=(t,e)=>n=>{var r=xV(t,e);return _V(r,n)},zte=(t,e)=>n=>{var r=xV(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return _V(i,n)},Ute=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},Bte=(t,e,n,r)=>{var i=fD(t,n),s=fD(e,r),l=zte(t,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,b=0;b<8;++b){var _=i(p)-m,A=l(p);if(Math.abs(_-m)<Qy||A<Qy)return s(p);p=c(p-_/A)}return s(p)};return d.isStepper=!1,d},hD=function(){return Bte(...Ute(...arguments))},qte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,d)=>{var f=-(l-c)*n,m=d*r,p=d+(f-m)*i/1e3,b=d*i/1e3+l;return Math.abs(b-c)<Qy&&Math.abs(p)<Qy?[c,0]:[b,p]};return s.isStepper=!0,s.dt=i,s},$te=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hD(t);case"spring":return qte();default:if(t.split("(")[0]==="cubic-bezier")return hD(t)}return typeof t=="function"?t:null};function Fte(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(s.bind(null,f),d);return}s(d),i=t.setTimeout(s.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class Hte{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Gte(){return Fte(new Hte)}var Kte=w.createContext(Gte);function Yte(t,e){var n=w.useContext(Kte);return w.useMemo(()=>e??n(t),[t,e,n])}var Wte={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mD={t:0},mw={t:1};function yA(t){var e=dr(t,Wte),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=e,m=Yte(e.animationId,e.animationManager),[p,b]=w.useState(n?mD:mw),_=w.useRef(null);return w.useEffect(()=>{n||b(mw)},[n]),w.useEffect(()=>{if(!n||!r)return Dd;var A=Lte(mD,mw,$te(s),i,b,m.getTimeoutController()),E=()=>{_.current=A()};return m.start([d,l,E,i,c]),()=>{m.stop(),_.current&&_.current(),c()}},[n,r,i,s,l,d,c,m]),f(p.t)}function vA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Fh(e)),r=w.useRef(t);return r.current!==t&&(n.current=Fh(e),r.current=t),n.current}var Xte=["radius"],Qte=["radius"];function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){Zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zte(t,e,n){return(e=Jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jte(t){var e=ene(t,"string");return typeof e=="symbol"?e:e+""}function ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zy.apply(null,arguments)}function yD(t,e){if(t==null)return{};var n,r,i=tne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vD=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,b=4;p<b;p++)m[p]=i[p]>s?s:i[p];f="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(e)),f+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+l*m[1])),f+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),f+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-l*m[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);f="M ".concat(t,",").concat(e+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+n,",").concat(e+l*_,`
            L `).concat(t+n,",").concat(e+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t,",").concat(e+r-l*_," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},bD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wV=t=>{var e=dr(t,bD),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:m}=e,{animationEasing:p,animationDuration:b,animationBegin:_,isAnimationActive:A,isUpdateAnimationActive:E}=e,S=w.useRef(c),N=w.useRef(d),D=w.useRef(s),O=w.useRef(l),L=w.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),V=vA(L,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var U=Rt("recharts-rectangle",m);if(!E){var P=Nr(e),{radius:C}=P,j=yD(P,Xte);return w.createElement("path",Zy({},j,{radius:typeof f=="number"?f:void 0,className:U,d:vD(s,l,c,d,f)}))}var q=S.current,k=N.current,$=D.current,M=O.current,fe="0px ".concat(r===-1?1:r,"px"),be="".concat(r,"px 0px"),Y=vV(["strokeDasharray"],b,typeof p=="string"?p:bD.animationEasing);return w.createElement(yA,{animationId:V,key:V,canBegin:r>0,duration:b,easing:p,isActive:E,begin:_},H=>{var Q=Xr(q,c,H),ee=Xr(k,d,H),W=Xr($,s,H),F=Xr(M,l,H);n.current&&(S.current=Q,N.current=ee,D.current=W,O.current=F);var X;A?H>0?X={transition:Y,strokeDasharray:be}:X={strokeDasharray:fe}:X={strokeDasharray:be};var J=Nr(e),{radius:ce}=J,Ae=yD(J,Qte);return w.createElement("path",Zy({},Ae,{radius:typeof f=="number"?f:void 0,className:U,d:vD(W,F,Q,ee,f),ref:n,style:gD(gD({},X),e.style)}))})};function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nne(t,e,n){return(e=rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rne(t){var e=ine(t,"string");return typeof e=="symbol"?e:e+""}function ine(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jy=Math.PI/180,ane=t=>t*180/Math.PI,cr=(t,e,n,r)=>({x:t+Math.cos(-Jy*r)*n,y:e+Math.sin(-Jy*r)*n}),sne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},one=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},lne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=one({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>s&&(d=2*Math.PI-d),{radius:l,angle:ane(d),angleInRadian:d}},cne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},une=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},dne=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=lne({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=cne(e),m=s,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?_D(_D({},e),{},{radius:i,angle:une(m,e)}):null};function EV(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=cr(e,n,r,i),c=cr(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(null,arguments)}var fne=(t,e)=>{var n=Hi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Ag=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+r,m=Math.asin(c/f)/Jy,p=d?i:i+s*m,b=cr(e,n,f,p),_=cr(e,n,r,p),A=d?i-s*m:i,E=cr(e,n,f*Math.cos(m*Jy),A);return{center:b,circleTangency:_,lineTangency:E,theta:m}},SV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=fne(s,l),d=s+c,f=cr(e,n,i,s),m=cr(e,n,i,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var b=cr(e,n,r,s),_=cr(e,n,r,d);p+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=d),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},hne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,m=Hi(f-d),{circleTangency:p,lineTangency:b,theta:_}=Ag({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:A,lineTangency:E,theta:S}=Ag({cx:e,cy:n,radius:i,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:c}),N=c?Math.abs(d-f):Math.abs(d-f)-_-S;if(N<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):SV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var D="M ".concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:L,theta:V}=Ag({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:U,lineTangency:P,theta:C}=Ag({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),j=c?Math.abs(d-f):Math.abs(d-f)-V-C;if(j<0&&s===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(j>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,"Z")}else D+="L".concat(e,",").concat(n,"Z");return D},mne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AV=t=>{var e=dr(t,mne),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=e;if(s<i||f===m)return null;var b=Rt("recharts-sector",p),_=s-i,A=sl(l,_,0,!0),E;return A>0&&Math.abs(f-m)<360?E=hne({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(A,_/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):E=SV({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:m}),w.createElement("path",tE({},Nr(e),{className:b,d:E}))};function pne(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(m6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,d=cr(r,i,s,c),f=cr(r,i,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return EV(e)}}var pw={},gw={},yw={},wD;function gne(){return wD||(wD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(yw)),yw}var ED;function yne(){return ED||(ED=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(gw)),gw}var SD;function vne(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N6(),n=yne();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=r})(pw)),pw}var vw,AD;function bne(){return AD||(AD=1,vw=vne().range),vw}var xne=bne();const TV=es(xne);function Jo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _ne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bA(t){let e,n,r;t.length!==2?(e=Jo,n=(c,d)=>Jo(t(c),d),r=(c,d)=>t(c)-d):(e=t===Jo||t===_ne?t:wne,n=t,r=t);function i(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function s(c,d,f=0,m=c.length){if(f<m){if(e(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function l(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:l,right:s}}function wne(){return 0}function IV(t){return t===null?NaN:+t}function*Ene(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Sne=bA(Jo),Cm=Sne.right;bA(IV).center;class TD extends Map{constructor(e,n=Ine){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ID(this,e))}has(e){return super.has(ID(this,e))}set(e,n){return super.set(Ane(this,e),n)}delete(e){return super.delete(Tne(this,e))}}function ID({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ane({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Tne({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ine(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Nne(t=Jo){if(t===Jo)return NV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function NV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Cne=Math.sqrt(50),One=Math.sqrt(10),Rne=Math.sqrt(2);function ev(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=Cne?10:s>=One?5:s>=Rne?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?ev(t,e,n*2):[c,d,f]}function nE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?ev(e,t,n):ev(t,e,n);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(r)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function rE(t,e,n){return e=+e,t=+t,n=+n,ev(t,e,n)[2]}function iE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?rE(e,t,n):rE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ND(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function CD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function CV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?NV:Nne(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),_=Math.max(n,Math.floor(e-f*p/d+b)),A=Math.min(r,Math.floor(e+(d-f)*p/d+b));CV(t,e,_,A,i)}const s=t[e];let l=n,c=r;for(Xf(t,n,e),i(t[r],s)>0&&Xf(t,n,r);l<c;){for(Xf(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?Xf(t,n,c):(++c,Xf(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Xf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Pne(t,e,n){if(t=Float64Array.from(Ene(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return CD(t);if(e>=1)return ND(t);var r,i=(r-1)*e,s=Math.floor(i),l=ND(CV(t,s).subarray(0,s+1)),c=CD(t.subarray(s+1));return l+(c-l)*(i-s)}}function Dne(t,e,n=IV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function jne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ji(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Zs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const aE=Symbol("implicit");function xA(){var t=new TD,e=[],n=[],r=aE;function i(s){let l=t.get(s);if(l===void 0){if(r!==aE)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new TD;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return xA(e,n).unknown(r)},Ji.apply(i,arguments),i}function _A(){var t=xA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,d=0,f=0,m=.5;delete t.unknown;function p(){var b=e().length,_=i<r,A=_?i:r,E=_?r:i;s=(E-A)/Math.max(1,b-d+f*2),c&&(s=Math.floor(s)),A+=(E-A-s*(b-d))*m,l=s*(1-d),c&&(A=Math.round(A),l=Math.round(l));var S=jne(b).map(function(N){return A+s*N});return n(_?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),p()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(c=!!b,p()):c},t.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),p()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),p()):d},t.paddingOuter=function(b){return arguments.length?(f=+b,p()):f},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),p()):m},t.copy=function(){return _A(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},Ji.apply(p(),arguments)}function OV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return OV(e())},t}function Mne(){return OV(_A.apply(null,arguments).paddingInner(1))}function wA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function RV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Om(){}var Wh=.7,tv=1/Wh,Ku="\\s*([+-]?\\d+)\\s*",Xh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kne=/^#([0-9a-f]{3,8})$/,Vne=new RegExp(`^rgb\\(${Ku},${Ku},${Ku}\\)$`),Lne=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),zne=new RegExp(`^rgba\\(${Ku},${Ku},${Ku},${Xh}\\)$`),Une=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${Xh}\\)$`),Bne=new RegExp(`^hsl\\(${Xh},${Ya},${Ya}\\)$`),qne=new RegExp(`^hsla\\(${Xh},${Ya},${Ya},${Xh}\\)$`),OD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wA(Om,Qh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RD,formatHex:RD,formatHex8:$ne,formatHsl:Fne,formatRgb:PD,toString:PD});function RD(){return this.rgb().formatHex()}function $ne(){return this.rgb().formatHex8()}function Fne(){return PV(this).formatHsl()}function PD(){return this.rgb().formatRgb()}function Qh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?DD(e):n===3?new Jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Vne.exec(t))?new Jr(e[1],e[2],e[3],1):(e=Lne.exec(t))?new Jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zne.exec(t))?Tg(e[1],e[2],e[3],e[4]):(e=Une.exec(t))?Tg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bne.exec(t))?kD(e[1],e[2]/100,e[3]/100,1):(e=qne.exec(t))?kD(e[1],e[2]/100,e[3]/100,e[4]):OD.hasOwnProperty(t)?DD(OD[t]):t==="transparent"?new Jr(NaN,NaN,NaN,0):null}function DD(t){return new Jr(t>>16&255,t>>8&255,t&255,1)}function Tg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Jr(t,e,n,r)}function Hne(t){return t instanceof Om||(t=Qh(t)),t?(t=t.rgb(),new Jr(t.r,t.g,t.b,t.opacity)):new Jr}function sE(t,e,n,r){return arguments.length===1?Hne(t):new Jr(t,e,n,r??1)}function Jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}wA(Jr,sE,RV(Om,{brighter(t){return t=t==null?tv:Math.pow(tv,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wh:Math.pow(Wh,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jr(hc(this.r),hc(this.g),hc(this.b),nv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jD,formatHex:jD,formatHex8:Gne,formatRgb:MD,toString:MD}));function jD(){return`#${tc(this.r)}${tc(this.g)}${tc(this.b)}`}function Gne(){return`#${tc(this.r)}${tc(this.g)}${tc(this.b)}${tc((isNaN(this.opacity)?1:this.opacity)*255)}`}function MD(){const t=nv(this.opacity);return`${t===1?"rgb(":"rgba("}${hc(this.r)}, ${hc(this.g)}, ${hc(this.b)}${t===1?")":`, ${t})`}`}function nv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tc(t){return t=hc(t),(t<16?"0":"")+t.toString(16)}function kD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new da(t,e,n,r)}function PV(t){if(t instanceof da)return new da(t.h,t.s,t.l,t.opacity);if(t instanceof Om||(t=Qh(t)),!t)return new da;if(t instanceof da)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,d=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new da(l,c,d,t.opacity)}function Kne(t,e,n,r){return arguments.length===1?PV(t):new da(t,e,n,r??1)}function da(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}wA(da,Kne,RV(Om,{brighter(t){return t=t==null?tv:Math.pow(tv,t),new da(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wh:Math.pow(Wh,t),new da(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Jr(bw(t>=240?t-240:t+120,i,r),bw(t,i,r),bw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new da(VD(this.h),Ig(this.s),Ig(this.l),nv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=nv(this.opacity);return`${t===1?"hsl(":"hsla("}${VD(this.h)}, ${Ig(this.s)*100}%, ${Ig(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VD(t){return t=(t||0)%360,t<0?t+360:t}function Ig(t){return Math.max(0,Math.min(1,t||0))}function bw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const EA=t=>()=>t;function Yne(t,e){return function(n){return t+n*e}}function Wne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Xne(t){return(t=+t)==1?DV:function(e,n){return n-e?Wne(e,n,t):EA(isNaN(e)?n:e)}}function DV(t,e){var n=e-t;return n?Yne(t,n):EA(isNaN(t)?e:t)}const LD=(function t(e){var n=Xne(e);function r(i,s){var l=n((i=sE(i)).r,(s=sE(s)).r),c=n(i.g,s.g),d=n(i.b,s.b),f=DV(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=t,r})(1);function Qne(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Zne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jne(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Md(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function ere(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function rv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Md(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var oE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xw=new RegExp(oE.source,"g");function nre(t){return function(){return t}}function rre(t){return function(e){return t(e)+""}}function ire(t,e){var n=oE.lastIndex=xw.lastIndex=0,r,i,s,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=oE.exec(t))&&(i=xw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:rv(r,i)})),n=xw.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?rre(d[0].x):nre(e):(e=d.length,function(f){for(var m=0,p;m<e;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function Md(t,e){var n=typeof e,r;return e==null||n==="boolean"?EA(e):(n==="number"?rv:n==="string"?(r=Qh(e))?(e=r,LD):ire:e instanceof Qh?LD:e instanceof Date?ere:Zne(e)?Qne:Array.isArray(e)?Jne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tre:rv)(t,e)}function SA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function are(t,e){e===void 0&&(e=t,t=Md);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function sre(t){return function(){return t}}function iv(t){return+t}var zD=[0,1];function jr(t){return t}function lE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sre(isNaN(e)?NaN:.5)}function ore(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lre(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=lE(i,r),s=n(l,s)):(r=lE(r,i),s=n(s,l)),function(c){return s(r(c))}}function cre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=lE(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var d=Cm(t,c,1,r)-1;return s[d](i[d](c))}}function Rm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function E0(){var t=zD,e=zD,n=Md,r,i,s,l=jr,c,d,f;function m(){var b=Math.min(t.length,e.length);return l!==jr&&(l=ore(t[0],t[b-1])),c=b>2?cre:lre,d=f=null,p}function p(b){return b==null||isNaN(b=+b)?s:(d||(d=c(t.map(r),e,n)))(r(l(b)))}return p.invert=function(b){return l(i((f||(f=c(e,t.map(r),rv)))(b)))},p.domain=function(b){return arguments.length?(t=Array.from(b,iv),m()):t.slice()},p.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},p.rangeRound=function(b){return e=Array.from(b),n=SA,m()},p.clamp=function(b){return arguments.length?(l=b?!0:jr,m()):l!==jr},p.interpolate=function(b){return arguments.length?(n=b,m()):n},p.unknown=function(b){return arguments.length?(s=b,p):s},function(b,_){return r=b,i=_,m()}}function AA(){return E0()(jr,jr)}function ure(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function av(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gd(t){return t=av(Math.abs(t)),t?t[1]:NaN}function dre(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),s.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function fre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zh(t){if(!(e=hre.exec(t)))throw new Error("invalid format: "+t);var e;return new TA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zh.prototype=TA.prototype;function TA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var jV;function pre(t,e){var n=av(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(jV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+av(t,Math.max(0,e+s-1))[0]}function UD(t,e){var n=av(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const BD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ure,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UD(t*100,e),r:UD,s:pre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qD(t){return t}var $D=Array.prototype.map,FD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gre(t){var e=t.grouping===void 0||t.thousands===void 0?qD:dre($D.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?qD:fre($D.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Zh(p);var b=p.fill,_=p.align,A=p.sign,E=p.symbol,S=p.zero,N=p.width,D=p.comma,O=p.precision,L=p.trim,V=p.type;V==="n"?(D=!0,V="g"):BD[V]||(O===void 0&&(O=12),L=!0,V="g"),(S||b==="0"&&_==="=")&&(S=!0,b="0",_="=");var U=E==="$"?n:E==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",P=E==="$"?r:/[%p]/.test(V)?l:"",C=BD[V],j=/[defgprs%]/.test(V);O=O===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function q(k){var $=U,M=P,fe,be,Y;if(V==="c")M=C(k)+M,k="";else{k=+k;var H=k<0||1/k<0;if(k=isNaN(k)?d:C(Math.abs(k),O),L&&(k=mre(k)),H&&+k==0&&A!=="+"&&(H=!1),$=(H?A==="("?A:c:A==="-"||A==="("?"":A)+$,M=(V==="s"?FD[8+jV/3]:"")+M+(H&&A==="("?")":""),j){for(fe=-1,be=k.length;++fe<be;)if(Y=k.charCodeAt(fe),48>Y||Y>57){M=(Y===46?i+k.slice(fe+1):k.slice(fe))+M,k=k.slice(0,fe);break}}}D&&!S&&(k=e(k,1/0));var Q=$.length+k.length+M.length,ee=Q<N?new Array(N-Q+1).join(b):"";switch(D&&S&&(k=e(ee+k,ee.length?N-M.length:1/0),ee=""),_){case"<":k=$+k+M+ee;break;case"=":k=$+ee+k+M;break;case"^":k=ee.slice(0,Q=ee.length>>1)+$+k+M+ee.slice(Q);break;default:k=ee+$+k+M;break}return s(k)}return q.toString=function(){return p+""},q}function m(p,b){var _=f((p=Zh(p),p.type="f",p)),A=Math.max(-8,Math.min(8,Math.floor(gd(b)/3)))*3,E=Math.pow(10,-A),S=FD[8+A/3];return function(N){return _(E*N)+S}}return{format:f,formatPrefix:m}}var Ng,IA,MV;yre({thousands:",",grouping:[3],currency:["$",""]});function yre(t){return Ng=gre(t),IA=Ng.format,MV=Ng.formatPrefix,Ng}function vre(t){return Math.max(0,-gd(Math.abs(t)))}function bre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gd(e)/3)))*3-gd(Math.abs(t)))}function xre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gd(e)-gd(t))+1}function kV(t,e,n,r){var i=iE(t,e,n),s;switch(r=Zh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=bre(i,l))&&(r.precision=s),MV(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=xre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=vre(i))&&(r.precision=s-(r.type==="%")*2);break}}return IA(r)}function ml(t){var e=t.domain;return t.ticks=function(n){var r=e();return nE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return kV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],d,f,m=10;for(c<l&&(f=l,l=c,c=f,f=i,i=s,s=f);m-- >0;){if(f=rE(l,c,n),f===d)return r[i]=l,r[s]=c,e(r);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function VV(){var t=AA();return t.copy=function(){return Rm(t,VV())},Ji.apply(t,arguments),ml(t)}function LV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,iv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return LV(t).unknown(e)},t=arguments.length?Array.from(t,iv):[0,1],ml(n)}function zV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function HD(t){return Math.log(t)}function GD(t){return Math.exp(t)}function _re(t){return-Math.log(-t)}function wre(t){return-Math.exp(-t)}function Ere(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Sre(t){return t===10?Ere:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Are(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KD(t){return(e,n)=>-t(-e,n)}function NA(t){const e=t(HD,GD),n=e.domain;let r=10,i,s;function l(){return i=Are(r),s=Sre(r),n()[0]<0?(i=KD(i),s=KD(s),t(_re,wre)):t(HD,GD),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let b=i(f),_=i(m),A,E;const S=c==null?10:+c;let N=[];if(!(r%1)&&_-b<S){if(b=Math.floor(b),_=Math.ceil(_),f>0){for(;b<=_;++b)for(A=1;A<r;++A)if(E=b<0?A/s(-b):A*s(b),!(E<f)){if(E>m)break;N.push(E)}}else for(;b<=_;++b)for(A=r-1;A>=1;--A)if(E=b>0?A/s(-b):A*s(b),!(E<f)){if(E>m)break;N.push(E)}N.length*2<S&&(N=nE(f,m,S))}else N=nE(b,_,Math.min(_-b,S)).map(s);return p?N.reverse():N},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Zh(d)).precision==null&&(d.trim=!0),d=IA(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/s(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},e.nice=()=>n(zV(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function UV(){const t=NA(E0()).domain([1,10]);return t.copy=()=>Rm(t,UV()).base(t.base()),Ji.apply(t,arguments),t}function YD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function WD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CA(t){var e=1,n=t(YD(e),WD(e));return n.constant=function(r){return arguments.length?t(YD(e=+r),WD(e)):e},ml(n)}function BV(){var t=CA(E0());return t.copy=function(){return Rm(t,BV()).constant(t.constant())},Ji.apply(t,arguments)}function XD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Tre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ire(t){return t<0?-t*t:t*t}function OA(t){var e=t(jr,jr),n=1;function r(){return n===1?t(jr,jr):n===.5?t(Tre,Ire):t(XD(n),XD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ml(e)}function RA(){var t=OA(E0());return t.copy=function(){return Rm(t,RA()).exponent(t.exponent())},Ji.apply(t,arguments),t}function Nre(){return RA.apply(null,arguments).exponent(.5)}function QD(t){return Math.sign(t)*t*t}function Cre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function qV(){var t=AA(),e=[0,1],n=!1,r;function i(s){var l=Cre(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(QD(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,iv)).map(QD)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return qV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ji.apply(i,arguments),ml(i)}function $V(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=Dne(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Cm(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Jo),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return $V().domain(t).range(e).unknown(r)},Ji.apply(s,arguments)}function FV(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Cm(r,d,0,n)]:s}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return FV().domain([t,e]).range(i).unknown(s)},Ji.apply(ml(l),arguments)}function HV(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Cm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return HV().domain(t).range(e).unknown(n)},Ji.apply(i,arguments)}const _w=new Date,ww=new Date;function Un(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),e(s,c),t(s);while(f<s&&s<l);return d},i.filter=s=>Un(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(_w.setTime(+s),ww.setTime(+l),t(_w),t(ww),Math.floor(n(_w,ww))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const sv=Un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);sv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Un(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):sv);sv.range;const Rs=1e3,Gi=Rs*60,Ps=Gi*60,$s=Ps*24,PA=$s*7,ZD=$s*30,Ew=$s*365,nc=Un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getUTCSeconds());nc.range;const DA=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rs)},(t,e)=>{t.setTime(+t+e*Gi)},(t,e)=>(e-t)/Gi,t=>t.getMinutes());DA.range;const jA=Un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gi)},(t,e)=>(e-t)/Gi,t=>t.getUTCMinutes());jA.range;const MA=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rs-t.getMinutes()*Gi)},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getHours());MA.range;const kA=Un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getUTCHours());kA.range;const Pm=Un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gi)/$s,t=>t.getDate()-1);Pm.range;const S0=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>t.getUTCDate()-1);S0.range;const GV=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$s,t=>Math.floor(t/$s));GV.range;function jc(t){return Un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Gi)/PA)}const A0=jc(0),ov=jc(1),Ore=jc(2),Rre=jc(3),yd=jc(4),Pre=jc(5),Dre=jc(6);A0.range;ov.range;Ore.range;Rre.range;yd.range;Pre.range;Dre.range;function Mc(t){return Un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/PA)}const T0=Mc(0),lv=Mc(1),jre=Mc(2),Mre=Mc(3),vd=Mc(4),kre=Mc(5),Vre=Mc(6);T0.range;lv.range;jre.range;Mre.range;vd.range;kre.range;Vre.range;const VA=Un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());VA.range;const LA=Un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LA.range;const Fs=Un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Fs.range;const Hs=Un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Hs.range;function KV(t,e,n,r,i,s){const l=[[nc,1,Rs],[nc,5,5*Rs],[nc,15,15*Rs],[nc,30,30*Rs],[s,1,Gi],[s,5,5*Gi],[s,15,15*Gi],[s,30,30*Gi],[i,1,Ps],[i,3,3*Ps],[i,6,6*Ps],[i,12,12*Ps],[r,1,$s],[r,2,2*$s],[n,1,PA],[e,1,ZD],[e,3,3*ZD],[t,1,Ew]];function c(f,m,p){const b=m<f;b&&([f,m]=[m,f]);const _=p&&typeof p.range=="function"?p:d(f,m,p),A=_?_.range(f,+m+1):[];return b?A.reverse():A}function d(f,m,p){const b=Math.abs(m-f)/p,_=bA(([,,S])=>S).right(l,b);if(_===l.length)return t.every(iE(f/Ew,m/Ew,p));if(_===0)return sv.every(Math.max(iE(f,m,p),1));const[A,E]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return A.every(E)}return[c,d]}const[Lre,zre]=KV(Hs,LA,T0,GV,kA,jA),[Ure,Bre]=KV(Fs,VA,A0,Pm,MA,DA);function Sw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Aw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function qre(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=Zf(i),m=Jf(i),p=Zf(s),b=Jf(s),_=Zf(l),A=Jf(l),E=Zf(c),S=Jf(c),N=Zf(d),D=Jf(d),O={a:H,A:Q,b:ee,B:W,c:null,d:ij,e:ij,f:die,g:_ie,G:Eie,H:lie,I:cie,j:uie,L:YV,m:fie,M:hie,p:F,q:X,Q:oj,s:lj,S:mie,u:pie,U:gie,V:yie,w:vie,W:bie,x:null,X:null,y:xie,Y:wie,Z:Sie,"%":sj},L={a:J,A:ce,b:Ae,B:_e,c:null,d:aj,e:aj,f:Nie,g:Lie,G:Uie,H:Aie,I:Tie,j:Iie,L:XV,m:Cie,M:Oie,p:Ee,q:Je,Q:oj,s:lj,S:Rie,u:Pie,U:Die,V:jie,w:Mie,W:kie,x:null,X:null,y:Vie,Y:zie,Z:Bie,"%":sj},V={a:q,A:k,b:$,B:M,c:fe,d:nj,e:nj,f:iie,g:tj,G:ej,H:rj,I:rj,j:eie,L:rie,m:Jre,M:tie,p:j,q:Zre,Q:sie,s:oie,S:nie,u:Kre,U:Yre,V:Wre,w:Gre,W:Xre,x:be,X:Y,y:tj,Y:ej,Z:Qre,"%":aie};O.x=U(n,O),O.X=U(r,O),O.c=U(e,O),L.x=U(n,L),L.X=U(r,L),L.c=U(e,L);function U(le,Ne){return function(He){var ye=[],wt=-1,ue=0,xe=le.length,Te,Ce,ze;for(He instanceof Date||(He=new Date(+He));++wt<xe;)le.charCodeAt(wt)===37&&(ye.push(le.slice(ue,wt)),(Ce=JD[Te=le.charAt(++wt)])!=null?Te=le.charAt(++wt):Ce=Te==="e"?" ":"0",(ze=Ne[Te])&&(Te=ze(He,Ce)),ye.push(Te),ue=wt+1);return ye.push(le.slice(ue,wt)),ye.join("")}}function P(le,Ne){return function(He){var ye=Qf(1900,void 0,1),wt=C(ye,le,He+="",0),ue,xe;if(wt!=He.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Ne&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(ue=Aw(Qf(ye.y,0,1)),xe=ue.getUTCDay(),ue=xe>4||xe===0?lv.ceil(ue):lv(ue),ue=S0.offset(ue,(ye.V-1)*7),ye.y=ue.getUTCFullYear(),ye.m=ue.getUTCMonth(),ye.d=ue.getUTCDate()+(ye.w+6)%7):(ue=Sw(Qf(ye.y,0,1)),xe=ue.getDay(),ue=xe>4||xe===0?ov.ceil(ue):ov(ue),ue=Pm.offset(ue,(ye.V-1)*7),ye.y=ue.getFullYear(),ye.m=ue.getMonth(),ye.d=ue.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),xe="Z"in ye?Aw(Qf(ye.y,0,1)).getUTCDay():Sw(Qf(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(xe+5)%7:ye.w+ye.U*7-(xe+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,Aw(ye)):Sw(ye)}}function C(le,Ne,He,ye){for(var wt=0,ue=Ne.length,xe=He.length,Te,Ce;wt<ue;){if(ye>=xe)return-1;if(Te=Ne.charCodeAt(wt++),Te===37){if(Te=Ne.charAt(wt++),Ce=V[Te in JD?Ne.charAt(wt++):Te],!Ce||(ye=Ce(le,He,ye))<0)return-1}else if(Te!=He.charCodeAt(ye++))return-1}return ye}function j(le,Ne,He){var ye=f.exec(Ne.slice(He));return ye?(le.p=m.get(ye[0].toLowerCase()),He+ye[0].length):-1}function q(le,Ne,He){var ye=_.exec(Ne.slice(He));return ye?(le.w=A.get(ye[0].toLowerCase()),He+ye[0].length):-1}function k(le,Ne,He){var ye=p.exec(Ne.slice(He));return ye?(le.w=b.get(ye[0].toLowerCase()),He+ye[0].length):-1}function $(le,Ne,He){var ye=N.exec(Ne.slice(He));return ye?(le.m=D.get(ye[0].toLowerCase()),He+ye[0].length):-1}function M(le,Ne,He){var ye=E.exec(Ne.slice(He));return ye?(le.m=S.get(ye[0].toLowerCase()),He+ye[0].length):-1}function fe(le,Ne,He){return C(le,e,Ne,He)}function be(le,Ne,He){return C(le,n,Ne,He)}function Y(le,Ne,He){return C(le,r,Ne,He)}function H(le){return l[le.getDay()]}function Q(le){return s[le.getDay()]}function ee(le){return d[le.getMonth()]}function W(le){return c[le.getMonth()]}function F(le){return i[+(le.getHours()>=12)]}function X(le){return 1+~~(le.getMonth()/3)}function J(le){return l[le.getUTCDay()]}function ce(le){return s[le.getUTCDay()]}function Ae(le){return d[le.getUTCMonth()]}function _e(le){return c[le.getUTCMonth()]}function Ee(le){return i[+(le.getUTCHours()>=12)]}function Je(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Ne=U(le+="",O);return Ne.toString=function(){return le},Ne},parse:function(le){var Ne=P(le+="",!1);return Ne.toString=function(){return le},Ne},utcFormat:function(le){var Ne=U(le+="",L);return Ne.toString=function(){return le},Ne},utcParse:function(le){var Ne=P(le+="",!0);return Ne.toString=function(){return le},Ne}}}var JD={"-":"",_:" ",0:"0"},er=/^\s*\d+/,$re=/^%/,Fre=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Hre(t){return t.replace(Fre,"\\$&")}function Zf(t){return new RegExp("^(?:"+t.map(Hre).join("|")+")","i")}function Jf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Gre(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Kre(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Yre(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Wre(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Xre(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ej(t,e,n){var r=er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tj(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qre(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Zre(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Jre(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nj(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eie(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rj(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rie(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function iie(t,e,n){var r=er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function aie(t,e,n){var r=$re.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sie(t,e,n){var r=er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function oie(t,e,n){var r=er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ij(t,e){return yt(t.getDate(),e,2)}function lie(t,e){return yt(t.getHours(),e,2)}function cie(t,e){return yt(t.getHours()%12||12,e,2)}function uie(t,e){return yt(1+Pm.count(Fs(t),t),e,3)}function YV(t,e){return yt(t.getMilliseconds(),e,3)}function die(t,e){return YV(t,e)+"000"}function fie(t,e){return yt(t.getMonth()+1,e,2)}function hie(t,e){return yt(t.getMinutes(),e,2)}function mie(t,e){return yt(t.getSeconds(),e,2)}function pie(t){var e=t.getDay();return e===0?7:e}function gie(t,e){return yt(A0.count(Fs(t)-1,t),e,2)}function WV(t){var e=t.getDay();return e>=4||e===0?yd(t):yd.ceil(t)}function yie(t,e){return t=WV(t),yt(yd.count(Fs(t),t)+(Fs(t).getDay()===4),e,2)}function vie(t){return t.getDay()}function bie(t,e){return yt(ov.count(Fs(t)-1,t),e,2)}function xie(t,e){return yt(t.getFullYear()%100,e,2)}function _ie(t,e){return t=WV(t),yt(t.getFullYear()%100,e,2)}function wie(t,e){return yt(t.getFullYear()%1e4,e,4)}function Eie(t,e){var n=t.getDay();return t=n>=4||n===0?yd(t):yd.ceil(t),yt(t.getFullYear()%1e4,e,4)}function Sie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function aj(t,e){return yt(t.getUTCDate(),e,2)}function Aie(t,e){return yt(t.getUTCHours(),e,2)}function Tie(t,e){return yt(t.getUTCHours()%12||12,e,2)}function Iie(t,e){return yt(1+S0.count(Hs(t),t),e,3)}function XV(t,e){return yt(t.getUTCMilliseconds(),e,3)}function Nie(t,e){return XV(t,e)+"000"}function Cie(t,e){return yt(t.getUTCMonth()+1,e,2)}function Oie(t,e){return yt(t.getUTCMinutes(),e,2)}function Rie(t,e){return yt(t.getUTCSeconds(),e,2)}function Pie(t){var e=t.getUTCDay();return e===0?7:e}function Die(t,e){return yt(T0.count(Hs(t)-1,t),e,2)}function QV(t){var e=t.getUTCDay();return e>=4||e===0?vd(t):vd.ceil(t)}function jie(t,e){return t=QV(t),yt(vd.count(Hs(t),t)+(Hs(t).getUTCDay()===4),e,2)}function Mie(t){return t.getUTCDay()}function kie(t,e){return yt(lv.count(Hs(t)-1,t),e,2)}function Vie(t,e){return yt(t.getUTCFullYear()%100,e,2)}function Lie(t,e){return t=QV(t),yt(t.getUTCFullYear()%100,e,2)}function zie(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function Uie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vd(t):vd.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function Bie(){return"+0000"}function sj(){return"%"}function oj(t){return+t}function lj(t){return Math.floor(+t/1e3)}var Ou,ZV,JV;qie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qie(t){return Ou=qre(t),ZV=Ou.format,Ou.parse,JV=Ou.utcFormat,Ou.utcParse,Ou}function $ie(t){return new Date(t)}function Fie(t){return t instanceof Date?+t:+new Date(+t)}function zA(t,e,n,r,i,s,l,c,d,f){var m=AA(),p=m.invert,b=m.domain,_=f(".%L"),A=f(":%S"),E=f("%I:%M"),S=f("%I %p"),N=f("%a %d"),D=f("%b %d"),O=f("%B"),L=f("%Y");function V(U){return(d(U)<U?_:c(U)<U?A:l(U)<U?E:s(U)<U?S:r(U)<U?i(U)<U?N:D:n(U)<U?O:L)(U)}return m.invert=function(U){return new Date(p(U))},m.domain=function(U){return arguments.length?b(Array.from(U,Fie)):b().map($ie)},m.ticks=function(U){var P=b();return t(P[0],P[P.length-1],U??10)},m.tickFormat=function(U,P){return P==null?V:f(P)},m.nice=function(U){var P=b();return(!U||typeof U.range!="function")&&(U=e(P[0],P[P.length-1],U??10)),U?b(zV(P,U)):m},m.copy=function(){return Rm(m,zA(t,e,n,r,i,s,l,c,d,f))},m}function Hie(){return Ji.apply(zA(Ure,Bre,Fs,VA,A0,Pm,MA,DA,nc,ZV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gie(){return Ji.apply(zA(Lre,zre,Hs,LA,T0,S0,kA,jA,nc,JV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function I0(){var t=0,e=1,n,r,i,s,l=jr,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(s(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(l=p,f):l};function m(p){return function(b){var _,A;return arguments.length?([_,A]=b,l=p(_,A),f):[l(0),l(1)]}}return f.range=m(Md),f.rangeRound=m(SA),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function pl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function eL(){var t=ml(I0()(jr));return t.copy=function(){return pl(t,eL())},Zs.apply(t,arguments)}function tL(){var t=NA(I0()).domain([1,10]);return t.copy=function(){return pl(t,tL()).base(t.base())},Zs.apply(t,arguments)}function nL(){var t=CA(I0());return t.copy=function(){return pl(t,nL()).constant(t.constant())},Zs.apply(t,arguments)}function UA(){var t=OA(I0());return t.copy=function(){return pl(t,UA()).exponent(t.exponent())},Zs.apply(t,arguments)}function Kie(){return UA.apply(null,arguments).exponent(.5)}function rL(){var t=[],e=jr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Cm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Jo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Pne(t,s/r))},n.copy=function(){return rL(e).domain(t)},Zs.apply(n,arguments)}function N0(){var t=0,e=.5,n=1,r=1,i,s,l,c,d,f=jr,m,p=!1,b;function _(E){return isNaN(E=+E)?b:(E=.5+((E=+m(E))-s)*(r*E<r*s?c:d),f(p?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),s=m(e=+e),l=m(n=+n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(p=!!E,_):p},_.interpolator=function(E){return arguments.length?(f=E,_):f};function A(E){return function(S){var N,D,O;return arguments.length?([N,D,O]=S,f=are(E,[N,D,O]),_):[f(0),f(.5),f(1)]}}return _.range=A(Md),_.rangeRound=A(SA),_.unknown=function(E){return arguments.length?(b=E,_):b},function(E){return m=E,i=E(t),s=E(e),l=E(n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function iL(){var t=ml(N0()(jr));return t.copy=function(){return pl(t,iL())},Zs.apply(t,arguments)}function aL(){var t=NA(N0()).domain([.1,1,10]);return t.copy=function(){return pl(t,aL()).base(t.base())},Zs.apply(t,arguments)}function sL(){var t=CA(N0());return t.copy=function(){return pl(t,sL()).constant(t.constant())},Zs.apply(t,arguments)}function BA(){var t=OA(N0());return t.copy=function(){return pl(t,BA()).exponent(t.exponent())},Zs.apply(t,arguments)}function Yie(){return BA.apply(null,arguments).exponent(.5)}const sh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_A,scaleDiverging:iL,scaleDivergingLog:aL,scaleDivergingPow:BA,scaleDivergingSqrt:Yie,scaleDivergingSymlog:sL,scaleIdentity:LV,scaleImplicit:aE,scaleLinear:VV,scaleLog:UV,scaleOrdinal:xA,scalePoint:Mne,scalePow:RA,scaleQuantile:$V,scaleQuantize:FV,scaleRadial:qV,scaleSequential:eL,scaleSequentialLog:tL,scaleSequentialPow:UA,scaleSequentialQuantile:rL,scaleSequentialSqrt:Kie,scaleSequentialSymlog:nL,scaleSqrt:Nre,scaleSymlog:BV,scaleThreshold:HV,scaleTime:Hie,scaleUtc:Gie,tickFormat:kV},Symbol.toStringTag,{value:"Module"}));var gl=t=>t.chartData,Wie=de([gl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),qA=(t,e,n,r)=>r?Wie(t):gl(t);function Ic(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(un(e)&&un(n))return!0}return!1}function cj(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function oL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(un(n))i=n;else if(typeof n=="function")return;if(un(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(Ic(l))return l}}function Xie(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ic(r))return cj(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(qe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&$P.test(i)){var d=$P.exec(i);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(qe(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&FP.test(s)){var m=FP.exec(s);if(m==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e==null?void 0:e[1];var b=[l,c];if(Ic(b))return e==null?b:cj(b,e,n)}}}var kd=1e9,Qie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},FA,tn=!0,Qi="[DecimalError] ",mc=Qi+"Invalid argument: ",$A=Qi+"Exponent out of range: ",Vd=Math.floor,Kl=Math.pow,Zie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gi,Xn=1e7,Kt=7,lL=9007199254740991,cv=Vd(lL/Kt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return js(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Ut(js(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return Pn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(gi))throw Error(Qi+"NaN");if(n.s<1)throw Error(Qi+(n.s?"NaN":"-Infinity"));return n.eq(gi)?new r(0):(tn=!1,e=js(Jh(n,s),Jh(t,s),s),tn=!0,Ut(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dL(e,t):cL(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Qi+"NaN");return n.s?(tn=!1,e=js(n,t,0,1).times(t),tn=!0,n.minus(e)):Ut(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return uL(this)};Pe.naturalLogarithm=Pe.ln=function(){return Jh(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cL(e,t):dL(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(mc+t);if(e=Pn(i)+1,r=i.d.length-1,n=r*Kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Qi+"NaN")}for(t=Pn(c),tn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=qa(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(js(c,s,l+2)).times(.5),qa(s.d).slice(0,l)===(e=qa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Ut(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return tn=!0,Ut(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,s,l,c,d,f,m=this,p=m.constructor,b=m.d,_=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,d=b.length,f=_.length,d<f&&(s=b,b=_,_=s,l=d,d=f,f=l),s=[],l=d+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=s[i]+_[r]*b[i-r-1]+e,s[i--]=c%Xn|0,e=c/Xn|0;s[i]=(s[i]+e)%Xn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,tn?Ut(t,p.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ja(t,0,kd),e===void 0?e=r.rounding:Ja(e,0,8),Ut(n,t+Pn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Nc(r,!0):(Ja(t,0,kd),e===void 0?e=i.rounding:Ja(e,0,8),r=Ut(new i(r),t+1,e),n=Nc(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Nc(i):(Ja(t,0,kd),e===void 0?e=s.rounding:Ja(e,0,8),r=Ut(new s(i),t+Pn(i)+1,e),n=Nc(r.abs(),!1,t+Pn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Ut(new e(t),Pn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,s,l,c=this,d=c.constructor,f=12,m=+(t=new d(t));if(!t.s)return new d(gi);if(c=new d(c),!c.s){if(t.s<1)throw Error(Qi+"Infinity");return c}if(c.eq(gi))return c;if(r=d.precision,t.eq(gi))return Ut(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=m<0?-m:m)<=lL){for(i=new d(gi),e=Math.ceil(r/Kt+4),tn=!1;n%2&&(i=i.times(c),dj(i.d,e)),n=Vd(n/2),n!==0;)c=c.times(c),dj(c.d,e);return tn=!0,t.s<0?new d(gi).div(i):Ut(i,r)}}else if(s<0)throw Error(Qi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,tn=!1,i=t.times(Jh(c,r+f)),tn=!0,i=uL(i),i.s=s,i};Pe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Pn(i),r=Nc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ja(t,1,kd),e===void 0?e=s.rounding:Ja(e,0,8),i=Ut(new s(i),t,e),n=Pn(i),r=Nc(i,t<=n||n<=s.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ja(t,1,kd),e===void 0?e=r.rounding:Ja(e,0,8)),Ut(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pn(t),n=t.constructor;return Nc(t,e<=n.toExpNeg||e>=n.toExpPos)};function cL(t,e){var n,r,i,s,l,c,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),tn?Ut(e,p):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,c=f.length):(r=f,i=l,c=d.length),l=Math.ceil(p/Kt),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,r=f,f=d,d=r),n=0;s;)n=(d[--s]=d[s]+f[s]+n)/Xn|0,d[s]%=Xn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,tn?Ut(e,p):e}function Ja(t,e,n){if(t!==~~t||t<e||t>n)throw Error(mc+t)}function qa(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Kt-r.length,n&&(s+=Vo(n)),s+=r;l=t[e],r=l+"",n=Kt-r.length,n&&(s+=Vo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var js=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Xn|0,l=s/Xn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Xn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,d,f,m,p,b,_,A,E,S,N,D,O,L,V,U,P,C,j=r.constructor,q=r.s==i.s?1:-1,k=r.d,$=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(Qi+"Division by zero");for(d=r.e-i.e,P=$.length,V=k.length,_=new j(q),A=_.d=[],f=0;$[f]==(k[f]||0);)++f;if($[f]>(k[f]||0)&&--d,s==null?D=s=j.precision:l?D=s+(Pn(r)-Pn(i))+1:D=s,D<0)return new j(0);if(D=D/Kt+2|0,f=0,P==1)for(m=0,$=$[0],D++;(f<V||m)&&D--;f++)O=m*Xn+(k[f]||0),A[f]=O/$|0,m=O%$|0;else{for(m=Xn/($[0]+1)|0,m>1&&($=t($,m),k=t(k,m),P=$.length,V=k.length),L=P,E=k.slice(0,P),S=E.length;S<P;)E[S++]=0;C=$.slice(),C.unshift(0),U=$[0],$[1]>=Xn/2&&++U;do m=0,c=e($,E,P,S),c<0?(N=E[0],P!=S&&(N=N*Xn+(E[1]||0)),m=N/U|0,m>1?(m>=Xn&&(m=Xn-1),p=t($,m),b=p.length,S=E.length,c=e(p,E,b,S),c==1&&(m--,n(p,P<b?C:$,b))):(m==0&&(c=m=1),p=$.slice()),b=p.length,b<S&&p.unshift(0),n(E,p,S),c==-1&&(S=E.length,c=e($,E,P,S),c<1&&(m++,n(E,P<S?C:$,S))),S=E.length):c===0&&(m++,E=[0]),A[f++]=m,c&&E[0]?E[S++]=k[L]||0:(E=[k[L]],S=1);while((L++<V||E[0]!==void 0)&&D--)}return A[0]||A.shift(),_.e=d,Ut(_,l?s+Pn(_)+1:s)}})();function uL(t,e){var n,r,i,s,l,c,d=0,f=0,m=t.constructor,p=m.precision;if(Pn(t)>16)throw Error($A+Pn(t));if(!t.s)return new m(gi);for(tn=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(Kl(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new m(gi),m.precision=c;;){if(i=Ut(i.times(t),c),n=n.times(++d),l=s.plus(js(i,n,c)),qa(l.d).slice(0,c)===qa(s.d).slice(0,c)){for(;f--;)s=Ut(s.times(s),c);return m.precision=p,e==null?(tn=!0,Ut(s,p)):s}s=l}}function Pn(t){for(var e=t.e*Kt,n=t.d[0];n>=10;n/=10)e++;return e}function Tw(t,e,n){if(e>t.LN10.sd())throw tn=!0,n&&(t.precision=n),Error(Qi+"LN10 precision limit exceeded");return Ut(new t(t.LN10),e)}function Vo(t){for(var e="";t--;)e+="0";return e}function Jh(t,e){var n,r,i,s,l,c,d,f,m,p=1,b=10,_=t,A=_.d,E=_.constructor,S=E.precision;if(_.s<1)throw Error(Qi+(_.s?"NaN":"-Infinity"));if(_.eq(gi))return new E(0);if(e==null?(tn=!1,f=S):f=e,_.eq(10))return e==null&&(tn=!0),Tw(E,f);if(f+=b,E.precision=f,n=qa(A),r=n.charAt(0),s=Pn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=qa(_.d),r=n.charAt(0),p++;s=Pn(_),r>1?(_=new E("0."+n),s++):_=new E(r+"."+n.slice(1))}else return d=Tw(E,f+2,S).times(s+""),_=Jh(new E(r+"."+n.slice(1)),f-b).plus(d),E.precision=S,e==null?(tn=!0,Ut(_,S)):_;for(c=l=_=js(_.minus(gi),_.plus(gi),f),m=Ut(_.times(_),f),i=3;;){if(l=Ut(l.times(m),f),d=c.plus(js(l,new E(i),f)),qa(d.d).slice(0,f)===qa(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(Tw(E,f+2,S).times(s+""))),c=js(c,new E(p),f),E.precision=S,e==null?(tn=!0,Ut(c,S)):c;c=d,i+=2}}function uj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Vd(n/Kt),t.d=[],r=(n+1)%Kt,n<0&&(r+=Kt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Kt;r<i;)t.d.push(+e.slice(r,r+=Kt));e=e.slice(r),r=Kt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),tn&&(t.e>cv||t.e<-cv))throw Error($A+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ut(t,e,n){var r,i,s,l,c,d,f,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Kt,i=e,f=p[m=0];else{if(m=Math.ceil((r+1)/Kt),s=p.length,m>=s)return t;for(f=s=p[m],l=1;s>=10;s/=10)l++;r%=Kt,i=r-Kt+l}if(n!==void 0&&(s=Kl(10,l-i-1),c=f/s%10|0,d=e<0||p[m+1]!==void 0||f%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/Kl(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return d?(s=Pn(t),p.length=1,e=e-s-1,p[0]=Kl(10,(Kt-e%Kt)%Kt),t.e=Vd(-e/Kt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,s=1,m--):(p.length=m+1,s=Kl(10,Kt-r),p[m]=i>0?(f/Kl(10,l-i)%Kl(10,i)|0)*s:0),d)for(;;)if(m==0){(p[0]+=s)==Xn&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=Xn)break;p[m--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(tn&&(t.e>cv||t.e<-cv))throw Error($A+Pn(t));return t}function dL(t,e){var n,r,i,s,l,c,d,f,m,p,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),tn?Ut(e,_):e;if(d=t.d,p=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(m=l<0,m?(n=d,l=-l,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(_/Kt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}l=0}for(m&&(n=d,d=p,p=n,e.s=-e.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(s=i;s&&d[--s]===0;)d[s]=Xn-1;--d[s],d[i]+=Xn}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,tn?Ut(e,_):e):new b(0)}function Nc(t,e,n){var r,i=Pn(t),s=qa(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Vo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Vo(-i-1)+s,n&&(r=n-l)>0&&(s+=Vo(r))):i>=l?(s+=Vo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Vo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Vo(r))),t.s<0?"-"+s:s}function dj(t,e){if(t.length>e)return t.length=e,!0}function fL(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(mc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return uj(l,s.toString())}else if(typeof s!="string")throw Error(mc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,Zie.test(s))uj(l,s);else throw Error(mc+s)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fL,i.config=i.set=Jie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Jie(t){if(!t||typeof t!="object")throw Error(Qi+"Object expected");var e,n,r,i=["precision",1,kd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Vd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(mc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(mc+n+": "+r);return this}var FA=fL(Qie);gi=new FA(1);const It=FA;var eae=t=>t,hL={},mL=t=>t===hL,fj=t=>function e(){return arguments.length===0||arguments.length===1&&mL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},pL=(t,e)=>t===1?e:fj(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==hL).length;return s>=t?e(...r):pL(t-s,fj(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=r.map(m=>mL(m)?c.shift():m);return e(...f,...c)}))}),C0=t=>pL(t.length,t),cE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},tae=C0((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),nae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return eae;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),s(...arguments))}},uE=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),gL=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((l,c)=>{var d;return l===((d=e)===null||d===void 0?void 0:d[c])})||(e=i,n=t(...i)),n}};function yL(t){var e;return t===0?e=1:e=Math.floor(new It(t).abs().log(10).toNumber())+1,e}function vL(t,e,n){for(var r=new It(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}C0((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});C0((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});C0((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var bL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},xL=(t,e,n)=>{if(t.lte(0))return new It(0);var r=yL(t.toNumber()),i=new It(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new It(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new It(d.toNumber()):new It(Math.ceil(d.toNumber()))},rae=(t,e,n)=>{var r=new It(1),i=new It(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new It(10).pow(yL(t)-1),i=new It(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new It(Math.floor(t)))}else t===0?i=new It(Math.floor((e-1)/2)):n||(i=new It(Math.floor(t)));var l=Math.floor((e-1)/2),c=nae(tae(d=>i.add(new It(d-l).mul(r)).toNumber()),cE);return c(0,e)},_L=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var l=xL(new It(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new It(0):(c=new It(e).add(n).div(2),c=c.sub(new It(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),f=Math.ceil(new It(n).sub(c).div(l).toNumber()),m=d+f+1;return m>r?_L(e,n,r,i,s+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:l,tickMin:c.sub(new It(d).mul(l)),tickMax:c.add(new It(f).mul(l))})};function iae(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,c]=bL([e,n]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...cE(0,r-1).map(()=>1/0)]:[...cE(0,r-1).map(()=>-1/0),c];return e>n?uE(d):d}if(l===c)return rae(l,r,i);var{step:f,tickMin:m,tickMax:p}=_L(l,c,s,i,0),b=vL(m,p.add(new It(.1).mul(f)),f);return e>n?uE(b):b}function aae(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=bL([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var c=Math.max(e,2),d=xL(new It(l).sub(s).div(c-1),i,0),f=[...vL(new It(s),new It(l),d),l];return i===!1&&(f=f.map(m=>Math.round(m))),n>r?uE(f):f}var sae=gL(iae),oae=gL(aae),lae=t=>t.rootProps.barCategoryGap,O0=t=>t.rootProps.stackOffset,HA=t=>t.options.chartName,GA=t=>t.rootProps.syncId,wL=t=>t.rootProps.syncMethod,KA=t=>t.options.eventEmitter,Tr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ts={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},pi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},R0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},cae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:Ts.reversed,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:Ts.type,unit:void 0},uae={allowDataOverflow:pi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pi.scale,tick:pi.tick,tickCount:pi.tickCount,ticks:void 0,type:pi.type,unit:void 0},dae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fae={allowDataOverflow:pi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pi.scale,tick:pi.tick,tickCount:pi.tickCount,ticks:void 0,type:"category",unit:void 0},YA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?dae:cae,WA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?fae:uae,P0=t=>t.polarOptions,XA=de([Xs,Qs,fr],sne),EL=de([P0,XA],(t,e)=>{if(t!=null)return sl(t.innerRadius,e,0)}),SL=de([P0,XA],(t,e)=>{if(t!=null)return sl(t.outerRadius,e,e*.8)}),hae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},AL=de([P0],hae);de([YA,AL],R0);var TL=de([XA,EL,SL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});de([WA,TL],R0);var IL=de([Yt,P0,EL,SL,Xs,Qs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=e;return{cx:sl(l,i,i/2),cy:sl(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Bn=(t,e)=>e,D0=(t,e,n)=>n;function NL(t){return t==null?void 0:t.id}function CL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=NL(c);f.forEach((p,b)=>{var _=s==null||i?b:String(kr(p,s,null)),A=kr(p,c.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[m]:A}),l.set(_,E)})}}),Array.from(l.values())}function QA(t){return t.stackId!=null&&t.dataKey!=null}var j0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function M0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function mae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var qn=t=>{var e=Yt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ld=t=>t.tooltip.settings.axisId;function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(n),!0).forEach(function(r){pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pae(t,e,n){return(e=gae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gae(t){var e=yae(t,"string");return typeof e=="symbol"?e:e+""}function yae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dE=[0,"auto"],fi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},OL=(t,e)=>t.cartesianAxis.xAxis[e],ns=(t,e)=>{var n=OL(t,e);return n??fi},hi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Im},RL=(t,e)=>t.cartesianAxis.yAxis[e],rs=(t,e)=>{var n=RL(t,e);return n??hi},vae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ZA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??vae},Ur=(t,e,n)=>{switch(e){case"xAxis":return ns(t,n);case"yAxis":return rs(t,n);case"zAxis":return ZA(t,n);case"angleAxis":return YA(t,n);case"radiusAxis":return WA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},bae=(t,e,n)=>{switch(e){case"xAxis":return ns(t,n);case"yAxis":return rs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Dm=(t,e,n)=>{switch(e){case"xAxis":return ns(t,n);case"yAxis":return rs(t,n);case"angleAxis":return YA(t,n);case"radiusAxis":return WA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},PL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function DL(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var jL=t=>t.graphicalItems.cartesianItems,xae=de([Bn,D0],DL),ML=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),jm=de([jL,Ur,xae],ML,{memoizeOptions:{resultEqualityCheck:M0}}),kL=de([jm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(QA)),VL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),_ae=de([jm],VL),LL=t=>t.map(e=>e.data).filter(Boolean).flat(1),wae=de([jm],LL,{memoizeOptions:{resultEqualityCheck:M0}}),zL=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},JA=de([wae,qA],zL),UL=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:kr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:kr(i,r)}))):t.map(r=>({value:r})),k0=de([JA,Ur,jm],UL);function BL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Qg(t){if(Wi(t)||t instanceof Date){var e=Number(t);if(un(e))return e}}function mj(t){if(Array.isArray(t)){var e=[Qg(t[0]),Qg(t[1])];return Ic(e)?e:void 0}var n=Qg(t);if(n!=null)return[n,n]}function Gs(t){return t.map(Qg).filter(NQ)}function Eae(t,e,n){return!n||typeof e!="number"||Yi(e)?[]:n.length?Gs(n.flatMap(r=>{var i=kr(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!un(s)||!un(l)))return[e-s,e+l]})):[]}var $n=t=>{var e=qn(t),n=Ld(t);return Dm(t,e,n)},qL=de([$n],t=>t==null?void 0:t.dataKey),Sae=de([kL,qA,$n],CL),$L=(t,e,n)=>{var r={},i=e.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[l,c]=s,d=c.map(NL);return[l,{stackedData:XJ(t,d,n),graphicalItems:c}]}))},Aae=de([Sae,kL,O0],$L),FL=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=JJ(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Tae=de([Ur],t=>t.allowDataOverflow),eT=t=>{var e;if(t==null||!("domain"in t))return dE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Gs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:dE},HL=de([Ur],eT),GL=de([HL,Tae],oL),Iae=de([Aae,gl,Bn,GL],FL,{memoizeOptions:{resultEqualityCheck:j0}}),tT=t=>t.errorBars,Nae=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>BL(n,r)),dv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},KL=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(N=>BL(i,N)),b=kr(c,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),_=Eae(c,b,p);if(_.length>=2){var A=Math.min(..._),E=Math.max(..._);(s==null||A<s)&&(s=A),(l==null||E>l)&&(l=E)}var S=mj(b);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var d=mj(kr(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),un(s)&&un(l))return[s,l]},Cae=de([JA,Ur,_ae,tT,Bn],KL,{memoizeOptions:{resultEqualityCheck:j0}});function Oae(t){var{value:e}=t;if(Wi(e)||e instanceof Date)return e}var Rae=(t,e,n)=>{var r=t.map(Oae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&d6(r))?TV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},YL=t=>t.referenceElements.dots,zd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Pae=de([YL,Bn,D0],zd),WL=t=>t.referenceElements.areas,Dae=de([WL,Bn,D0],zd),XL=t=>t.referenceElements.lines,jae=de([XL,Bn,D0],zd),QL=(t,e)=>{var n=Gs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Mae=de(Pae,Bn,QL),ZL=(t,e)=>{var n=Gs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},kae=de([Dae,Bn],ZL);function Vae(t){var e;if(t.x!=null)return Gs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Gs(n)}function Lae(t){var e;if(t.y!=null)return Gs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Gs(n)}var JL=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?Vae(r):Lae(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zae=de([jae,Bn],JL),Uae=de(Mae,zae,kae,(t,e,n)=>dv(t,n,e)),e9=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?dv(r,s,i):dv(s,i);return Xie(e,f,t.allowDataOverflow)},Bae=de([Ur,HL,GL,Iae,Cae,Uae,Yt,Bn],e9,{memoizeOptions:{resultEqualityCheck:j0}}),qae=[0,1],t9=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,f=hl(e,s);if(f&&c==null){var m;return TV(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return d==="category"?Rae(r,t,f):i==="expand"?qae:l}},nT=de([Ur,Yt,JA,k0,O0,Bn,Bae],t9),n9=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(Sm(s));return c in sh?c:"point"}}},Mm=de([Ur,Yt,PL,HA,Bn],n9);function $ae(t){if(t!=null){if(t in sh)return sh[t]();var e="scale".concat(Sm(t));if(e in sh)return sh[e]()}}function rT(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=$ae(e);if(i!=null){var s=i.domain(n).range(r);return GJ(s),s}}}var r9=(t,e,n)=>{var r=eT(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ic(t))return sae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ic(t))return oae(t,e.tickCount,e.allowDecimals)}},iT=de([nT,Dm,Mm],r9),i9=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ic(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},Fae=de([Ur,nT,iT,Bn],i9),Hae=de(k0,Ur,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Gs(t.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),a9=de(Hae,Yt,lae,fr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!un(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=sl(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),Gae=(t,e)=>{var n=ns(t,e);return n==null||typeof n.padding!="string"?0:a9(t,"xAxis",e,n.padding)},Kae=(t,e)=>{var n=rs(t,e);return n==null||typeof n.padding!="string"?0:a9(t,"yAxis",e,n.padding)},Yae=de(ns,Gae,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Wae=de(rs,Kae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Xae=de([fr,Yae,x0,b0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Qae=de([fr,Yt,Wae,x0,b0,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),km=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Xae(t,n,r);case"yAxis":return Qae(t,n,r);case"zAxis":return(i=ZA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return AL(t);case"radiusAxis":return TL(t,n);default:return}},s9=de([Ur,km],R0),ol=de([Ur,Mm,Fae,s9],rT);de([jm,tT,Bn],Nae);function o9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var V0=(t,e)=>e,L0=(t,e,n)=>n,Zae=de(y0,V0,L0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(o9)),Jae=de(v0,V0,L0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(o9)),l9=(t,e)=>({width:t.width,height:e.height}),ese=(t,e)=>{var n=typeof e.width=="number"?e.width:Im;return{width:n,height:t.height}},tse=de(fr,ns,l9),nse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},rse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},ise=de(Qs,fr,Zae,V0,L0,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=l9(e,c);l==null&&(l=nse(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),ase=de(Xs,fr,Jae,V0,L0,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=ese(e,c);l==null&&(l=rse(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),sse=(t,e)=>{var n=ns(t,e);if(n!=null)return ise(t,n.orientation,n.mirror)},ose=de([fr,ns,sse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),lse=(t,e)=>{var n=rs(t,e);if(n!=null)return ase(t,n.orientation,n.mirror)},cse=de([fr,rs,lse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),use=de(fr,rs,(t,e)=>{var n=typeof e.width=="number"?e.width:Im;return{width:n,height:t.height}}),c9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=hl(t,r),d=e.map(f=>f.value);if(l&&c&&s==="category"&&i&&d6(d))return d}},aT=de([Yt,k0,Ur,Bn],c9),u9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=hl(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},sT=de([Yt,k0,Dm,Bn],u9),pj=de([Yt,bae,Mm,ol,aT,sT,km,iT,Bn],(t,e,n,r,i,s,l,c,d)=>{if(e!=null){var f=hl(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:r}}}),dse=(t,e,n,r,i,s,l,c,d)=>{if(!(e==null||r==null)){var f=hl(t,d),{type:m,ticks:p,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=m==="category"&&r.bandwidth?r.bandwidth()/_:0;A=d==="angleAxis"&&s!=null&&s.length>=2?Hi(s[0]-s[1])*2*A:A;var E=p||i;if(E){var S=E.map((N,D)=>{var O=l?l.indexOf(N):N;return{index:D,coordinate:r(O)+A,value:N,offset:A}});return S.filter(N=>un(N.coordinate))}return f&&c?c.map((N,D)=>({coordinate:r(N)+A,value:N,index:D,offset:A})).filter(N=>un(N.coordinate)):r.ticks?r.ticks(b).map(N=>({coordinate:r(N)+A,value:N,offset:A})):r.domain().map((N,D)=>({coordinate:r(N)+A,value:l?l[N]:N,index:D,offset:A}))}},d9=de([Yt,Dm,Mm,ol,iT,km,aT,sT,Bn],dse),fse=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=hl(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Hi(r[0]-r[1])*2*f:f,c&&s?s.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},f9=de([Yt,Dm,ol,km,aT,sT,Bn],fse),h9=de(Ur,ol,(t,e)=>{if(!(t==null||e==null))return uv(uv({},t),{},{scale:e})}),hse=de([Ur,Mm,nT,s9],rT);de((t,e,n)=>ZA(t,n),hse,(t,e)=>{if(!(t==null||e==null))return uv(uv({},t),{},{scale:e})});var mse=de([Yt,y0,v0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),m9=t=>t.options.defaultTooltipEventType,p9=t=>t.options.validateTooltipEventTypes;function g9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function oT(t,e){var n=m9(t),r=p9(t);return g9(e,n,r)}function pse(t){return Ve(e=>oT(e,t))}var y9=(t,e)=>{var n,r=Number(e);if(!(Yi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},gse=t=>t.tooltip.settings,$o={active:!1,index:null,dataKey:void 0,coordinate:void 0},yse={itemInteraction:{click:$o,hover:$o},axisInteraction:{click:$o,hover:$o},keyboardInteraction:$o,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},v9=ei({name:"tooltip",initialState:yse,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Vn()},removeTooltipEntrySettings:{reducer(t,e){var n=Ds(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Vn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:vse,removeTooltipEntrySettings:bse,setTooltipSettingsState:xse,setActiveMouseOverItemIndex:_se,mouseLeaveItem:ome,mouseLeaveChart:b9,setActiveClickItemIndex:lme,setMouseOverAxisIndex:x9,setMouseClickAxisIndex:wse,setSyncInteraction:fE,setKeyboardInteraction:hE}=v9.actions,Ese=v9.reducer;function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){Sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sse(t,e,n){return(e=Ase(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ase(t){var e=Tse(t,"string");return typeof e=="symbol"?e:e+""}function Tse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ise(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Nse(t){return t.index!=null}var _9=(t,e,n,r)=>{if(e==null)return $o;var i=Ise(t,e,n);if(i==null)return $o;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Nse(i)){if(s)return Cg(Cg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Cg(Cg({},$o),{},{coordinate:i.coordinate})},lT=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!un(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},w9=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,s);if(f!=null)return f;var m=i==null?void 0:i[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},E9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},Vm=t=>t.options.tooltipPayloadSearcher,Ud=t=>t.tooltip;function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){Cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cse(t,e,n){return(e=Ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ose(t){var e=Rse(t,"string");return typeof e=="symbol"?e:e+""}function Rse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pse(t,e){return t??e}var S9=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return t.reduce((b,_)=>{var A,{dataDefinedOnItem:E,settings:S}=_,N=Pse(E,c),D=Array.isArray(N)?rV(N,f,m):N,O=(A=S==null?void 0:S.dataKey)!==null&&A!==void 0?A:r,L=S==null?void 0:S.nameKey,V;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&l==="axis"?V=f6(D,r,i):V=s(D,e,d,L),Array.isArray(V))V.forEach(P=>{var C=vj(vj({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});b.push(HP({tooltipEntrySettings:C,dataKey:P.dataKey,payload:P.payload,value:kr(P.payload,P.dataKey),name:P.name}))});else{var U;b.push(HP({tooltipEntrySettings:S,dataKey:O,payload:V,value:kr(V,O),name:(U=kr(V,L))!==null&&U!==void 0?U:S==null?void 0:S.name}))}return b},p)}},cT=de([$n,Yt,PL,HA,qn],n9),Dse=de([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),jse=de([qn,Ld],DL),Lm=de([Dse,$n,jse],ML,{memoizeOptions:{resultEqualityCheck:M0}}),Mse=de([Lm],t=>t.filter(QA)),kse=de([Lm],LL,{memoizeOptions:{resultEqualityCheck:M0}}),Bd=de([kse,gl],zL),Vse=de([Mse,gl,$n],CL),uT=de([Bd,$n,Lm],UL),A9=de([$n],eT),Lse=de([$n],t=>t.allowDataOverflow),T9=de([A9,Lse],oL),zse=de([Lm],t=>t.filter(QA)),Use=de([Vse,zse,O0],$L),Bse=de([Use,gl,qn,T9],FL),qse=de([Lm],VL),$se=de([Bd,$n,qse,tT,qn],KL,{memoizeOptions:{resultEqualityCheck:j0}}),Fse=de([YL,qn,Ld],zd),Hse=de([Fse,qn],QL),Gse=de([WL,qn,Ld],zd),Kse=de([Gse,qn],ZL),Yse=de([XL,qn,Ld],zd),Wse=de([Yse,qn],JL),Xse=de([Hse,Wse,Kse],dv),Qse=de([$n,A9,T9,Bse,$se,Xse,Yt,qn],e9),I9=de([$n,Yt,Bd,uT,O0,qn,Qse],t9),Zse=de([I9,$n,cT],r9),Jse=de([$n,I9,Zse,qn],i9),N9=t=>{var e=qn(t),n=Ld(t),r=!1;return km(t,e,n,r)},C9=de([$n,N9],R0),O9=de([$n,cT,Jse,C9],rT),eoe=de([Yt,uT,$n,qn],c9),toe=de([Yt,uT,$n,qn],u9),noe=(t,e,n,r,i,s,l,c)=>{if(e){var{type:d}=e,f=hl(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Hi(i[0]-i[1])*2*p:p,f&&l?l.map((b,_)=>({coordinate:r(b)+p,value:b,index:_,offset:p})):r.domain().map((b,_)=>({coordinate:r(b)+p,value:s?s[b]:b,index:_,offset:p}))}}},Js=de([Yt,$n,cT,O9,N9,eoe,toe,qn],noe),dT=de([m9,p9,gse],(t,e,n)=>g9(n.shared,t,e)),R9=t=>t.tooltip.settings.trigger,fT=t=>t.tooltip.settings.defaultIndex,z0=de([Ud,dT,R9,fT],_9),em=de([z0,Bd],lT),P9=de([Js,em],y9),roe=de([z0],t=>{if(t)return t.dataKey}),D9=de([Ud,dT,R9,fT],E9),ioe=de([Xs,Qs,Yt,fr,Js,fT,D9,Vm],w9),aoe=de([z0,ioe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),soe=de([z0],t=>t.active),ooe=de([D9,em,gl,qL,P9,Vm,dT],S9),loe=de([ooe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function coe(t,e,n){return(e=uoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uoe(t){var e=doe(t,"string");return typeof e=="symbol"?e:e+""}function doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var foe=()=>Ve($n),hoe=()=>{var t=foe(),e=Ve(Js),n=Ve(O9);return Ky(!t||!n?void 0:xj(xj({},t),{},{scale:n}),e)};function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(n),!0).forEach(function(r){moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function moe(t,e,n){return(e=poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t){var e=goe(t,"string");return typeof e=="symbol"?e:e+""}function goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yoe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},voe=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return Ru(Ru(Ru({},r),cr(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:d}=r;return Ru(Ru(Ru({},r),cr(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function boe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var j9=(t,e,n,r,i)=>{var s,l=-1,c=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,p=d>=c-1?n[0].coordinate:n[d+1].coordinate,b=void 0;if(Hi(m-f)!==Hi(p-m)){var _=[];if(Hi(p-m)===Hi(i[1]-i[0])){b=p;var A=m+i[1]-i[0];_[0]=Math.min(A,(A+f)/2),_[1]=Math.max(A,(A+f)/2)}else{b=f;var E=p+i[1]-i[0];_[0]=Math.min(m,(E+m)/2),_[1]=Math.max(m,(E+m)/2)}var S=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>S[0]&&t<=S[1]||t>=_[0]&&t<=_[1]){({index:l}=n[d]);break}}else{var N=Math.min(f,p),D=Math.max(f,p);if(t>(N+m)/2&&t<=(D+m)/2){({index:l}=n[d]);break}}}else if(e){for(var O=0;O<c;O++)if(O===0&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O>0&&O<c-1&&t>(e[O].coordinate+e[O-1].coordinate)/2&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O===c-1&&t>(e[O].coordinate+e[O-1].coordinate)/2){({index:l}=e[O]);break}}return l},xoe=()=>Ve(HA),hT=(t,e)=>e,M9=(t,e,n)=>n,mT=(t,e,n,r)=>r,_oe=de(Js,t=>d0(t,e=>e.coordinate)),pT=de([Ud,hT,M9,mT],_9),k9=de([pT,Bd],lT),woe=(t,e,n)=>{if(e!=null){var r=Ud(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},V9=de([Ud,hT,M9,mT],E9),fv=de([Xs,Qs,Yt,fr,Js,mT,V9,Vm],w9),Eoe=de([pT,fv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),L9=de([Js,k9],y9),Soe=de([V9,k9,gl,qL,L9,Vm,hT],S9),Aoe=de([pT],t=>({isActive:t.active,activeIndex:t.index})),Toe=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&boe(t,l)){var c=eee(t,e),d=j9(c,s,i,n,r),f=yoe(e,i,d,t);return{activeIndex:String(d),activeCoordinate:f}}},Ioe=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=dne(t,n);if(c){var d=tee(c,e),f=j9(d,l,s,r,i),m=voe(e,s,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Noe=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Toe(t,e,r,i,s,l,c):Ioe(t,e,n,r,i,s,l)},Coe=de(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Ooe=de(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Tr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:mae}});function wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ej(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(n),!0).forEach(function(r){Roe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Roe(t,e,n){return(e=Poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Poe(t){var e=Doe(t,"string");return typeof e=="symbol"?e:e+""}function Doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var joe={},Moe={zIndexMap:Object.values(Tr).reduce((t,e)=>Ej(Ej({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),joe)},koe=new Set(Object.values(Tr));function Voe(t){return koe.has(t)}var z9=ei({name:"zIndex",initialState:Moe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Vn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Voe(n)&&delete t.zIndexMap[n])},prepare:Vn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Vn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Vn()}}}),{registerZIndexPortal:Loe,unregisterZIndexPortal:zoe,registerZIndexPortalId:Uoe,unregisterZIndexPortalId:Boe}=z9.actions,qoe=z9.reducer;function is(t){var{zIndex:e,children:n}=t,r=Mee(),i=r&&e!==void 0&&e!==0,s=zr(),l=bn();w.useLayoutEffect(()=>i?(l(Loe({zIndex:e})),()=>{l(zoe({zIndex:e}))}):Dd,[l,e,i]);var c=Ve(f=>Coe(f,e,s));if(!i)return n;if(!c)return null;var d=document.getElementById(c);return d?Go.createPortal(n,d):null}function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(null,arguments)}function Sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(n),!0).forEach(function(r){$oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $oe(t,e,n){return(e=Foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=Hoe(t,"string");return typeof e=="symbol"?e:e+""}function Hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Goe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function Koe(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=t,p=n,b=r,_=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var A,E,S;if(m==="ScatterChart")A=p,E=Tte,S=Tr.cursorLine;else if(m==="BarChart")A=Ite(c,p,s,l),E=wV,S=Tr.cursorRectangle;else if(c==="radial"&&m6(p)){var{cx:N,cy:D,radius:O,startAngle:L,endAngle:V}=EV(p);A={cx:N,cy:D,startAngle:L,endAngle:V,innerRadius:O,outerRadius:O},E=AV,S=Tr.cursorLine}else A={points:pne(c,p,s)},E=yV,S=Tr.cursorLine;var U=typeof d=="object"&&"className"in d?d.className:void 0,P=Og(Og(Og(Og({stroke:"#ccc",pointerEvents:"none"},s),A),s0(d)),{},{payload:b,payloadIndex:_,className:Rt("recharts-tooltip-cursor",U)});return w.createElement(is,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},w.createElement(Goe,{cursor:d,cursorComp:E,cursorProps:P}))}function Yoe(t){var e=hoe(),n=hV(),r=_0(),i=xoe();return e==null||n==null||r==null||i==null?null:w.createElement(Koe,mE({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var U9=w.createContext(null),Woe=()=>w.useContext(U9),Iw={exports:{}},Aj;function Xoe(){return Aj||(Aj=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function s(d,f,m,p,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new i(m,p||d,b),A=n?n+f:f;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],_]:d._events[A].push(_):(d._events[A]=_,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)e.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,_=p.length,A=new Array(_);b<_;b++)A[b]=p[b].fn;return A},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,b,_,A){var E=n?n+f:f;if(!this._events[E])return!1;var S=this._events[E],N=arguments.length,D,O;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),N){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,p),!0;case 4:return S.fn.call(S.context,m,p,b),!0;case 5:return S.fn.call(S.context,m,p,b,_),!0;case 6:return S.fn.call(S.context,m,p,b,_,A),!0}for(O=1,D=new Array(N-1);O<N;O++)D[O-1]=arguments[O];S.fn.apply(S.context,D)}else{var L=S.length,V;for(O=0;O<L;O++)switch(S[O].once&&this.removeListener(f,S[O].fn,void 0,!0),N){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,m);break;case 3:S[O].fn.call(S[O].context,m,p);break;case 4:S[O].fn.call(S[O].context,m,p,b);break;default:if(!D)for(V=1,D=new Array(N-1);V<N;V++)D[V-1]=arguments[V];S[O].fn.apply(S[O].context,D)}}return!0},c.prototype.on=function(f,m,p){return s(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return s(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,b){var _=n?n+f:f;if(!this._events[_])return this;if(!m)return l(this,_),this;var A=this._events[_];if(A.fn)A.fn===m&&(!b||A.once)&&(!p||A.context===p)&&l(this,_);else{for(var E=0,S=[],N=A.length;E<N;E++)(A[E].fn!==m||b&&!A[E].once||p&&A[E].context!==p)&&S.push(A[E]);S.length?this._events[_]=S.length===1?S[0]:S:l(this,_)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Iw)),Iw.exports}var Qoe=Xoe();const Zoe=es(Qoe);var tm=new Zoe,pE="recharts.syncEvent.tooltip",Tj="recharts.syncEvent.brush";function Joe(t,e){if(e){var n=Number.parseInt(e,10);if(!Yi(n))return t==null?void 0:t[n]}}var ele={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},B9=ei({name:"options",initialState:ele,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tle=B9.reducer,{createEventEmitter:nle}=B9.actions;function rle(t){return t.tooltip.syncInteraction}var ile={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},q9=ei({name:"chartData",initialState:ile,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Ij,setDataStartEndIndexes:ale,setComputedData:cme}=q9.actions,sle=q9.reducer,ole=["x","y"];function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(n),!0).forEach(function(r){lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lle(t,e,n){return(e=cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cle(t){var e=ule(t,"string");return typeof e=="symbol"?e:e+""}function ule(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dle(t,e){if(t==null)return{};var n,r,i=fle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hle(){var t=Ve(GA),e=Ve(KA),n=bn(),r=Ve(wL),i=Ve(Js),s=_0(),l=Nm(),c=Ve(d=>d.rootProps.className);w.useEffect(()=>{if(t==null)return Dd;var d=(f,m,p)=>{if(e!==p&&t===f){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate&&m.payload.sourceViewBox){var _=m.payload.coordinate,{x:A,y:E}=_,S=dle(_,ole),{x:N,y:D,width:O,height:L}=m.payload.sourceViewBox,V=Pu(Pu({},S),{},{x:l.x+(O?(A-N)/O:0)*l.width,y:l.y+(L?(E-D)/L:0)*l.height});n(Pu(Pu({},m),{},{payload:Pu(Pu({},m.payload),{},{coordinate:V})}))}else n(m);return}if(i!=null){var U;if(typeof r=="function"){var P={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},C=r(i,P);U=i[C]}else r==="value"&&(U=i.find(Y=>String(Y.value)===m.payload.label));var{coordinate:j}=m.payload;if(U==null||m.payload.active===!1||j==null||l==null){n(fE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:q,y:k}=j,$=Math.min(q,l.x+l.width),M=Math.min(k,l.y+l.height),fe={x:s==="horizontal"?U.coordinate:$,y:s==="horizontal"?M:U.coordinate},be=fE({active:m.payload.active,coordinate:fe,dataKey:m.payload.dataKey,index:String(U.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});n(be)}}};return tm.on(pE,d),()=>{tm.off(pE,d)}},[c,n,e,t,r,i,s,l])}function mle(){var t=Ve(GA),e=Ve(KA),n=bn();w.useEffect(()=>{if(t==null)return Dd;var r=(i,s,l)=>{e!==l&&t===i&&n(ale(s))};return tm.on(Tj,r),()=>{tm.off(Tj,r)}},[n,e,t])}function ple(){var t=bn();w.useEffect(()=>{t(nle())},[t]),hle(),mle()}function gle(t,e,n,r,i,s){var l=Ve(_=>woe(_,t,e)),c=Ve(KA),d=Ve(GA),f=Ve(wL),m=Ve(rle),p=m==null?void 0:m.active,b=Nm();w.useEffect(()=>{if(!p&&d!=null&&c!=null){var _=fE({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b});tm.emit(pE,d,_,c)}},[p,n,l,i,r,c,d,f,s,b])}function Cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return(e=vle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vle(t){var e=ble(t,"string");return typeof e=="symbol"?e:e+""}function ble(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xle(t){return t.dataKey}function _le(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(ite,e)}var Rj=[],wle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!jd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ele(t){var e,n,r=dr(t,wle),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:b,position:_,reverseDirection:A,useTranslate3d:E,wrapperStyle:S,cursor:N,shared:D,trigger:O,defaultIndex:L,portal:V,axisId:U}=r,P=bn(),C=typeof L=="number"?String(L):L;w.useEffect(()=>{P(xse({shared:D,trigger:O,axisId:U,active:i,defaultIndex:C}))},[P,D,O,U,i,C]);var j=Nm(),q=gV(),k=pse(D),{activeIndex:$,isActive:M}=(e=Ve(Ee=>Aoe(Ee,k,O,C)))!==null&&e!==void 0?e:{},fe=Ve(Ee=>Soe(Ee,k,O,C)),be=Ve(Ee=>L9(Ee,k,O,C)),Y=Ve(Ee=>Eoe(Ee,k,O,C)),H=fe,Q=Woe(),ee=(n=i??M)!==null&&n!==void 0?n:!1,[W,F]=O6([H,ee]),X=k==="axis"?be:void 0;gle(k,O,Y,X,$,ee);var J=V??Q;if(J==null||j==null||k==null)return null;var ce=H??Rj;ee||(ce=Rj),f&&ce.length&&(ce=A6(ce.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||r.includeHidden)),b,xle));var Ae=ce.length>0,_e=w.createElement(dte,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:m,active:ee,coordinate:Y,hasPayload:Ae,offset:p,position:_,reverseDirection:A,useTranslate3d:E,viewBox:j,wrapperStyle:S,lastBoundingBox:W,innerRef:F,hasPortalFromProps:!!V},_le(d,Oj(Oj({},r),{},{payload:ce,label:X,active:ee,activeIndex:$,coordinate:Y,accessibilityLayer:q})));return w.createElement(w.Fragment,null,Go.createPortal(_e,J),ee&&w.createElement(Yoe,{cursor:N,tooltipEventType:k,coordinate:Y,payload:ce,index:$}))}function Sle(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Tle(t,"string");return typeof e=="symbol"?e:e+""}function Tle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ile{constructor(e){Sle(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){Cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cle(t,e,n){return(e=Ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=Rle(t,"string");return typeof e=="symbol"?e:e+""}function Rle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ple={cacheSize:2e3,enableCache:!0},$9=Nle({},Ple),Dj=new Ile($9.cacheSize),Dle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jj="recharts_measurement_span";function jle(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var Mj=(t,e)=>{try{var n=document.getElementById(jj);n||(n=document.createElement("span"),n.setAttribute("id",jj),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Dle,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},_h=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jd.isSsr)return{width:0,height:0};if(!$9.enableCache)return Mj(e,n);var r=jle(e,n),i=Dj.get(r);if(i)return i;var s=Mj(e,n);return Dj.set(r,s),s},kj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,F9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vle=Object.keys(F9),Uu="NaN";function Lle(t,e){return t*F9[e]}class Wr{static parse(e){var n,[,r,i]=(n=kle.exec(e))!==null&&n!==void 0?n:[];return new Wr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Yi(e)&&(this.unit=""),n!==""&&!Mle.test(n)&&(this.num=NaN,this.unit=""),Vle.includes(n)&&(this.num=Lle(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Wr(NaN,""):new Wr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Wr(NaN,""):new Wr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Wr(NaN,""):new Wr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Wr(NaN,""):new Wr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Yi(this.num)}}function H9(t){if(t.includes(Uu))return Uu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=kj.exec(e))!==null&&n!==void 0?n:[],l=Wr.parse(r??""),c=Wr.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Uu;e=e.replace(kj,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,p,b]=(f=Vj.exec(e))!==null&&f!==void 0?f:[],_=Wr.parse(m??""),A=Wr.parse(b??""),E=p==="+"?_.add(A):_.subtract(A);if(E.isNaN())return Uu;e=e.replace(Vj,E.toString())}return e}var Lj=/\(([^()]*)\)/;function zle(t){for(var e=t,n;(n=Lj.exec(e))!=null;){var[,r]=n;e=e.replace(Lj,H9(r))}return e}function Ule(t){var e=t.replace(/\s+/g,"");return e=zle(e),e=H9(e),e}function Ble(t){try{return Ule(t)}catch{return Uu}}function Nw(t){var e=Ble(t.slice(5,-1));return e===Uu?"":e}var qle=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$le=["dx","dy","angle","className","breakAll"];function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(null,arguments)}function zj(t,e){if(t==null)return{};var n,r,i=Fle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var G9=/[ \f\n\r\t\v\u2028\u2029]+/,K9=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Jn(e)||(n?i=e.toString().split(""):i=e.toString().split(G9));var s=i.map(c=>({word:c,width:_h(c,r).width})),l=n?0:_h("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Hle(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Y9=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(l),d.width+=c+n;else{var f={words:[l],width:c};i.push(f)}return i},[]),W9=t=>t.reduce((e,n)=>e.width>n.width?e:n),Gle="",Uj=(t,e,n,r,i,s,l,c)=>{var d=t.slice(0,e),f=K9({breakAll:n,style:r,children:d+Gle});if(!f)return[!1,[]];var m=Y9(f.wordsWithComputedWidth,s,l,c),p=m.length>i||W9(m).width>Number(s);return[p,m]},Kle=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:d}=t,f=qe(s),m=String(l),p=Y9(e,r,n,i);if(!f||i)return p;var b=p.length>s||W9(p).width>Number(r);if(!b)return p;for(var _=0,A=m.length-1,E=0,S;_<=A&&E<=m.length-1;){var N=Math.floor((_+A)/2),D=N-1,[O,L]=Uj(m,D,d,c,s,r,n,i),[V]=Uj(m,N,d,c,s,r,n,i);if(!O&&!V&&(_=N+1),O&&V&&(A=N-1),!O&&V){S=L;break}E++}return S||p},Bj=t=>{var e=Jn(t)?[]:t.toString().split(G9);return[{words:e,width:void 0}]},Yle=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!jd.isSsr){var c,d,f=K9({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return Bj(r);return Kle({breakAll:s,children:r,maxLines:l,style:i},c,d,e,!!n)}return Bj(r)},X9="#808080",Wle={breakAll:!1,capHeight:"0.71em",fill:X9,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},gT=w.forwardRef((t,e)=>{var n=dr(t,Wle),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=zj(n,qle),b=w.useMemo(()=>Yle({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:_,dy:A,angle:E,className:S,breakAll:N}=p,D=zj(p,$le);if(!Wi(r)||!Wi(i)||b.length===0)return null;var O=Number(r)+(qe(_)?_:0),L=Number(i)+(qe(A)?A:0);if(!un(O)||!un(L))return null;var V;switch(m){case"start":V=Nw("calc(".concat(l,")"));break;case"middle":V=Nw("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:V=Nw("calc(".concat(b.length-1," * -").concat(s,")"));break}var U=[];if(d){var P=b[0].width,{width:C}=p;U.push("scale(".concat(qe(C)&&qe(P)?C/P:1,")"))}return E&&U.push("rotate(".concat(E,", ").concat(O,", ").concat(L,")")),U.length&&(D.transform=U.join(" ")),w.createElement("text",gE({},Nr(D),{ref:e,x:O,y:L,className:Rt("recharts-text",S),textAnchor:f,fill:c.includes("url")?X9:c}),b.map((j,q)=>{var k=j.words.join(N?"":" ");return w.createElement("tspan",{x:O,dy:q===0?V:s,key:"".concat(k,"-").concat(q)},k)}))});gT.displayName="Text";var Xle=["labelRef"];function Qle(t,e){if(t==null)return{};var n,r,i=Zle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(n),!0).forEach(function(r){Jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jle(t,e,n){return(e=ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ece(t){var e=tce(t,"string");return typeof e=="symbol"?e:e+""}function tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Is.apply(null,arguments)}var Q9=w.createContext(null),Z9=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,d=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return w.createElement(Q9.Provider,{value:d},c)},J9=()=>{var t=w.useContext(Q9),e=Nm();return t||fV(e)},nce=w.createContext(null),rce=()=>{var t=w.useContext(nce),e=Ve(IL);return t||e},ice=t=>{var{value:e,formatter:n}=t,r=Jn(t.children)?e:t.children;return typeof n=="function"?n(r):r},yT=t=>t!=null&&typeof t=="function",ace=(t,e)=>{var n=Hi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},sce=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:b,clockWise:_}=i,A=(f+m)/2,E=ace(p,b),S=E>=0?1:-1,N,D;switch(e){case"insideStart":N=p+S*s,D=_;break;case"insideEnd":N=b-S*s,D=!_;break;case"end":N=b+S*s,D=_;break;default:throw new Error("Unsupported position ".concat(e))}D=E<=0?D:!D;var O=cr(c,d,A,N),L=cr(c,d,A,N+(D?1:-1)*359),V="M".concat(O.x,",").concat(O.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(D?0:1,`,
    `).concat(L.x,",").concat(L.y),U=Jn(t.id)?Fh("recharts-radial-line-"):t.id;return w.createElement("text",Is({},r,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:U,d:V})),w.createElement("textPath",{xlinkHref:"#".concat(U)},n))},oce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:m,y:p}=cr(r,i,l+e,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:_,y:A}=cr(r,i,b,f);return{x:_,y:A,textAnchor:"middle",verticalAnchor:"middle"}},yE=t=>"cx"in t&&qe(t.cx),lce=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!yE(n)&&(s=n);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m}=e,p=l,b=l+(d-f)/2,_=(p+b)/2,A=(d+f)/2,E=p+d/2,S=m>=0?1:-1,N=S*r,D=S>0?"end":"start",O=S>0?"start":"end",L=d>=0?1:-1,V=L*r,U=L>0?"end":"start",P=L>0?"start":"end";if(i==="top"){var C={x:p+d/2,y:c-N,textAnchor:"middle",verticalAnchor:D};return gn(gn({},C),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var j={x:b+f/2,y:c+m+N,textAnchor:"middle",verticalAnchor:O};return gn(gn({},j),s?{height:Math.max(s.y+s.height-(c+m),0),width:f}:{})}if(i==="left"){var q={x:_-V,y:c+m/2,textAnchor:U,verticalAnchor:"middle"};return gn(gn({},q),s?{width:Math.max(q.x-s.x,0),height:m}:{})}if(i==="right"){var k={x:_+A+V,y:c+m/2,textAnchor:P,verticalAnchor:"middle"};return gn(gn({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:m}:{})}var $=s?{width:A,height:m}:{};return i==="insideLeft"?gn({x:_+V,y:c+m/2,textAnchor:P,verticalAnchor:"middle"},$):i==="insideRight"?gn({x:_+A-V,y:c+m/2,textAnchor:U,verticalAnchor:"middle"},$):i==="insideTop"?gn({x:p+d/2,y:c+N,textAnchor:"middle",verticalAnchor:O},$):i==="insideBottom"?gn({x:b+f/2,y:c+m-N,textAnchor:"middle",verticalAnchor:D},$):i==="insideTopLeft"?gn({x:p+V,y:c+N,textAnchor:P,verticalAnchor:O},$):i==="insideTopRight"?gn({x:p+d-V,y:c+N,textAnchor:U,verticalAnchor:O},$):i==="insideBottomLeft"?gn({x:b+V,y:c+m-N,textAnchor:P,verticalAnchor:D},$):i==="insideBottomRight"?gn({x:b+f-V,y:c+m-N,textAnchor:U,verticalAnchor:D},$):i&&typeof i=="object"&&(qe(i.x)||Bs(i.x))&&(qe(i.y)||Bs(i.y))?gn({x:l+sl(i.x,A),y:c+sl(i.y,m),textAnchor:"end",verticalAnchor:"end"},$):gn({x:E,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},$)},cce={offset:5,zIndex:Tr.label};function Lo(t){var e=dr(t,cce),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:d,labelRef:f}=e,m=rce(),p=J9(),b=r==="center"?p:m??p,_,A,E;if(n==null?_=b:yE(n)?_=n:_=fV(n),!_||Jn(i)&&Jn(s)&&!w.isValidElement(l)&&typeof l!="function")return null;var S=gn(gn({},e),{},{viewBox:_});if(w.isValidElement(l)){var{labelRef:N}=S,D=Qle(S,Xle);return w.cloneElement(l,D)}if(typeof l=="function"){if(A=w.createElement(l,S),w.isValidElement(A))return A}else A=ice(e);var O=Nr(e);if(yE(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return sce(e,r,A,O,_);E=oce(_,e.offset,e.position)}else E=lce(e,_);return w.createElement(is,{zIndex:e.zIndex},w.createElement(gT,Is({ref:f,className:Rt("recharts-label",c)},O,E,{textAnchor:Hle(O.textAnchor)?O.textAnchor:E.textAnchor,breakAll:d}),A))}Lo.displayName="Label";var uce=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Lo,Is({key:"label-implicit"},r)):Wi(t)?w.createElement(Lo,Is({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Lo?w.cloneElement(t,gn({key:"label-implicit"},r)):w.createElement(Lo,Is({key:"label-implicit",content:t},r)):yT(t)?w.createElement(Lo,Is({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Lo,Is({},t,{key:"label-implicit"},r)):null};function ez(t){var{label:e,labelRef:n}=t,r=J9();return uce(e,r,n)||null}var Cw={},Ow={},$j;function dce(){return $j||($j=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Ow)),Ow}var Rw={},Fj;function fce(){return Fj||(Fj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Rw)),Rw}var Hj;function hce(){return Hj||(Hj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dce(),n=fce(),r=oA();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(Cw)),Cw}var Pw,Gj;function mce(){return Gj||(Gj=1,Pw=hce().last),Pw}var pce=mce();const gce=es(pce);var yce=["valueAccessor"],vce=["dataKey","clockWise","id","textBreakAll","zIndex"];function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}function Kj(t,e){if(t==null)return{};var n,r,i=bce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xce=t=>Array.isArray(t.value)?gce(t.value):t.value,tz=w.createContext(void 0),_ce=tz.Provider,nz=w.createContext(void 0);nz.Provider;function wce(){return w.useContext(tz)}function Ece(){return w.useContext(nz)}function Zg(t){var{valueAccessor:e=xce}=t,n=Kj(t,yce),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,d=Kj(n,vce),f=wce(),m=Ece(),p=f||m;return!p||!p.length?null:w.createElement(is,{zIndex:c??Tr.label},w.createElement(Us,{className:"recharts-label-list"},p.map((b,_)=>{var A,E=Jn(r)?e(b,_):kr(b&&b.payload,r),S=Jn(s)?{}:{id:"".concat(s,"-").concat(_)};return w.createElement(Lo,hv({key:"label-".concat(_)},Nr(b),d,S,{fill:(A=n.fill)!==null&&A!==void 0?A:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}Zg.displayName="LabelList";function Sce(t){var{label:e}=t;return e?e===!0?w.createElement(Zg,{key:"labelList-implicit"}):w.isValidElement(e)||yT(e)?w.createElement(Zg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(Zg,hv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}var rz=t=>{var{cx:e,cy:n,r,className:i}=t,s=Rt("recharts-dot",i);return qe(e)&&qe(n)&&qe(r)?w.createElement("circle",vE({},Qa(t),sA(t),{className:s,cx:e,cy:n,r})):null},Ace={radiusAxis:{},angleAxis:{}},iz=ei({name:"polarAxis",initialState:Ace,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ume,removeRadiusAxis:dme,addAngleAxis:fme,removeAngleAxis:hme}=iz.actions,Tce=iz.reducer,az=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Dw={},Yj;function Ice(){return Yj||(Yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Dw)),Dw}var jw,Wj;function Nce(){return Wj||(Wj=1,jw=Ice().isPlainObject),jw}var Cce=Nce();const Oce=es(Cce);function Xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(n),!0).forEach(function(r){Rce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rce(t,e,n){return(e=Pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=Dce(t,"string");return typeof e=="symbol"?e:e+""}function Dce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}var Zj=(t,e,n,r,i)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+i),l+="L ".concat(t+n-s/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},jce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mce=t=>{var e=dr(t,jce),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=e,b=w.useRef(null),[_,A]=w.useState(-1),E=w.useRef(i),S=w.useRef(s),N=w.useRef(l),D=w.useRef(n),O=w.useRef(r),L=vA(t,"trapezoid-");if(w.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var fe=b.current.getTotalLength();fe&&A(fe)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var V=Rt("recharts-trapezoid",c);if(!p)return w.createElement("g",null,w.createElement("path",mv({},Nr(e),{className:V,d:Zj(n,r,i,s,l)})));var U=E.current,P=S.current,C=N.current,j=D.current,q=O.current,k="0px ".concat(_===-1?1:_,"px"),$="".concat(_,"px 0px"),M=vV(["strokeDasharray"],f,d);return w.createElement(yA,{animationId:L,key:L,canBegin:_>0,duration:f,easing:d,isActive:p,begin:m},fe=>{var be=Xr(U,i,fe),Y=Xr(P,s,fe),H=Xr(C,l,fe),Q=Xr(j,n,fe),ee=Xr(q,r,fe);b.current&&(E.current=be,S.current=Y,N.current=H,D.current=Q,O.current=ee);var W=fe>0?{transition:M,strokeDasharray:$}:{strokeDasharray:k};return w.createElement("path",mv({},Nr(e),{className:V,d:Zj(Q,ee,be,Y,H),ref:b,style:Qj(Qj({},W),e.style)}))})},kce=["option","shapeType","propTransformer","activeClassName","isActive"];function Vce(t,e){if(t==null)return{};var n,r,i=Lce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){zce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zce(t,e,n){return(e=Uce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uce(t){var e=Bce(t,"string");return typeof e=="symbol"?e:e+""}function Bce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qce(t,e){return pv(pv({},e),t)}function $ce(t,e){return t==="symbols"}function eM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(wV,n);case"trapezoid":return w.createElement(Mce,n);case"sector":return w.createElement(AV,n);case"symbols":if($ce(e))return w.createElement(aA,n);break;case"curve":return w.createElement(yV,n);default:return null}}function Fce(t){return w.isValidElement(t)?t.props:t}function Hce(t){var{option:e,shapeType:n,propTransformer:r=qce,activeClassName:i="recharts-active-shape",isActive:s}=t,l=Vce(t,kce),c;if(w.isValidElement(e))c=w.cloneElement(e,pv(pv({},l),Fce(e)));else if(typeof e=="function")c=e(l);else if(Oce(e)&&typeof e!="boolean"){var d=r(e,l);c=w.createElement(eM,{shapeType:n,elementProps:d})}else{var f=l;c=w.createElement(eM,{shapeType:n,elementProps:f})}return s?w.createElement(Us,{className:i},c):c}function Gce(t){var{fn:e,args:n}=t,r=bn(),i=zr();return w.useLayoutEffect(()=>{if(!i){var s=e(n);return r(vse(s)),()=>{r(bse(s))}}},[e,n,r,i]),null}function Kce(t){var{legendPayload:e}=t,n=bn(),r=zr();return w.useLayoutEffect(()=>r?Dd:(n(Lee(e)),()=>{n(zee(e))}),[n,r,e]),null}var Mw,Yce=()=>{var[t]=w.useState(()=>Fh("uid-"));return t},Wce=(Mw=xB.useId)!==null&&Mw!==void 0?Mw:Yce;function sz(t,e){var n=Wce();return e||(t?"".concat(t,"-").concat(n):n)}var Xce=w.createContext(void 0),Qce=t=>{var{id:e,type:n,children:r}=t,i=sz("recharts-".concat(n),e);return w.createElement(Xce.Provider,{value:i},r(i))},Zce={cartesianItems:[],polarItems:[]},oz=ei({name:"graphicalItems",initialState:Zce,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Vn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ds(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Vn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ds(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Vn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Vn()},removePolarGraphicalItem:{reducer(t,e){var n=Ds(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Vn()}}}),{addCartesianGraphicalItem:Jce,replaceCartesianGraphicalItem:eue,removeCartesianGraphicalItem:tue,addPolarGraphicalItem:mme,removePolarGraphicalItem:pme}=oz.actions,nue=oz.reducer;function rue(t){var e=bn(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Jce(t)):n.current!==t&&e(eue({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(tue(n.current)),n.current=null)},[e]),null}var iue=["points"];function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return(e=sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=oue(t,"string");return typeof e=="symbol"?e:e+""}function oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(null,arguments)}function lue(t,e){if(t==null)return{};var n,r,i=cue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uue(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Rt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,c=lue(s,iue);return w.createElement(rz,gv({},c,{className:i}))}function due(t,e){return t==null?!1:e?!0:t.length===1}function fue(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:c,clipPathId:d,zIndex:f=Tr.scatter}=t;if(!due(e,n))return null;var m=az(n),p=kX(n),b=e.map((A,E)=>{var S,N,D=kw(kw(kw({r:3},l),p),{},{index:E,cx:(S=A.x)!==null&&S!==void 0?S:void 0,cy:(N=A.y)!==null&&N!==void 0?N:void 0,dataKey:s,value:A.value,payload:A.payload,points:e});return w.createElement(uue,{key:"dot-".concat(E),option:n,dotProps:D,className:i})}),_={};return c&&d!=null&&(_.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),w.createElement(is,{zIndex:f},w.createElement(Us,gv({className:r},_),b))}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hue(t,e,n){return(e=mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=pue(t,"string");return typeof e=="symbol"?e:e+""}function pue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gue={xAxis:{},yAxis:{},zAxis:{}},lz=ei({name:"cartesianAxis",initialState:gue,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Vn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Vn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Vn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Vn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Vn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Vn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=rM(rM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:yue,removeXAxis:vue,addYAxis:bue,removeYAxis:xue,addZAxis:gme,removeZAxis:yme,updateYAxisWidth:_ue}=lz.actions,wue=lz.reducer,Eue=de([fr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Sue=de([Eue,Xs,Qs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),vT=()=>Ve(Sue),Aue=()=>Ve(loe);function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return(e=Iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cue=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=Vw(Vw(Vw({},l),s0(i)),sA(i)),d;return w.isValidElement(i)?d=w.cloneElement(i,c):typeof i=="function"?d=i(c):d=w.createElement(rz,c),w.createElement(Us,{className:"recharts-active-dot"},d)};function Oue(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:s=Tr.activeDot}=t,l=Ve(em),c=Aue();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return Jn(d)?null:w.createElement(is,{zIndex:s},w.createElement(Cue,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r}))}var Rue={},cz=ei({name:"errorBars",initialState:Rue,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:vme,replaceErrorBar:bme,removeErrorBar:xme}=cz.actions,Pue=cz.reducer,Due=["children"];function jue(t,e){if(t==null)return{};var n,r,i=Mue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Vue=w.createContext(kue);function Lue(t){var{children:e}=t,n=jue(t,Due);return w.createElement(Vue.Provider,{value:n},e)}function uz(t,e){var n,r,i=Ve(f=>ns(f,t)),s=Ve(f=>rs(f,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:fi.allowDataOverflow,c=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:hi.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function zue(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=vT(),{needClipX:s,needClipY:l,needClip:c}=uz(e,n);if(!c||!i)return null;var{x:d,y:f,width:m,height:p}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?d:d-m/2,y:l?f:f-p/2,width:s?m:m*2,height:l?p:p*2}))}var Uue=t=>{var{chartData:e}=t,n=bn(),r=zr();return w.useEffect(()=>r?()=>{}:(n(Ij(e)),()=>{n(Ij(void 0))}),[e,n,r]),null},aM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},dz=ei({name:"brush",initialState:aM,reducers:{setBrushSettings(t,e){return e.payload==null?aM:e.payload}}}),{setBrushSettings:_me}=dz.actions,Bue=dz.reducer;function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){fz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fz(t,e,n){return(e=que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function que(t){var e=$ue(t,"string");return typeof e=="symbol"?e:e+""}function $ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fue=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return{x:Math.min(n,i),y:Math.min(r,s),width:Math.abs(i-n),height:Math.abs(s-r)}},Hue=t=>{var{x1:e,y1:n,x2:r,y2:i}=t;return Fue({x:e,y:n},{x:r,y:i})};class U0{static create(e){return new U0(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}fz(U0,"EPS",1e-4);var Gue=t=>{var e=Object.keys(t).reduce((n,r)=>Rg(Rg({},n),{},{[r]:U0.create(t[r])}),{});return Rg(Rg({},e),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(s=>{var[l,c]=s;return[l,e[l].apply(c,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>e[r].isInRange(n[r]))}})};function Kue(t){return(t%180+180)%180}var Yue=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Kue(i),l=s*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Wue={dots:[],areas:[],lines:[]},hz=ei({name:"referenceElements",initialState:Wue,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ds(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ds(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ds(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:wme,removeDot:Eme,addArea:Sme,removeArea:Ame,addLine:Xue,removeLine:Que}=hz.actions,Zue=hz.reducer,mz=w.createContext(void 0),Jue=t=>{var{children:e}=t,[n]=w.useState("".concat(Fh("recharts"),"-clip")),r=vT();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return w.createElement(mz.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:c,width:l}))),e)},ede=()=>w.useContext(mz);function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tde(t,e,n){return(e=nde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nde(t){var e=rde(t,"string");return typeof e=="symbol"?e:e+""}function rde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yv(){return yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yv.apply(null,arguments)}var ide=(t,e)=>{var n;if(w.isValidElement(t))n=w.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{if(!un(e.x1)||!un(e.y1)||!un(e.x2)||!un(e.y2))return null;n=w.createElement("line",yv({},e,{className:"recharts-reference-line-line"}))}return n},ade=(t,e,n,r,i,s)=>{var{x:l,width:c}=s,d=i.y.apply(t,{position:n});if(Yi(d)||e==="discard"&&!i.y.isInRange(d))return null;var f=[{x:l+c,y:d},{x:l,y:d}];return r==="left"?f.reverse():f},sde=(t,e,n,r,i,s)=>{var{y:l,height:c}=s,d=i.x.apply(t,{position:n});if(Yi(d)||e==="discard"&&!i.x.isInRange(d))return null;var f=[{x:d,y:l+c},{x:d,y:l}];return r==="top"?f.reverse():f},ode=(t,e,n,r)=>{var i=t.map(s=>r.apply(s,{position:n}));return e==="discard"&&i.some(s=>!r.isInRange(s))?null:i},lde=(t,e,n,r,i,s)=>{var{x:l,y:c,segment:d,ifOverflow:f}=s,m=Wi(l),p=Wi(c);return p?ade(c,f,n,i,t,e):m?sde(l,f,n,r,t,e):d!=null&&d.length===2?ode(d,f,n,t):null};function cde(t){var e=bn();return w.useEffect(()=>(e(Xue(t)),()=>{e(Que(t))})),null}function ude(t){var{xAxisId:e,yAxisId:n,shape:r,className:i,ifOverflow:s}=t,l=zr(),c=ede(),d=Ve(U=>ns(U,e)),f=Ve(U=>rs(U,n)),m=Ve(U=>ol(U,"xAxis",e,l)),p=Ve(U=>ol(U,"yAxis",n,l)),b=Nm();if(!c||!b||d==null||f==null||m==null||p==null)return null;var _=Gue({x:m,y:p}),A=lde(_,b,t.position,d.orientation,f.orientation,t);if(!A)return null;var[{x:E,y:S},{x:N,y:D}]=A,O=s==="hidden"?"url(#".concat(c,")"):void 0,L=lM(lM({clipPath:O},Nr(t)),{},{x1:E,y1:S,x2:N,y2:D}),V=Hue({x1:E,y1:S,x2:N,y2:D});return w.createElement(is,{zIndex:t.zIndex},w.createElement(Us,{className:Rt("recharts-reference-line",i)},ide(r,L),w.createElement(Z9,yv({},V,{lowerWidth:V.width,upperWidth:V.width}),w.createElement(ez,{label:t.label}),t.children)))}var dde={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Tr.line};function pz(t){var e=dr(t,dde);return w.createElement(w.Fragment,null,w.createElement(cde,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),w.createElement(ude,e))}pz.displayName="ReferenceLine";function bd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function gz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function fde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Yue(r,n)}function hde(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function vv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function mde(t,e){return gz(t,e+1)}function pde(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,d=0,f=1,m=l,p=function(){var A=r==null?void 0:r[d];if(A===void 0)return{v:gz(r,f)};var E=d,S,N=()=>(S===void 0&&(S=n(A,E)),S),D=A.coordinate,O=d===0||vv(t,D,N,m,c);O||(d=0,m=l,f+=1),O&&(m=D+t*(N()/2+i),d+=f)},b;f<=s.length;)if(b=p(),b)return b.v;return[]}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gde(t,e,n){return(e=yde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=vde(t,"string");return typeof e=="symbol"?e:e+""}function vde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bde(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,f=function(b){var _=s[b],A,E=()=>(A===void 0&&(A=n(_,b)),A);if(b===l-1){var S=t*(_.coordinate+t*E()/2-d);s[b]=_=br(br({},_),{},{tickCoord:S>0?_.coordinate-S*t:_.coordinate})}else s[b]=_=br(br({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var N=vv(t,_.tickCoord,E,c,d);N&&(d=_.tickCoord-t*(E()/2+i),s[b]=br(br({},_),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return s}function xde(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:d,end:f}=e;if(s){var m=r[c-1],p=n(m,c-1),b=t*(m.coordinate+t*p/2-f);if(l[c-1]=m=br(br({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate}),m.tickCoord!=null){var _=vv(t,m.tickCoord,()=>p,d,f);_&&(f=m.tickCoord-t*(p/2+i),l[c-1]=br(br({},m),{},{isShow:!0}))}}for(var A=s?c-1:c,E=function(D){var O=l[D],L,V=()=>(L===void 0&&(L=n(O,D)),L);if(D===0){var U=t*(O.coordinate-t*V()/2-d);l[D]=O=br(br({},O),{},{tickCoord:U<0?O.coordinate-U*t:O.coordinate})}else l[D]=O=br(br({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var P=vv(t,O.tickCoord,V,d,f);P&&(d=O.tickCoord+t*(V()/2+i),l[D]=br(br({},O),{},{isShow:!0}))}},S=0;S<A;S++)E(S);return l}function bT(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(qe(d)||jd.isSsr){var b;return(b=mde(i,qe(d)?d:0))!==null&&b!==void 0?b:[]}var _=[],A=c==="top"||c==="bottom"?"width":"height",E=m&&A==="width"?_h(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(O,L)=>{var V=typeof f=="function"?f(O.value,L):O.value;return A==="width"?fde(_h(V,{fontSize:e,letterSpacing:n}),E,p):_h(V,{fontSize:e,letterSpacing:n})[A]},N=i.length>=2?Hi(i[1].coordinate-i[0].coordinate):1,D=hde(s,N,A);return d==="equidistantPreserveStart"?pde(N,D,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=xde(N,D,S,i,l,d==="preserveStartEnd"):_=bde(N,D,S,i,l),_.filter(O=>O.isShow))}var _de=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+s,f=l+d+c+(n?r:0);return Math.round(f)}return 0},wde=["axisLine","width","height","className","hide","ticks","axisType"],Ede=["viewBox"],Sde=["viewBox"];function bE(t,e){if(t==null)return{};var n,r,i=Ade(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ade(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(null,arguments)}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tde(t,e,n){return(e=Ide(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ide(t){var e=Nde(t,"string");return typeof e=="symbol"?e:e+""}function Nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xT={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Tr.axis};function Cde(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var f=On(On(On({},d),Qa(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);f=On(On({},f),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);f=On(On({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return w.createElement("line",Cc({},f,{className:Rt("recharts-cartesian-axis-line",u0(c,"className"))}))}function Ode(t,e,n,r,i,s,l,c,d){var f,m,p,b,_,A,E=c?-1:1,S=t.tickSize||l,N=qe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=m=t.coordinate,b=n+ +!c*i,p=b-E*S,A=p-E*d,_=N;break;case"left":p=b=t.coordinate,m=e+ +!c*r,f=m-E*S,_=f-E*d,A=N;break;case"right":p=b=t.coordinate,m=e+ +c*r,f=m+E*S,_=f+E*d,A=N;break;default:f=m=t.coordinate,b=n+ +c*i,p=b+E*S,A=p+E*d,_=N;break}return{line:{x1:f,y1:p,x2:m,y2:b},tick:{x:_,y:A}}}function Rde(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Pde(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Dde(t){var{option:e,tickProps:n,value:r}=t,i,s=Rt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,On(On({},n),{},{className:s}));else if(typeof e=="function")i=e(On(On({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Rt(l,e==null?void 0:e.className)),i=w.createElement(gT,Cc({},n,{className:l}),r)}return i}var jde=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:b,y:_,width:A,height:E,tickSize:S,tickMargin:N,fontSize:D,letterSpacing:O,getTicksConfig:L,events:V,axisType:U}=t,P=bT(On(On({},L),{},{ticks:n}),D,O),C=Rde(m,p),j=Pde(m,p),q=Qa(L),k=s0(r),$={};typeof i=="object"&&($=i);var M=On(On({},q),{},{fill:"none"},$),fe=P.map(H=>On({entry:H},Ode(H,b,_,A,E,m,S,p,N))),be=fe.map(H=>{var{entry:Q,line:ee}=H;return w.createElement(Us,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&w.createElement("line",Cc({},M,ee,{className:Rt("recharts-cartesian-axis-tick-line",u0(i,"className"))})))}),Y=fe.map((H,Q)=>{var{entry:ee,tick:W}=H,F=On(On(On(On({textAnchor:C,verticalAnchor:j},q),{},{stroke:"none",fill:s},k),W),{},{index:Q,payload:ee,visibleTicksCount:P.length,tickFormatter:l,padding:d},f);return w.createElement(Us,Cc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},p6(V,ee,Q)),r&&w.createElement(Dde,{option:r,tickProps:F,value:"".concat(typeof l=="function"?l(ee.value,Q):ee.value).concat(c||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(U,"-ticks")},Y.length>0&&w.createElement(is,{zIndex:Tr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(U,"-tick-labels"),ref:e},Y)),be.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(U,"-tick-lines")},be))}),Mde=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:d}=t,f=bE(t,wde),[m,p]=w.useState(""),[b,_]=w.useState(""),A=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return _de({ticks:A.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=w.useCallback(S=>{if(S){var N=S.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=N;var D=N[0];if(D){var O=window.getComputedStyle(D),L=O.fontSize,V=O.letterSpacing;(L!==m||V!==b)&&(p(L),_(V))}}},[m,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(is,{zIndex:t.zIndex},w.createElement(Us,{className:Rt("recharts-cartesian-axis",s)},w.createElement(Cde,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Qa(t)}),w.createElement(jde,{ref:E,axisType:d,events:f,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(Z9,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(ez,{label:t.label,labelRef:t.labelRef}),t.children)))}),kde=w.memo(Mde,(t,e)=>{var{viewBox:n}=t,r=bE(t,Ede),{viewBox:i}=e,s=bE(e,Sde);return bd(n,i)&&bd(r,s)}),_T=w.forwardRef((t,e)=>{var n=dr(t,xT);return w.createElement(kde,Cc({},n,{ref:e}))});_T.displayName="CartesianAxis";var Vde=["x1","y1","x2","y2","key"],Lde=["offset"],zde=["xAxisId","yAxisId"],Ude=["xAxisId","yAxisId"];function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bde(t,e,n){return(e=qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=$de(t,"string");return typeof e=="symbol"?e:e+""}function $de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(null,arguments)}function bv(t,e){if(t==null)return{};var n,r,i=Fde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hde=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:c}=t;return w.createElement("rect",{x:r,y:i,ry:c,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function yz(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:c,y2:d,key:f}=n,m=bv(n,Vde),p=(i=Qa(m))!==null&&i!==void 0?i:{},{offset:b}=p,_=bv(p,Lde);r=w.createElement("line",rc({},_,{x1:s,y1:l,x2:c,y2:d,fill:"none",key:f}))}return r}function Gde(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,c=bv(t,zde),d=i.map((f,m)=>{var p=Er(Er({},c),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(m),index:m});return w.createElement(yz,{key:"line-".concat(m),option:r,lineItemProps:p})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Kde(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,c=bv(t,Ude),d=i.map((f,m)=>{var p=Er(Er({},c),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(m),index:m});return w.createElement(yz,{option:r,lineItemProps:p,key:"line-".concat(m)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Yde(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==f[0]&&f.unshift(0);var m=f.map((p,b)=>{var _=!f[b+1],A=_?i+l-p:f[b+1]-p;if(A<=0)return null;var E=b%e.length;return w.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:A,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Wde(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var f=d.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==f[0]&&f.unshift(0);var m=f.map((p,b)=>{var _=!f[b+1],A=_?i+l-p:f[b+1]-p;if(A<=0)return null;var E=b%n.length;return w.createElement("rect",{key:"react-".concat(b),x:p,y:s,width:A,height:c,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Xde=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return iV(bT(Er(Er(Er({},xT),n),{},{ticks:aV(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Qde=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return iV(bT(Er(Er(Er({},xT),n),{},{ticks:aV(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Zde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Tr.grid};function vz(t){var e=pA(),n=gA(),r=hV(),i=Er(Er({},dr(t,Zde)),{},{x:qe(t.x)?t.x:r.left,y:qe(t.y)?t.y:r.top,width:qe(t.width)?t.width:r.width,height:qe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:c,y:d,width:f,height:m,syncWithTicks:p,horizontalValues:b,verticalValues:_}=i,A=zr(),E=Ve(j=>pj(j,"xAxis",s,A)),S=Ve(j=>pj(j,"yAxis",l,A));if(!Za(f)||!Za(m)||!qe(c)||!qe(d))return null;var N=i.verticalCoordinatesGenerator||Xde,D=i.horizontalCoordinatesGenerator||Qde,{horizontalPoints:O,verticalPoints:L}=i;if((!O||!O.length)&&typeof D=="function"){var V=b&&b.length,U=D({yAxis:S?Er(Er({},S),{},{ticks:V?b:S.ticks}):void 0,width:e??f,height:n??m,offset:r},V?!0:p);Yy(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(O=U)}if((!L||!L.length)&&typeof N=="function"){var P=_&&_.length,C=N({xAxis:E?Er(Er({},E),{},{ticks:P?_:E.ticks}):void 0,width:e??f,height:n??m,offset:r},P?!0:p);Yy(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(L=C)}return w.createElement(is,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Hde,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(Yde,rc({},i,{horizontalPoints:O})),w.createElement(Wde,rc({},i,{verticalPoints:L})),w.createElement(Gde,rc({},i,{offset:r,horizontalPoints:O,xAxis:E,yAxis:S})),w.createElement(Kde,rc({},i,{offset:r,verticalPoints:L,xAxis:E,yAxis:S}))))}vz.displayName="CartesianGrid";var bz=(t,e,n,r)=>h9(t,"xAxis",e,r),xz=(t,e,n,r)=>f9(t,"xAxis",e,r),_z=(t,e,n,r)=>h9(t,"yAxis",n,r),wz=(t,e,n,r)=>f9(t,"yAxis",n,r),Jde=de([Yt,bz,_z,xz,wz],(t,e,n,r,i)=>hl(t,"xAxis")?Ky(e,r,!1):Ky(n,i,!1)),efe=(t,e,n,r,i)=>i;function tfe(t){return t.type==="line"}var nfe=de([jL,efe],(t,e)=>t.filter(tfe).find(n=>n.id===e)),rfe=de([Yt,bz,_z,xz,wz,nfe,Jde,qA],(t,e,n,r,i,s,l,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=c;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:p,data:b}=s,_;if(b!=null&&b.length>0?_=b:_=d==null?void 0:d.slice(f,m+1),_!=null)return Sfe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:_})}});function ife(t){var e=s0(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),c=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(c)||c<0)&&(c=r),{r:l,strokeWidth:c}}return{r:n,strokeWidth:r}}var afe=["id"],sfe=["type","layout","connectNulls","needClip","shape"],ofe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(null,arguments)}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t,e,n){return(e=cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cfe(t){var e=ufe(t,"string");return typeof e=="symbol"?e:e+""}function ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wT(t,e){if(t==null)return{};var n,r,i=dfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ffe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:sV(n,e),payload:t}]};function hfe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:c,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:sV(l,e),hide:c,type:t.tooltipType,color:t.stroke,unit:d}}}var Ez=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function mfe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var pfe=(t,e,n)=>{var r=n.reduce((p,b)=>p+b);if(!r)return Ez(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,c=[],d=0,f=0;d<n.length;f+=n[d],++d)if(f+n[d]>s){c=[...n.slice(0,d),s-f];break}var m=c.length%2===0?[0,l]:[l];return[...mfe(n,i),...c,...m].map(p=>"".concat(p,"px")).join(", ")};function gfe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:c}=r,d=wT(r,afe),f=Qa(d);return w.createElement(fue,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:f,needClip:l,clipPathId:e})}function yfe(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r==null?void 0:r.map(s=>{var l,c,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(c=s.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return za(za({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(_ce,{value:e?i:void 0},n)}function hM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:c,connectNulls:d,needClip:f,shape:m}=s,p=wT(s,sfe),b=za(za({},Nr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:c,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,(r==null?void 0:r.length)>1&&w.createElement(Hce,nm({shapeType:"curve",option:m},b,{pathRef:n})),w.createElement(gfe,{points:r,clipPathId:e,props:s}))}function vfe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function bfe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,animateNewValues:b,width:_,height:A,onAnimationEnd:E,onAnimationStart:S}=n,N=i.current,D=vA(n,"recharts-line-"),[O,L]=w.useState(!1),V=!O,U=w.useCallback(()=>{typeof E=="function"&&E(),L(!1)},[E]),P=w.useCallback(()=>{typeof S=="function"&&S(),L(!0)},[S]),C=vfe(r.current),j=s.current;return w.createElement(yfe,{points:l,showLabels:V},n.children,w.createElement(yA,{animationId:D,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:U,onAnimationStart:P,key:D},q=>{var k=Xr(j,C+j,q),$=Math.min(k,C),M;if(d)if(c){var fe="".concat(c).split(/[,\s]+/gim).map(H=>parseFloat(H));M=pfe($,C,fe)}else M=Ez(C,$);else M=c==null?void 0:String(c);if(N){var be=N.length/l.length,Y=q===1?l:l.map((H,Q)=>{var ee=Math.floor(Q*be);if(N[ee]){var W=N[ee];return za(za({},H),{},{x:Xr(W.x,H.x,q),y:Xr(W.y,H.y,q)})}return b?za(za({},H),{},{x:Xr(_*2,H.x,q),y:Xr(A/2,H.y,q)}):za(za({},H),{},{x:H.x,y:H.y})});return i.current=Y,w.createElement(hM,{props:n,points:Y,clipPathId:e,pathRef:r,strokeDasharray:M})}return q>0&&C>0&&(i.current=l,s.current=$),w.createElement(hM,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:M})}),w.createElement(Sce,{label:n.label}))}function xfe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(bfe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var _fe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:kr(t.payload,e)}};class wfe extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:c,left:d,width:f,height:m,id:p,needClip:b,zIndex:_}=this.props;if(e)return null;var A=Rt("recharts-line",i),E=p,{r:S,strokeWidth:N}=ife(n),D=az(n),O=S*2+N;return w.createElement(is,{zIndex:_},w.createElement(Us,{className:A},b&&w.createElement("defs",null,w.createElement(zue,{clipPathId:E,xAxisId:s,yAxisId:l}),!D&&w.createElement("clipPath",{id:"clipPath-dots-".concat(E)},w.createElement("rect",{x:d-O/2,y:c-O/2,width:f+O,height:m+O}))),w.createElement(Lue,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:_fe,errorBarOffset:0},w.createElement(xfe,{props:this.props,clipPathId:E}))),w.createElement(Oue,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Sz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!jd.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Tr.line};function Efe(t){var e=dr(t,Sz),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:c,dot:d,hide:f,isAnimationActive:m,label:p,legendType:b,xAxisId:_,yAxisId:A,id:E}=e,S=wT(e,ofe),{needClip:N}=uz(_,A),D=vT(),O=_0(),L=zr(),V=Ve(q=>rfe(q,_,A,L,E));if(O!=="horizontal"&&O!=="vertical"||V==null||D==null)return null;var{height:U,width:P,x:C,y:j}=D;return w.createElement(wfe,nm({},S,{id:E,connectNulls:c,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:m,hide:f,label:p,legendType:b,xAxisId:_,yAxisId:A,points:V,layout:O,height:U,width:P,left:C,top:j,needClip:N}))}function Sfe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:c,displayedData:d}=t;return d.map((f,m)=>{var p=kr(f,l);if(e==="horizontal"){var b=qP({axis:n,ticks:i,bandSize:c,entry:f,index:m}),_=Jn(p)?null:r.scale(p);return{x:b,y:_,value:p,payload:f}}var A=Jn(p)?null:n.scale(p),E=qP({axis:r,ticks:s,bandSize:c,entry:f,index:m});return A==null||E==null?null:{x:A,y:E,value:p,payload:f}}).filter(Boolean)}function Afe(t){var e=dr(t,Sz),n=zr();return w.createElement(Qce,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(Kce,{legendPayload:ffe(e)}),w.createElement(Gce,{fn:hfe,args:e}),w.createElement(rue,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(Efe,nm({},e,{id:r}))))}var xE=w.memo(Afe);xE.displayName="Line";var Tfe=["dangerouslySetInnerHTML","ticks"],Ife=["id"],Nfe=["domain"],Cfe=["domain"];function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}function xv(t,e){if(t==null)return{};var n,r,i=Ofe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ofe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rfe(t){var e=bn();return w.useLayoutEffect(()=>(e(yue(t)),()=>{e(vue(t))}),[t,e]),null}var Pfe=t=>{var{xAxisId:e,className:n}=t,r=Ve(lV),i=zr(),s="xAxis",l=Ve(S=>ol(S,s,e,i)),c=Ve(S=>d9(S,s,e,i)),d=Ve(S=>tse(S,e)),f=Ve(S=>ose(S,e)),m=Ve(S=>OL(S,e));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=t,_=xv(t,Tfe),{id:A}=m,E=xv(m,Ife);return w.createElement(_T,_E({},_,E,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:Rt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},Dfe={allowDataOverflow:fi.allowDataOverflow,allowDecimals:fi.allowDecimals,allowDuplicatedCategory:fi.allowDuplicatedCategory,height:fi.height,hide:!1,mirror:fi.mirror,orientation:fi.orientation,padding:fi.padding,reversed:fi.reversed,scale:fi.scale,tickCount:fi.tickCount,type:fi.type,xAxisId:0},jfe=t=>{var e,n,r,i,s,l=dr(t,Dfe);return w.createElement(w.Fragment,null,w.createElement(Rfe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),w.createElement(Pfe,l))},Mfe=(t,e)=>{var{domain:n}=t,r=xv(t,Nfe),{domain:i}=e,s=xv(e,Cfe);return bd(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:bd({domain:n},{domain:i}):!1},Az=w.memo(jfe,Mfe);Az.displayName="XAxis";var kfe=["dangerouslySetInnerHTML","ticks"],Vfe=["id"],Lfe=["domain"],zfe=["domain"];function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}function _v(t,e){if(t==null)return{};var n,r,i=Ufe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ufe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bfe(t){var e=bn();return w.useLayoutEffect(()=>(e(bue(t)),()=>{e(xue(t))}),[t,e]),null}var qfe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=w.useRef(null),l=w.useRef(null),c=Ve(lV),d=zr(),f=bn(),m="yAxis",p=Ve(V=>ol(V,m,e,d)),b=Ve(V=>use(V,e)),_=Ve(V=>cse(V,e)),A=Ve(V=>d9(V,m,e,d)),E=Ve(V=>RL(V,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!b||yT(i)||w.isValidElement(i)||E==null)){var V=s.current;if(V){var U=V.getCalculatedWidth();Math.round(b.width)!==Math.round(U)&&f(_ue({id:e,width:U}))}}},[A,b,f,i,e,r,E]),b==null||_==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:N}=t,D=_v(t,kfe),{id:O}=E,L=_v(E,Vfe);return w.createElement(_T,wE({},D,L,{ref:s,labelRef:l,scale:p,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Rt("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:A,axisType:m}))},$fe={allowDataOverflow:hi.allowDataOverflow,allowDecimals:hi.allowDecimals,allowDuplicatedCategory:hi.allowDuplicatedCategory,hide:!1,mirror:hi.mirror,orientation:hi.orientation,padding:hi.padding,reversed:hi.reversed,scale:hi.scale,tickCount:hi.tickCount,type:hi.type,width:hi.width,yAxisId:0},Ffe=t=>{var e,n,r,i,s,l=dr(t,$fe);return w.createElement(w.Fragment,null,w.createElement(Bfe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),w.createElement(qfe,l))},Hfe=(t,e)=>{var{domain:n}=t,r=_v(t,Lfe),{domain:i}=e,s=_v(e,zfe);return bd(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:bd({domain:n},{domain:i}):!1},Tz=w.memo(Ffe,Hfe);Tz.displayName="YAxis";var Lw={exports:{}},zw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM;function Gfe(){if(mM)return zw;mM=1;var t=xd();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return zw.useSyncExternalStoreWithSelector=function(d,f,m,p,b){var _=i(null);if(_.current===null){var A={hasValue:!1,value:null};_.current=A}else A=_.current;_=l(function(){function S(V){if(!N){if(N=!0,D=V,V=p(V),b!==void 0&&A.hasValue){var U=A.value;if(b(U,V))return O=U}return O=V}if(U=O,n(D,V))return U;var P=p(V);return b!==void 0&&b(U,P)?(D=V,U):(D=V,O=P)}var N=!1,D,O,L=m===void 0?null:m;return[function(){return S(f())},L===null?void 0:function(){return S(L())}]},[f,m,p,b]);var E=r(d,_[0],_[1]);return s(function(){A.hasValue=!0,A.value=E},[E]),c(E),E},zw}var pM;function Kfe(){return pM||(pM=1,Lw.exports=Gfe()),Lw.exports}Kfe();function Yfe(t){t()}function Wfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Yfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var gM={notify(){},get:()=>[]};function Xfe(t,e){let n,r=gM,i=0,s=!1;function l(E){m();const S=r.subscribe(E);let N=!1;return()=>{N||(N=!0,S(),p())}}function c(){r.notify()}function d(){A.onStateChange&&A.onStateChange()}function f(){return s}function m(){i++,n||(n=t.subscribe(d),r=Wfe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=gM)}function b(){s||(s=!0,m())}function _(){s&&(s=!1,p())}const A={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return A}var Qfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zfe=Qfe(),Jfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ehe=Jfe(),the=()=>Zfe||ehe?w.useLayoutEffect:w.useEffect,nhe=the(),Uw=Symbol.for("react-redux-context"),Bw=typeof globalThis<"u"?globalThis:{};function rhe(){if(!w.createContext)return{};const t=Bw[Uw]??(Bw[Uw]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var ihe=rhe();function ahe(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const d=Xfe(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);nhe(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=n||ihe;return w.createElement(c.Provider,{value:s},e)}var she=ahe,ohe=(t,e)=>e,ET=de([ohe,Yt,IL,qn,C9,Js,_oe,fr],Noe),ST=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Iz=Xi("mouseClick"),Nz=Tm();Nz.startListening({actionCreator:Iz,effect:(t,e)=>{var n=t.payload,r=ET(e.getState(),ST(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(wse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var EE=Xi("mouseMove"),Cz=Tm();Cz.startListening({actionCreator:EE,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=oT(r,r.tooltip.settings.shared),s=ET(r,ST(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(x9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(b9()))}});var yM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},Oz=ei({name:"rootProps",initialState:yM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:yM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),lhe=Oz.reducer,{updateOptions:che}=Oz.actions,Rz=ei({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Tme}=Rz.actions,uhe=Rz.reducer,Pz=Xi("keyDown"),Dz=Xi("focus"),AT=Tm();AT.startListening({actionCreator:Pz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(lT(i,Bd(n))),c=Js(n);if(s==="Enter"){var d=fv(n,"axis","hover",String(i.index));e.dispatch(hE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=mse(n),m=f==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,b=l+p*m;if(!(c==null||b>=c.length||b<0)){var _=fv(n,"axis","hover",String(b));e.dispatch(hE({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});AT.startListening({actionCreator:Dz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=fv(n,"axis","hover",String(s));e.dispatch(hE({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ui=Xi("externalEvent"),jz=Tm();jz.startListening({actionCreator:Ui,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:aoe(n),activeDataKey:roe(n),activeIndex:em(n),activeLabel:P9(n),activeTooltipIndex:em(n),isTooltipActive:soe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var dhe=de([Ud],t=>t.tooltipItemPayloads),fhe=de([dhe,Vm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),Mz=Xi("touchMove"),kz=Tm();kz.startListening({actionCreator:Mz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=oT(r,r.tooltip.settings.shared);if(i==="axis"){var s=ET(r,ST({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(x9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(ree),m=(l=d.getAttribute(iee))!==null&&l!==void 0?l:void 0,p=fhe(e.getState(),f,m);e.dispatch(_se({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var hhe=P6({brush:Bue,cartesianAxis:wue,chartData:sle,errorBars:Pue,graphicalItems:nue,layout:BJ,legend:Uee,options:tle,polarAxis:Tce,polarOptions:uhe,referenceElements:Zue,rootProps:lhe,tooltip:Ese,zIndex:qoe}),mhe=function(e){return fJ({reducer:hhe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([Nz.middleware,Cz.middleware,AT.middleware,jz.middleware,kz.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(F6({type:"raf"}))},devTools:jd.devToolsEnabled})};function phe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=zr(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=mhe(e));var l=lA;return w.createElement(she,{context:l,store:s.current},n)}function ghe(t){var{layout:e,margin:n}=t,r=bn(),i=zr();return w.useEffect(()=>{i||(r(LJ(e)),r(VJ(n)))},[r,i,e,n]),null}function yhe(t){var e=bn();return w.useEffect(()=>{e(che(t))},[e,t]),null}function vM(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=sz("".concat(r).concat(e)),s=bn();return w.useLayoutEffect(()=>(s(Uoe({zIndex:e,elementId:i,isPanorama:n})),()=>{s(Boe({zIndex:e,isPanorama:n}))}),[s,e,i,n]),w.createElement("g",{id:i})}function bM(t){var{children:e,isPanorama:n}=t,r=Ve(Ooe);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(vM,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>w.createElement(vM,{key:l,zIndex:l,isPanorama:n})))}var vhe=["children"];function bhe(t,e){if(t==null)return{};var n,r,i=xhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(null,arguments)}var _he={width:"100%",height:"100%",display:"block"},whe=w.forwardRef((t,e)=>{var n=pA(),r=gA(),i=gV();if(!Za(n)||!Za(r))return null;var{children:s,otherAttributes:l,title:c,desc:d}=t,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),w.createElement(ZS,wv({},l,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:_he,ref:e}),s)}),Ehe=t=>{var{children:e}=t,n=Ve(x0);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return w.createElement(ZS,{width:r,height:i,x:l,y:s},e)},xM=w.forwardRef((t,e)=>{var{children:n}=t,r=bhe(t,vhe),i=zr();return i?w.createElement(Ehe,null,w.createElement(bM,{isPanorama:!0},n)):w.createElement(whe,wv({ref:e},r),w.createElement(bM,{isPanorama:!1},n))});function She(){var t=bn(),[e,n]=w.useState(null),r=Ve(nee);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;un(s)&&s!==r&&t(UJ(s))}},[e,t,r]),n}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ahe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){The(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function The(t,e,n){return(e=Ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ihe(t){var e=Nhe(t,"string");return typeof e=="symbol"?e:e+""}function Nhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(null,arguments)}var Che=()=>(ple(),null);function Ev(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Ohe=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[s,l]=w.useState({containerWidth:Ev((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Ev((r=t.style)===null||r===void 0?void 0:r.height)}),c=w.useCallback((f,m)=>{l(p=>{var b=Math.round(f),_=Math.round(m);return p.containerWidth===b&&p.containerHeight===_?p:{containerWidth:b,containerHeight:_}})},[]),d=w.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var b=A=>{var{width:E,height:S}=A[0].contentRect;c(E,S)},_=new ResizeObserver(b);_.observe(f),i.current=_}},[e,c]);return w.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[c]),w.createElement(w.Fragment,null,w.createElement(w0,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",Oc({ref:d},t)))}),Rhe=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=w.useState({containerWidth:Ev(n),containerHeight:Ev(r)}),l=w.useCallback((d,f)=>{s(m=>{var p=Math.round(d),b=Math.round(f);return m.containerWidth===p&&m.containerHeight===b?m:{containerWidth:p,containerHeight:b}})},[]),c=w.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(w0,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Oc({ref:c},t)))}),Phe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(w0,{width:n,height:r}),w.createElement("div",Oc({ref:e},t)))}),Dhe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Bs(n)||Bs(r)?w.createElement(Rhe,Oc({},t,{ref:e})):w.createElement(Phe,Oc({},t,{ref:e}))});function jhe(t){return t===!0?Ohe:Dhe}var Mhe=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:b,onTouchEnd:_,onTouchMove:A,onTouchStart:E,style:S,width:N,responsive:D,dispatchTouchEvents:O=!0}=t,L=w.useRef(null),V=bn(),[U,P]=w.useState(null),[C,j]=w.useState(null),q=She(),k=mA(),$=(k==null?void 0:k.width)>0?k.width:N,M=(k==null?void 0:k.height)>0?k.height:i,fe=w.useCallback(le=>{q(le),typeof e=="function"&&e(le),P(le),j(le),le!=null&&(L.current=le)},[q,e,P,j]),be=w.useCallback(le=>{V(Iz(le)),V(Ui({handler:s,reactEvent:le}))},[V,s]),Y=w.useCallback(le=>{V(EE(le)),V(Ui({handler:f,reactEvent:le}))},[V,f]),H=w.useCallback(le=>{V(b9()),V(Ui({handler:m,reactEvent:le}))},[V,m]),Q=w.useCallback(le=>{V(EE(le)),V(Ui({handler:p,reactEvent:le}))},[V,p]),ee=w.useCallback(()=>{V(Dz())},[V]),W=w.useCallback(le=>{V(Pz(le.key))},[V]),F=w.useCallback(le=>{V(Ui({handler:l,reactEvent:le}))},[V,l]),X=w.useCallback(le=>{V(Ui({handler:c,reactEvent:le}))},[V,c]),J=w.useCallback(le=>{V(Ui({handler:d,reactEvent:le}))},[V,d]),ce=w.useCallback(le=>{V(Ui({handler:b,reactEvent:le}))},[V,b]),Ae=w.useCallback(le=>{V(Ui({handler:E,reactEvent:le}))},[V,E]),_e=w.useCallback(le=>{O&&V(Mz(le)),V(Ui({handler:A,reactEvent:le}))},[V,O,A]),Ee=w.useCallback(le=>{V(Ui({handler:_,reactEvent:le}))},[V,_]),Je=jhe(D);return w.createElement(U9.Provider,{value:U},w.createElement(K5.Provider,{value:C},w.createElement(Je,{width:$??(S==null?void 0:S.width),height:M??(S==null?void 0:S.height),className:Rt("recharts-wrapper",r),style:Ahe({position:"relative",cursor:"default",width:$,height:M},S),onClick:be,onContextMenu:F,onDoubleClick:X,onFocus:ee,onKeyDown:W,onMouseDown:J,onMouseEnter:Y,onMouseLeave:H,onMouseMove:Q,onMouseUp:ce,onTouchEnd:Ee,onTouchMove:_e,onTouchStart:Ae,ref:fe},w.createElement(Che,null),n)))}),khe=["width","height","responsive","children","className","style","compact","title","desc"];function Vhe(t,e){if(t==null)return{};var n,r,i=Lhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zhe=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:d,title:f,desc:m}=t,p=Vhe(t,khe),b=Qa(p);return d?w.createElement(w.Fragment,null,w.createElement(w0,{width:n,height:r}),w.createElement(xM,{otherAttributes:b,title:f,desc:m},s)):w.createElement(Mhe,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(xM,{otherAttributes:b,title:f,desc:m,ref:e},w.createElement(Jue,null,s)))});function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}var Uhe={top:5,right:5,bottom:5,left:5},Bhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Uhe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},qhe=w.forwardRef(function(e,n){var r,i=dr(e.categoricalChartProps,Bhe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(phe,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:s},w.createElement(Uue,{chartData:f.data}),w.createElement(ghe,{layout:i.layout,margin:i.margin}),w.createElement(yhe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(zhe,SE({},i,{ref:n})))}),$he=["axis"],Fhe=w.forwardRef((t,e)=>w.createElement(qhe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$he,tooltipPayloadSearcher:Joe,categoricalChartProps:t,ref:e}));const Hhe=({records:t,mode:e})=>{const n=w.useMemo(()=>{if(t.length===0)return[];const i=new Map;[...t].sort((c,d)=>new Date(c.date).getTime()-new Date(d.date).getTime()).forEach(c=>{const d=i.get(c.date)||{eventName:c.eventName};c.mode==="competition"?d.competition=Math.max(d.competition||0,c.score):d.practice=Math.max(d.practice||0,c.score),d.eventName=c.eventName,i.set(c.date,d)});const l=[];return i.forEach((c,d)=>{l.push({date:d,displayDate:Ghe(d),competition:c.competition,practice:c.practice,eventName:c.eventName})}),l},[t]),r=w.useMemo(()=>{if(t.length===0)return 0;const i=t.reduce((s,l)=>s+l.score,0);return Math.round(i/t.length)},[t]);return t.length===0?y.jsx("div",{className:"h-64 flex items-center justify-center text-slate-400",children:" "}):n.length===1?y.jsx("div",{className:"h-64 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"text-4xl font-bold text-indigo-600",children:[t[0].score,""]}),y.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:[t[0].date,"  ",t[0].eventName]}),y.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"     "})]})}):y.jsx("div",{className:"h-64",children:y.jsx(Pee,{width:"100%",height:"100%",children:y.jsxs(Fhe,{data:n,margin:{top:5,right:20,left:0,bottom:5},children:[y.jsx(vz,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),y.jsx(Az,{dataKey:"displayDate",tick:{fontSize:11,fill:"#64748b"},tickLine:!1,axisLine:{stroke:"#cbd5e1"}}),y.jsx(Tz,{tick:{fontSize:11,fill:"#64748b"},tickLine:!1,axisLine:{stroke:"#cbd5e1"},domain:["dataMin - 5","dataMax + 5"]}),y.jsx(Ele,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(i,s)=>[`${i}`,s==="competition"?"":""],labelFormatter:i=>i}),y.jsx(pV,{verticalAlign:"top",height:36,formatter:i=>i==="competition"?"":""}),y.jsx(pz,{y:r,stroke:"#94a3b8",strokeDasharray:"5 5",label:{value:` ${r}`,position:"right",fill:"#94a3b8",fontSize:10}}),(e==="all"||e==="competition")&&y.jsx(xE,{type:"monotone",dataKey:"competition",stroke:"#6366f1",strokeWidth:2,dot:{fill:"#6366f1",strokeWidth:2,r:4},activeDot:{r:6,fill:"#4f46e5"},connectNulls:!0,name:"competition"}),(e==="all"||e==="practice")&&y.jsx(xE,{type:"monotone",dataKey:"practice",stroke:"#10b981",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,fill:"#059669"},connectNulls:!0,name:"practice"})]})})})};function Ghe(t){const e=new Date(t);return`${e.getMonth()+1}/${e.getDate()}`}const Khe=({records:t,mode:e})=>{const n=w.useMemo(()=>{const i=new Map;return t.forEach(s=>{const l=i.get(s.eventId);if(!l)i.set(s.eventId,{eventId:s.eventId,eventName:s.eventName,competitionBest:s.mode==="competition"?s.score:null,practiceBest:s.mode==="practice"?s.score:null,competitionDate:s.mode==="competition"?s.date:null,practiceDate:s.mode==="practice"?s.date:null,overallBest:s.score,bestMode:s.mode});else{s.mode==="competition"?(l.competitionBest===null||s.score>l.competitionBest)&&(l.competitionBest=s.score,l.competitionDate=s.date):(l.practiceBest===null||s.score>l.practiceBest)&&(l.practiceBest=s.score,l.practiceDate=s.date);const c=l.competitionBest||0,d=l.practiceBest||0;c>=d?(l.overallBest=c,l.bestMode="competition"):(l.overallBest=d,l.bestMode="practice"),i.set(s.eventId,l)}}),Array.from(i.values()).sort((s,l)=>l.overallBest-s.overallBest)},[t]);if(n.length===0)return y.jsx("div",{className:"text-center text-slate-400 py-8",children:" "});const r=i=>{switch(i){case 0:return y.jsx(el,{className:"w-5 h-5 text-amber-500"});case 1:return y.jsx(TE,{className:"w-5 h-5 text-slate-400"});case 2:return y.jsx(UB,{className:"w-5 h-5 text-amber-700"});default:return y.jsx("span",{className:"w-5 h-5 flex items-center justify-center text-slate-400 text-sm",children:i+1})}};return y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"border-b border-slate-200",children:[y.jsx("th",{className:"text-left py-2 px-2 text-slate-500 font-medium w-10",children:"#"}),y.jsx("th",{className:"text-left py-2 px-2 text-slate-500 font-medium",children:""}),(e==="all"||e==="competition")&&y.jsx("th",{className:"text-center py-2 px-2 text-indigo-500 font-medium",children:" "}),(e==="all"||e==="practice")&&y.jsx("th",{className:"text-center py-2 px-2 text-emerald-500 font-medium",children:" "})]})}),y.jsx("tbody",{children:n.map((i,s)=>y.jsxs("tr",{className:`border-b border-slate-100 ${s===0?"bg-amber-50":""}`,children:[y.jsx("td",{className:"py-3 px-2",children:r(s)}),y.jsxs("td",{className:"py-3 px-2 font-medium text-slate-700",children:[i.eventName,i.teamMembers&&y.jsx("span",{className:"text-xs text-slate-400 block",children:""})]}),(e==="all"||e==="competition")&&y.jsx("td",{className:"py-3 px-2 text-center",children:i.competitionBest!==null?y.jsxs("div",{children:[y.jsxs("span",{className:`font-bold ${i.bestMode==="competition"?"text-indigo-600":"text-slate-600"}`,children:[i.competitionBest,""]}),i.competitionDate&&y.jsx("span",{className:"text-xs text-slate-400 block",children:wM(i.competitionDate)})]}):y.jsx("span",{className:"text-slate-300",children:"-"})}),(e==="all"||e==="practice")&&y.jsx("td",{className:"py-3 px-2 text-center",children:i.practiceBest!==null?y.jsxs("div",{children:[y.jsxs("span",{className:`font-bold ${i.bestMode==="practice"?"text-emerald-600":"text-slate-600"}`,children:[i.practiceBest,""]}),i.practiceDate&&y.jsx("span",{className:"text-xs text-slate-400 block",children:wM(i.practiceDate)})]}):y.jsx("span",{className:"text-slate-300",children:"-"})})]},i.eventId))})]})})};function wM(t){const e=new Date(t);return`${e.getMonth()+1}/${e.getDate()}`}const Yhe=({accessCode:t,onBack:e})=>{const[n,r]=w.useState(!0),[i,s]=w.useState(null),[l,c]=w.useState(null),[d,f]=w.useState([]),[m,p]=w.useState(null),[b,_]=w.useState("all");w.useEffect(()=>{(async()=>{r(!0),s(null);try{const N=await h5(t);if(!N||N.records.length===0){s("     .");return}c({studentName:N.studentName,className:N.className,grade:N.grade}),f(N.records);const D=R1(N.records);p(D)}catch(N){console.error("   :",N),s("    .")}finally{r(!1)}})()},[t]);const A=d.filter(S=>b==="all"?!0:S.mode===b),E=b==="all"?m:R1(A);return n?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-slate-100 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),y.jsx("p",{className:"text-slate-600",children:"  ..."})]})}):i?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-slate-100 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(K8,{className:"w-8 h-8 text-red-500"})}),y.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"   "}),y.jsx("p",{className:"text-slate-600 mb-6",children:i}),y.jsx("button",{onClick:e,className:"px-6 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",children:""})]})}):y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-slate-100",children:[y.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:y.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center gap-4",children:[y.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:y.jsx(LB,{className:"w-5 h-5 text-slate-600"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("h1",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(kB,{className:"w-5 h-5 text-indigo-500"}),l==null?void 0:l.studentName,"  "]}),y.jsx("p",{className:"text-sm text-slate-500",children:l==null?void 0:l.className})]}),y.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-mono font-bold",children:t})]})}),y.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[y.jsx("div",{className:"bg-white rounded-xl p-1 shadow-sm flex",children:[{id:"all",label:""},{id:"competition",label:""},{id:"practice",label:""}].map(S=>y.jsx("button",{onClick:()=>_(S.id),className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-all ${b===S.id?"bg-indigo-500 text-white shadow-sm":"text-slate-600 hover:bg-slate-100"}`,children:S.label},S.id))}),y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm text-center",children:[y.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-2",children:y.jsx(el,{className:"w-5 h-5 text-amber-600"})}),y.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[(E==null?void 0:E.bestScore)||0,""]}),y.jsx("p",{className:"text-xs text-slate-500",children:" "})]}),y.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm text-center",children:[y.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:y.jsx(Eh,{className:"w-5 h-5 text-green-600"})}),y.jsx("p",{className:`text-2xl font-bold ${((E==null?void 0:E.growthRate)||0)>0?"text-green-600":((E==null?void 0:E.growthRate)||0)<0?"text-red-600":"text-slate-800"}`,children:E!=null&&E.growthRate?`${E.growthRate>0?"+":""}${E.growthRate}%`:"-"}),y.jsx("p",{className:"text-xs text-slate-500",children:""})]}),y.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm text-center",children:[y.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:y.jsx(Zl,{className:"w-5 h-5 text-blue-600"})}),y.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[A.length,""]}),y.jsx("p",{className:"text-xs text-slate-500",children:" "})]})]}),y.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(Eh,{className:"w-5 h-5 text-indigo-500"})," "]}),y.jsx(Hhe,{records:A,mode:b})]}),y.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(el,{className:"w-5 h-5 text-amber-500"})," "]}),y.jsx(Khe,{records:A,mode:b})]}),y.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(Zl,{className:"w-5 h-5 text-blue-500"})," "]}),A.length===0?y.jsx("p",{className:"text-center text-slate-500 py-8",children:" "}):y.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:A.map((S,N)=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${S.mode==="competition"?"bg-indigo-100 text-indigo-700":"bg-emerald-100 text-emerald-700"}`,children:S.mode==="competition"?"":""}),y.jsx("span",{className:"text-sm text-slate-600",children:S.eventName})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("span",{className:"font-bold text-slate-800",children:[S.score,""]}),y.jsx("span",{className:"text-xs text-slate-400 ml-2",children:S.date})]})]},S.id||N))})]})]})]})};async function Whe(){console.log(`   ...
`);try{console.log(" Step 1:    ...");const t=await Fi(vi(tt,"competitions"));if(t.empty){console.log("   .  .");return}console.log(` ${t.size}  .
`);for(const e of t.docs){const n=e.id,i=e.data().createdBy;if(console.log(`
   : ${n}`),console.log(`  ID: ${i}`),!i){console.log("  createdBy  . .");continue}console.log(`
   (Events)  ...`);const s=Ki(vi(tt,"events"),Vr("competitionId","==",n)),l=await Fi(s);let c=0;for(const _ of l.docs){const A=_.data(),E=ur(tt,"users",i,"events",_.id);await uc(E,A),c++,console.log(`      : ${_.id}`)}console.log(`   ${c}  .`),console.log(`
   (Classes)  ...`);const d=Ki(vi(tt,"classes"),Vr("competitionId","==",n)),f=await Fi(d);let m=0;for(const _ of f.docs){const A=_.data(),E=ur(tt,"users",i,"classes",_.id);await uc(E,A),m++,console.log(`      : ${_.id}`)}console.log(`   ${m}  .`),console.log(`
     (GradeConfigs)  ...`);const p=await Fi(vi(tt,"gradeConfigs"));let b=0;for(const _ of p.docs){const A=_.data();if(_.id.startsWith(n)){const E=ur(tt,"users",i,"gradeConfigs",_.id);await uc(E,A),b++,console.log(`      : ${_.id}`)}}console.log(`   ${b}   .`),console.log(`
  ${n}  !`),console.log(`   - : ${c}`),console.log(`   - : ${m}`),console.log(`   - : ${b}`)}return console.log(`

    !`),console.log(`
   :`),console.log("1.      "),console.log("2.     "),console.log("3.    (/events, /classes, /gradeConfigs)  "),{success:!0}}catch(t){throw console.error(`
    :`,t),t}}typeof window<"u"&&(window.runMigration=Whe,console.log(" runMigration()  ."),console.log("   runMigration() ."));const Xhe=async t=>{const e=JSON.parse(localStorage.getItem("jr_events")||"[]"),n=JSON.parse(localStorage.getItem("jr_classes")||"[]"),r=JSON.parse(localStorage.getItem("jr_grade_configs_v2")||"[]"),i=await zS(t," "),s=Zi(tt);return e.forEach(l=>{const c=ur(tt,"users",t,"events",l.id);s.set(c,{...l,competitionId:i})}),n.forEach(l=>{const c=Object.values(l.results).reduce((f,m)=>f+m.score,0),d=ur(tt,"users",t,"classes",l.id);s.set(d,{...l,competitionId:i,totalScore:c})}),r.forEach(l=>{const c=ur(tt,"users",t,"gradeConfigs",`${i}_${l.grade}`);s.set(c,{...l,competitionId:i})}),await s.commit(),localStorage.setItem("jr_migrated_to_firebase","true"),localStorage.setItem("jr_competition_id",i),i},Qhe=()=>localStorage.getItem("jr_migrated_to_firebase")==="true",Zhe=()=>{const t=localStorage.getItem("jr_events"),e=localStorage.getItem("jr_classes");return!!(t&&e)},Jhe=async(t,e,n,r)=>{const i=[];let s=0;try{const l=new Set(n.map(c=>c.id));for(const c of e){if(!c.results)continue;const d=[];for(const f of Object.keys(c.results))l.has(f)||d.push(f);if(d.length>0){const f={...c.results};d.forEach(b=>{delete f[b],s++,i.push(`${c.name}:  ${b}  `)});const m=ur(tt,"users",t,"classes",c.id),p=Zi(tt);p.update(m,{results:f}),await p.commit()}}return{cleaned:s>0,removedCount:s,details:i}}catch(l){return console.error(" cleanupOrphanedEventRecords :",l),{cleaned:!1,removedCount:0,details:[` : ${l}`]}}};var ka=(t=>(t.GRADE="GRADE",t.SETTINGS="SETTINGS",t))(ka||{});const eme=[{id:"evt_1",name:"",type:"INDIVIDUAL",description:"10 -    "},{id:"evt_2",name:"",type:"INDIVIDUAL",description:"9 -    "},{id:"evt_3",name:"",type:"INDIVIDUAL",description:"8 -    "},{id:"evt_4",name:"",type:"INDIVIDUAL",description:"7 -    "},{id:"evt_5",name:"",type:"INDIVIDUAL",description:"6 -    "},{id:"evt_6",name:"",type:"INDIVIDUAL",description:"5 -     "},{id:"evt_7",name:"",type:"INDIVIDUAL",description:"4 -   X "},{id:"evt_8",name:"",type:"INDIVIDUAL",description:"3 -    "},{id:"evt_9",name:"",type:"INDIVIDUAL",description:"2 -       "},{id:"evt_10",name:"",type:"INDIVIDUAL",description:"1 -  +  "},{id:"evt_11",name:" ",type:"PAIR",description:"2   "},{id:"evt_12",name:" ",type:"PAIR",description:"2   "},{id:"evt_13",name:"",type:"TEAM",description:"      "},{id:"evt_14",name:"8 ",type:"TEAM",description:"8    "},{id:"evt_15",name:"",type:"TEAM",description:"    "}],qw="2.1.0",EM="jr_app_version",tme=()=>{const{user:t,loading:e}=Pc(),[n,r]=w.useState(null),[i,s]=w.useState(!0),[l,c]=w.useState(null),[d,f]=w.useState([]),[m,p]=w.useState([]),[b,_]=w.useState([]),[A,E]=w.useState(ka.GRADE),[S,N]=w.useState(1),[D,O]=w.useState(()=>typeof window<"u"?window.innerWidth<1024:!1),[L,V]=w.useState(!1),[U,P]=w.useState([]),[C,j]=w.useState(null);w.useEffect(()=>{const ee=localStorage.getItem(EM);if(ee!==qw){console.log(`    : ${ee}  ${qw}`),console.log("   ...");const W=localStorage.getItem("jr_competition_id"),F=localStorage.getItem("jr_migrated_to_firebase"),X=localStorage.getItem("jr_privacy_consent");Object.keys(localStorage).forEach(J=>{J.startsWith("jr_")&&localStorage.removeItem(J)}),W&&localStorage.setItem("jr_competition_id",W),F&&localStorage.setItem("jr_migrated_to_firebase",F),X&&localStorage.setItem("jr_privacy_consent",X),localStorage.setItem(EM,qw),console.log("   ")}},[]),w.useEffect(()=>{if(console.log("   , user:",t),!t){console.log(" User , loading false "),s(!1);return}localStorage.setItem("jr_user_id",t.uid),typeof window<"u"&&(window.__currentUserId=t.uid),console.log(" userId :",t.uid),(async()=>{try{console.log(" setLoading(true)"),s(!0);const W=Qhe(),F=Zhe();if(console.log("  :",{hasMigrated:W,hasLocal:F}),!W&&F)if(console.log("  ! confirm  "),confirm("   ?")){console.log("  ");const J=await Xhe(t.uid);console.log("  , compId:",J),r(J),s(!1);return}else console.log("  "),localStorage.setItem("jr_migrated_to_firebase","true");const X=localStorage.getItem("jr_competition_id");if(console.log("   ID:",X),X)console.log("   ID :",X),r(X);else{console.log("    ...");const J=await Q3(t.uid);if(console.log("  :",J),J.length>0)console.log("    :",J[0].id),r(J[0].id),localStorage.setItem("jr_competition_id",J[0].id);else{console.log("    ...");const ce=await zS(t.uid," ");console.log("    :",ce),console.log("    ...");const Ae=Zi(tt);eme.forEach(_e=>{const Ee=ur(tt,"users",t.uid,"events",_e.id);Ae.set(Ee,{..._e,competitionId:ce})}),await Ae.commit(),console.log("    "),r(ce),localStorage.setItem("jr_competition_id",ce)}}}catch(W){console.error(" Competition init error:",W),c("    .")}finally{console.log(" setLoading(false)"),s(!1)}})()},[t]),w.useEffect(()=>{n&&typeof window<"u"&&(window.__currentCompetitionId=n,console.log(" competitionId :",n))},[n]),w.useEffect(()=>{if(console.log(" [App]   useEffect ",{user:t==null?void 0:t.uid,currentCompetitionId:n}),!t||!n){console.log(" [App]    :",{hasUser:!!t,hasCompetitionId:!!n});return}console.log(" [App]   ",{userId:t.uid,competitionId:n});const ee=Z3(t.uid,n,W=>{console.log(" [App]    "),console.log("   -  :",W.length),console.log("   -  :",W.map(F=>`${F.name} (${F.id})`).join(", ")),console.log("   -  :",W),f(W)});return()=>{console.log(" [App]   "),ee()}},[t,n]),w.useEffect(()=>{if(console.log(" [App]   useEffect ",{user:t==null?void 0:t.uid,currentCompetitionId:n,currentGrade:S,currentView:A,viewModeGrade:ka.GRADE}),!t||!n||A!==ka.GRADE){console.log(" [App]    :",{hasUser:!!t,hasCompetitionId:!!n,isGradeView:A===ka.GRADE});return}console.log(" [App]   ",{userId:t.uid,competitionId:n,grade:S});const ee=t5(t.uid,n,S,W=>{console.log(" [App]    ",{classCount:W.length,classes:W}),p(W)});return()=>{console.log(" [App]   "),ee()}},[t,n,S,A]),w.useEffect(()=>{if(!t||!n)return;(async()=>{const W=[];for(let F=1;F<=6;F++){const X=await i5(t.uid,n,F);W.push(X||{grade:F,events:{}})}_(W)})()},[t,n]),w.useEffect(()=>{const W="jr_orphan_cleanup_v1";if(!t||!n||i||m.length===0||d.length===0||b.length===0||sessionStorage.getItem(W)==="done")return;(async()=>{try{const X={};b.forEach(ce=>{X[ce.grade]=ce});const J=await Jhe(t.uid,m,d,X);J.cleaned&&(console.log(`    : ${J.removedCount}  `),J.details.forEach(ce=>console.log(`  - ${ce}`))),sessionStorage.setItem(W,"done")}catch(X){console.error("    :",X)}})()},[t,n,i,m,d,b]),w.useEffect(()=>{if(!L||!t||!n)return;const ee=n5(t.uid,n,W=>{P(W)});return()=>ee()},[L,t,n]);const q=ee=>{N(ee),E(ka.GRADE)},k=()=>{E(ka.SETTINGS)},$=async ee=>{!t||!n||(console.log(" [App.handleUpdateGradeConfig] :",{grade:ee.grade,hasCustomEventsByDate:!!ee.customEventsByDate,customEventsByDateKeys:ee.customEventsByDate?Object.keys(ee.customEventsByDate):[],userId:t.uid,competitionId:n}),await r5(t.uid,n,ee),_(W=>W.map(F=>F.grade===ee.grade?ee:F)))},M=async ee=>{!t||!n||await a5(t.uid,n,ee)},fe=async ee=>{if(!t||!n)return;const W=d.map(ce=>ce.id),F=ee.map(ce=>ce.id),X=W.filter(ce=>!F.includes(ce)),{deleteEvent:J}=await wh(async()=>{const{deleteEvent:ce}=await Promise.resolve().then(()=>Uh);return{deleteEvent:ce}},void 0);for(const ce of X)await J(t.uid,ce);await s5(t.uid,n,ee)},be=async ee=>{if(!t||!n)return;const{addClass:W}=await wh(async()=>{const{addClass:F}=await Promise.resolve().then(()=>Uh);return{addClass:F}},void 0);await W(t.uid,n,ee)},Y=async ee=>{!t||!n||await e5(t.uid,ee)},H=async(ee,W)=>{!t||!n||await J3(t.uid,ee,W)},Q=b.find(ee=>ee.grade===S)||{grade:S,events:{}};return e||i?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto"}),y.jsx("p",{className:"mt-4 text-slate-600",children:" ..."})]})}):t?l?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-red-600",children:l}),y.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})}):C?y.jsx(Yhe,{accessCode:C,onBack:()=>j(null)}):y.jsxs(CX,{children:[y.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[y.jsx(RX,{}),y.jsx(yY,{currentGrade:A===ka.GRADE?S:null,onSelectGrade:q,onSelectSettings:k,isSettingsActive:A===ka.SETTINGS,isCollapsed:D,onToggleCollapse:()=>O(!D),onClassManagementClick:()=>V(!0)}),y.jsx("main",{className:"flex-1 flex flex-col overflow-hidden relative",children:A===ka.SETTINGS?y.jsx(vY,{events:d,onUpdateEvents:fe}):y.jsx(IX,{competitionId:n,userId:t.uid,grade:S,classes:m,events:d,gradeConfig:Q,onUpdateClasses:M,onUpdateConfig:$,onUpdateEvents:fe,onClassManagementClick:()=>V(!0),onShowStudentPage:ee=>j(ee)},S)})]}),L&&n&&y.jsx(DX,{competitionId:n,allClasses:U,onClose:()=>V(!1),onAddClass:be,onDeleteClass:Y,onUpdateStudents:H,onShowStudentRecord:()=>{}})]}):y.jsx(NX,{})},nme=()=>y.jsx(hY,{children:y.jsx(tme,{})}),Vz=document.getElementById("root");if(!Vz)throw new Error("Could not find root element to mount to");const rme=IB.createRoot(Vz);rme.render(y.jsx(qt.StrictMode,{children:y.jsx(nme,{})}));

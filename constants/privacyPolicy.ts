/**
 * 개인정보 처리방침
 * 개인정보보호법 제30조에 따른 개인정보 처리방침 공개
 *
 * 작성일: 2025-01-23
 * 버전: v1.0
 */

export const PRIVACY_POLICY_VERSION = 'v1.0';
export const LAST_UPDATED = '2025년 1월 23일';

// 서비스 운영자 정보
export const SERVICE_OPERATOR = {
  serviceName: '줄넘기 대회 관리 시스템',
  name: '이원근',
  email: 'zoomwk432@gmail.com',
  school: '초등학교',
};

// 개인정보 처리방침 섹션
interface PrivacySection {
  id: string;
  title: string;
  content: string;
}

export const PRIVACY_POLICY_SECTIONS: PrivacySection[] = [
  {
    id: 'purpose',
    title: '1. 개인정보의 수집 및 이용 목적',
    content: `${SERVICE_OPERATOR.serviceName}(이하 "서비스")은 다음의 목적을 위하여 개인정보를 처리합니다. 처리한 개인정보는 다음의 목적 이외의 용도로는 사용되지 않으며, 이용 목적이 변경될 시에는 사전 동의를 구하겠습니다.

가. 교사 회원 관리
   • 로그인 인증 및 회원 식별
   • 학급 및 팀 관리 기능 제공
   • 대회 운영 및 기록 관리
   • 서비스 이용에 관한 안내 및 문의 응대

나. 학생 기록 관리
   • 체육 활동 기록 저장 및 조회
   • 개인별 통계 및 성과 관리
   • 학급 내 랭킹 및 성취도 관리`,
  },
  {
    id: 'items',
    title: '2. 수집하는 개인정보의 항목',
    content: `가. 교사 (Google 로그인)
   • 필수 항목: 이메일 주소, Google 고유 식별자(UID), 이름, 프로필 사진
   • 자동 수집 항목: 로그인 일시, IP 주소, 브라우저 정보

나. 학생
   • 필수 항목: 이름, 학년, 반, 성별
   • 활동 기록: 종목별 참여 기록 및 순위`,
  },
  {
    id: 'retention',
    title: '3. 개인정보의 보유 및 이용 기간',
    content: `교사 및 학생의 개인정보는 다음과 같이 처리됩니다:

가. 보유 기간
   • 교사: 회원 탈퇴 시까지
   • 학생: 교사가 학생 정보를 삭제할 때까지

나. 즉시 파기하는 경우
   • 교사가 계정 삭제를 요청한 경우
   • 학생 정보 삭제를 교사가 요청한 경우
   • 서비스가 종료된 경우
   • 개인정보의 수집 및 이용 목적이 달성된 경우

다. 예외 사항
   관계 법령에 의해 보존할 필요가 있는 경우 해당 기간 동안 보관합니다:
   • 소비자의 불만 또는 분쟁처리에 관한 기록: 3년 (전자상거래법)
   • 서비스 이용 기록, 접속 로그: 3개월 (통신비밀보호법)`,
  },
  {
    id: 'third-party',
    title: '4. 개인정보의 제3자 제공',
    content: `본 서비스는 원칙적으로 이용자의 개인정보를 제3자에게 제공하지 않습니다.

다만, 다음의 경우 예외로 합니다:
   • 이용자가 사전에 동의한 경우
   • 법령의 규정에 의거하거나, 수사 목적으로 법령에 정해진 절차와 방법에 따라 수사기관의 요구가 있는 경우

※ 현재 제3자 제공 사례: 없음`,
  },
  {
    id: 'consignment',
    title: '5. 개인정보 처리 위탁',
    content: `본 서비스는 원활한 서비스 제공을 위해 다음과 같이 개인정보 처리 업무를 위탁하고 있습니다:

┌─────────────────────────────────────────────┐
│ 수탁업체: Google LLC (미국)                   │
│ 위탁업무: Firebase 클라우드 호스팅 및 인증    │
│ 보유기간: 회원 탈퇴 시 또는 위탁 계약 종료 시 │
└─────────────────────────────────────────────┘

위탁업무의 내용이나 수탁자가 변경될 경우에는 지체없이 본 개인정보 처리방침을 통하여 공개하겠습니다.`,
  },
  {
    id: 'rights',
    title: '6. 정보주체의 권리·의무 및 행사방법',
    content: `이용자는 언제든지 다음의 권리를 행사할 수 있습니다:

가. 개인정보 열람 요구
나. 개인정보 정정·삭제 요구
다. 개인정보 처리 정지 요구
라. 개인정보 이동 요구 (데이터 다운로드)

권리 행사 방법:
   • 서비스 내 설정 메뉴를 통한 직접 처리
   • 개인정보 보호책임자에게 서면, 전화, 이메일로 연락

※ 개인정보의 정정 및 삭제를 요구한 경우, 정정 또는 삭제가 완료될 때까지 해당 개인정보를 이용하거나 제공하지 않습니다.`,
  },
  {
    id: 'security',
    title: '7. 개인정보의 안전성 확보 조치',
    content: `본 서비스는 개인정보보호법 제29조에 따라 다음과 같이 안전성 확보에 필요한 기술적·관리적 조치를 하고 있습니다:

가. 기술적 조치
   • 개인정보 암호화: 데이터 전송 시 HTTPS(SSL/TLS) 암호화 통신 사용
   • 접근권한 관리: Firestore Security Rules를 통한 데이터 접근 제한
   • 데이터베이스 보안: Google Cloud Platform의 보안 인프라 활용
   • 정기적 백업: Firebase 자동 백업 시스템을 통한 데이터 손실 방지
   • 인증 보안: Firebase Authentication을 통한 안전한 로그인 관리

나. 관리적 조치
   • 개인정보 처리 담당자 최소화 및 교육
   • 정기적인 보안 점검 및 업데이트
   • 개인정보 처리 시스템 접근 기록 보관 및 점검

다. 물리적 조치
   • 클라우드 기반 서비스로 물리적 서버는 Google Cloud Platform 데이터센터에서 관리`,
  },
  {
    id: 'cookies',
    title: '8. 개인정보 자동 수집 장치의 설치·운영 및 거부',
    content: `가. 쿠키(Cookie) 사용
   본 서비스는 전통적인 쿠키를 사용하지 않습니다.

나. 로컬 스토리지(Local Storage) 사용
   • 사용 목적: 로그인 세션 유지, 사용자 설정 저장
   • 저장 정보: Firebase 인증 토큰, 사용자 선호 설정
   • 거부 방법: 브라우저 설정에서 로컬 스토리지를 거부할 수 있으나, 이 경우 서비스 이용이 제한될 수 있습니다.

다. 접속 정보 수집
   • 수집 항목: IP 주소, 브라우저 종류, 접속 일시
   • 수집 목적: 보안, 서비스 개선, 통계 분석`,
  },
  {
    id: 'manager',
    title: '9. 개인정보 보호책임자',
    content: `본 서비스는 개인정보 처리에 관한 업무를 총괄해서 책임지고, 개인정보 처리와 관련한 정보주체의 불만처리 및 피해구제를 위하여 아래와 같이 개인정보 보호책임자를 지정하고 있습니다:

▶ 개인정보 보호책임자
   • 성명: ${SERVICE_OPERATOR.name}
   • 소속: ${SERVICE_OPERATOR.school}
   • 이메일: ${SERVICE_OPERATOR.email}

※ 개인정보 침해에 대한 신고나 상담이 필요한 경우 아래 기관에 문의하실 수 있습니다:
   • 개인정보침해신고센터 (privacy.kisa.or.kr / 국번없이 118)
   • 개인정보분쟁조정위원회 (www.kopico.go.kr / 1833-6972)
   • 대검찰청 사이버수사과 (www.spo.go.kr / 국번없이 1301)
   • 경찰청 사이버안전국 (cyberbureau.police.go.kr / 국번없이 182)`,
  },
  {
    id: 'changes',
    title: '10. 개인정보 처리방침의 변경',
    content: `이 개인정보 처리방침은 ${LAST_UPDATED}부터 적용되며, 법령 및 방침에 따른 변경 내용의 추가, 삭제 및 정정이 있는 경우에는 변경사항 시행 7일 전부터 서비스 내 공지사항을 통하여 고지할 것입니다.

다만, 수집하는 개인정보의 항목, 이용 목적의 변경 등과 같이 이용자 권리의 중대한 변경이 발생할 때에는 최소 30일 전에 고지하며, 필요 시 이용자 동의를 다시 받을 수 있습니다.

▶ 공고 일자: ${LAST_UPDATED}
▶ 시행 일자: ${LAST_UPDATED}`,
  },
];

// 간단 요약
export const PRIVACY_POLICY_SUMMARY = `
본 서비스는 체육 수업 운영을 위해 최소한의 개인정보(이름, 이메일, 활동 기록)를 수집합니다.
수집된 정보는 교육 목적으로만 사용되며, 회원 탈퇴 시 즉시 삭제됩니다.
`;

// 필수 동의 항목
interface ConsentItem {
  id: string;
  label: string;
  required: boolean;
}

export const REQUIRED_CONSENTS: ConsentItem[] = [
  {
    id: 'terms',
    label: '서비스 이용약관에 동의합니다',
    required: true,
  },
  {
    id: 'privacy',
    label: '개인정보 수집 및 이용에 동의합니다',
    required: true,
  },
];

// 선택 동의 항목
export const OPTIONAL_CONSENTS: ConsentItem[] = [];
